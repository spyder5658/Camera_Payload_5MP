ARM GAS  /tmp/ccUODzHK.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text._write,"ax",%progbits
  16              		.align	1
  17              		.global	_write
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	_write:
  25              	.LVL0:
  26              	.LFB68:
  27              		.file 1 "Core/Src/main.c"
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   * @date           : 04-07-2025
   7:Core/Src/main.c ****   * @author         : Sarthak Chaudhary
   8:Core/Src/main.c ****   ******************************************************************************
   9:Core/Src/main.c ****   * @attention
  10:Core/Src/main.c ****   *
  11:Core/Src/main.c ****   * Copyright (c) 2025 STMicroelectronics.
  12:Core/Src/main.c ****   * All rights reserved.
  13:Core/Src/main.c ****   *
  14:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  15:Core/Src/main.c ****   * in the root directory of this software component.
  16:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  17:Core/Src/main.c ****   *
  18:Core/Src/main.c ****   ******************************************************************************
  19:Core/Src/main.c ****   */
  20:Core/Src/main.c **** /* USER CODE END Header */
  21:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  22:Core/Src/main.c **** #include "main.h"
  23:Core/Src/main.c **** #include "i2c.h"
  24:Core/Src/main.c **** #include "usart.h"
  25:Core/Src/main.c **** #include "gpio.h"
  26:Core/Src/main.c **** 
  27:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  28:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  29:Core/Src/main.c **** #include <stdio.h>
  30:Core/Src/main.c **** #include <inttypes.h>
  31:Core/Src/main.c **** int _write(int file, char *data, int len) {
ARM GAS  /tmp/ccUODzHK.s 			page 2


  28              		.loc 1 31 43 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 31 43 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 1446     		mov	r4, r2
  32:Core/Src/main.c ****     HAL_UART_Transmit(&huart1, (uint8_t*)data, len, HAL_MAX_DELAY);
  39              		.loc 1 32 5 is_stmt 1 view .LVU2
  40 0004 4FF0FF33 		mov	r3, #-1
  41 0008 92B2     		uxth	r2, r2
  42              	.LVL1:
  43              		.loc 1 32 5 is_stmt 0 view .LVU3
  44 000a 0248     		ldr	r0, .L3
  45              	.LVL2:
  46              		.loc 1 32 5 view .LVU4
  47 000c FFF7FEFF 		bl	HAL_UART_Transmit
  48              	.LVL3:
  33:Core/Src/main.c ****     return len;
  49              		.loc 1 33 5 is_stmt 1 view .LVU5
  34:Core/Src/main.c **** }
  50              		.loc 1 34 1 is_stmt 0 view .LVU6
  51 0010 2046     		mov	r0, r4
  52 0012 10BD     		pop	{r4, pc}
  53              	.LVL4:
  54              	.L4:
  55              		.loc 1 34 1 view .LVU7
  56              		.align	2
  57              	.L3:
  58 0014 00000000 		.word	huart1
  59              		.cfi_endproc
  60              	.LFE68:
  62              		.section	.rodata.request_image_capture.str1.4,"aMS",%progbits,1
  63              		.align	2
  64              	.LC0:
  65 0000 496D6167 		.ascii	"Image capture command sent.\015\000"
  65      65206361 
  65      70747572 
  65      6520636F 
  65      6D6D616E 
  66 001d 000000   		.align	2
  67              	.LC1:
  68 0020 4661696C 		.ascii	"Failed to send image capture command.\015\000"
  68      65642074 
  68      6F207365 
  68      6E642069 
  68      6D616765 
  69              		.section	.text.request_image_capture,"ax",%progbits
  70              		.align	1
  71              		.global	request_image_capture
  72              		.syntax unified
  73              		.thumb
  74              		.thumb_func
ARM GAS  /tmp/ccUODzHK.s 			page 3


  75              		.fpu softvfp
  77              	request_image_capture:
  78              	.LFB69:
  35:Core/Src/main.c **** /* USER CODE END Includes */
  36:Core/Src/main.c **** 
  37:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  38:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  39:Core/Src/main.c **** 
  40:Core/Src/main.c **** #define SSDV_SLAVE_ADDR (0x12<<1)
  41:Core/Src/main.c **** 
  42:Core/Src/main.c **** 
  43:Core/Src/main.c **** // uint8_t SSDV_Buffer[SSDV_PKT_SIZE];      // Buffer to hold each received packet
  44:Core/Src/main.c **** 
  45:Core/Src/main.c **** 
  46:Core/Src/main.c **** #define SSDV_PKT_SIZE       224
  47:Core/Src/main.c **** #define SSDV_MAX_PACKETS    255
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** uint32_t last_i2c_activity = 0; // ⬅️ Added for timeout tracking
  50:Core/Src/main.c **** 
  51:Core/Src/main.c **** 
  52:Core/Src/main.c **** void request_image_capture() {
  79              		.loc 1 52 30 is_stmt 1 view -0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 8
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  83 0000 00B5     		push	{lr}
  84              	.LCFI1:
  85              		.cfi_def_cfa_offset 4
  86              		.cfi_offset 14, -4
  87 0002 85B0     		sub	sp, sp, #20
  88              	.LCFI2:
  89              		.cfi_def_cfa_offset 24
  53:Core/Src/main.c ****      last_i2c_activity = HAL_GetTick();
  90              		.loc 1 53 6 view .LVU9
  91              		.loc 1 53 26 is_stmt 0 view .LVU10
  92 0004 FFF7FEFF 		bl	HAL_GetTick
  93              	.LVL5:
  94              		.loc 1 53 24 view .LVU11
  95 0008 0C4B     		ldr	r3, .L9
  96 000a 1860     		str	r0, [r3]
  54:Core/Src/main.c ****     uint8_t cmd[2] = {0x10,0};
  97              		.loc 1 54 5 is_stmt 1 view .LVU12
  98              		.loc 1 54 13 is_stmt 0 view .LVU13
  99 000c 1023     		movs	r3, #16
 100 000e ADF80C30 		strh	r3, [sp, #12]	@ movhi
  55:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 101              		.loc 1 55 5 is_stmt 1 view .LVU14
 102              		.loc 1 55 9 is_stmt 0 view .LVU15
 103 0012 4FF0FF33 		mov	r3, #-1
 104 0016 0093     		str	r3, [sp]
 105 0018 0223     		movs	r3, #2
 106 001a 03AA     		add	r2, sp, #12
 107 001c 2421     		movs	r1, #36
 108 001e 0848     		ldr	r0, .L9+4
 109 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 110              	.LVL6:
 111              		.loc 1 55 8 view .LVU16
ARM GAS  /tmp/ccUODzHK.s 			page 4


 112 0024 28B9     		cbnz	r0, .L6
  56:Core/Src/main.c ****         printf("Image capture command sent.\r\n");
 113              		.loc 1 56 9 is_stmt 1 view .LVU17
 114 0026 0748     		ldr	r0, .L9+8
 115 0028 FFF7FEFF 		bl	puts
 116              	.LVL7:
 117              	.L5:
  57:Core/Src/main.c ****     } else {
  58:Core/Src/main.c ****         printf("Failed to send image capture command.\r\n");
  59:Core/Src/main.c ****     }
  60:Core/Src/main.c **** }
 118              		.loc 1 60 1 is_stmt 0 view .LVU18
 119 002c 05B0     		add	sp, sp, #20
 120              	.LCFI3:
 121              		.cfi_remember_state
 122              		.cfi_def_cfa_offset 4
 123              		@ sp needed
 124 002e 5DF804FB 		ldr	pc, [sp], #4
 125              	.L6:
 126              	.LCFI4:
 127              		.cfi_restore_state
  58:Core/Src/main.c ****     }
 128              		.loc 1 58 9 is_stmt 1 view .LVU19
 129 0032 0548     		ldr	r0, .L9+12
 130 0034 FFF7FEFF 		bl	puts
 131              	.LVL8:
 132              		.loc 1 60 1 is_stmt 0 view .LVU20
 133 0038 F8E7     		b	.L5
 134              	.L10:
 135 003a 00BF     		.align	2
 136              	.L9:
 137 003c 00000000 		.word	.LANCHOR0
 138 0040 00000000 		.word	hi2c2
 139 0044 00000000 		.word	.LC0
 140 0048 20000000 		.word	.LC1
 141              		.cfi_endproc
 142              	.LFE69:
 144              		.section	.rodata.request_prestored.str1.4,"aMS",%progbits,1
 145              		.align	2
 146              	.LC2:
 147 0000 70726573 		.ascii	"prestored command sent.\015\000"
 147      746F7265 
 147      6420636F 
 147      6D6D616E 
 147      64207365 
 148 0019 000000   		.align	2
 149              	.LC3:
 150 001c 4661696C 		.ascii	"Failed to send prestored command.\015\000"
 150      65642074 
 150      6F207365 
 150      6E642070 
 150      72657374 
 151              		.section	.text.request_prestored,"ax",%progbits
 152              		.align	1
 153              		.global	request_prestored
 154              		.syntax unified
 155              		.thumb
ARM GAS  /tmp/ccUODzHK.s 			page 5


 156              		.thumb_func
 157              		.fpu softvfp
 159              	request_prestored:
 160              	.LFB70:
  61:Core/Src/main.c **** 
  62:Core/Src/main.c **** void request_prestored() {
 161              		.loc 1 62 26 is_stmt 1 view -0
 162              		.cfi_startproc
 163              		@ args = 0, pretend = 0, frame = 8
 164              		@ frame_needed = 0, uses_anonymous_args = 0
 165 0000 00B5     		push	{lr}
 166              	.LCFI5:
 167              		.cfi_def_cfa_offset 4
 168              		.cfi_offset 14, -4
 169 0002 85B0     		sub	sp, sp, #20
 170              	.LCFI6:
 171              		.cfi_def_cfa_offset 24
  63:Core/Src/main.c ****      last_i2c_activity = HAL_GetTick();
 172              		.loc 1 63 6 view .LVU22
 173              		.loc 1 63 26 is_stmt 0 view .LVU23
 174 0004 FFF7FEFF 		bl	HAL_GetTick
 175              	.LVL9:
 176              		.loc 1 63 24 view .LVU24
 177 0008 0C4B     		ldr	r3, .L15
 178 000a 1860     		str	r0, [r3]
  64:Core/Src/main.c ****     uint8_t cmd[2] = {0x90,0};
 179              		.loc 1 64 5 is_stmt 1 view .LVU25
 180              		.loc 1 64 13 is_stmt 0 view .LVU26
 181 000c 9023     		movs	r3, #144
 182 000e ADF80C30 		strh	r3, [sp, #12]	@ movhi
  65:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 183              		.loc 1 65 5 is_stmt 1 view .LVU27
 184              		.loc 1 65 9 is_stmt 0 view .LVU28
 185 0012 4FF0FF33 		mov	r3, #-1
 186 0016 0093     		str	r3, [sp]
 187 0018 0223     		movs	r3, #2
 188 001a 03AA     		add	r2, sp, #12
 189 001c 2421     		movs	r1, #36
 190 001e 0848     		ldr	r0, .L15+4
 191 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 192              	.LVL10:
 193              		.loc 1 65 8 view .LVU29
 194 0024 28B9     		cbnz	r0, .L12
  66:Core/Src/main.c ****         printf("prestored command sent.\r\n");
 195              		.loc 1 66 9 is_stmt 1 view .LVU30
 196 0026 0748     		ldr	r0, .L15+8
 197 0028 FFF7FEFF 		bl	puts
 198              	.LVL11:
 199              	.L11:
  67:Core/Src/main.c ****     } else {
  68:Core/Src/main.c ****         printf("Failed to send prestored command.\r\n");
  69:Core/Src/main.c ****     }
  70:Core/Src/main.c **** }
 200              		.loc 1 70 1 is_stmt 0 view .LVU31
 201 002c 05B0     		add	sp, sp, #20
 202              	.LCFI7:
 203              		.cfi_remember_state
ARM GAS  /tmp/ccUODzHK.s 			page 6


 204              		.cfi_def_cfa_offset 4
 205              		@ sp needed
 206 002e 5DF804FB 		ldr	pc, [sp], #4
 207              	.L12:
 208              	.LCFI8:
 209              		.cfi_restore_state
  68:Core/Src/main.c ****     }
 210              		.loc 1 68 9 is_stmt 1 view .LVU32
 211 0032 0548     		ldr	r0, .L15+12
 212 0034 FFF7FEFF 		bl	puts
 213              	.LVL12:
 214              		.loc 1 70 1 is_stmt 0 view .LVU33
 215 0038 F8E7     		b	.L11
 216              	.L16:
 217 003a 00BF     		.align	2
 218              	.L15:
 219 003c 00000000 		.word	.LANCHOR0
 220 0040 00000000 		.word	hi2c2
 221 0044 00000000 		.word	.LC2
 222 0048 1C000000 		.word	.LC3
 223              		.cfi_endproc
 224              	.LFE70:
 226              		.section	.rodata.request_ssdv_stream.str1.4,"aMS",%progbits,1
 227              		.align	2
 228              	.LC4:
 229 0000 53534456 		.ascii	"SSDV stream command sent.\015\000"
 229      20737472 
 229      65616D20 
 229      636F6D6D 
 229      616E6420 
 230 001b 00       		.align	2
 231              	.LC5:
 232 001c 4661696C 		.ascii	"Failed to send SSDV stream command.\015\000"
 232      65642074 
 232      6F207365 
 232      6E642053 
 232      53445620 
 233              		.section	.text.request_ssdv_stream,"ax",%progbits
 234              		.align	1
 235              		.global	request_ssdv_stream
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 239              		.fpu softvfp
 241              	request_ssdv_stream:
 242              	.LFB71:
  71:Core/Src/main.c **** 
  72:Core/Src/main.c **** void request_ssdv_stream() {
 243              		.loc 1 72 28 is_stmt 1 view -0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 8
 246              		@ frame_needed = 0, uses_anonymous_args = 0
 247 0000 00B5     		push	{lr}
 248              	.LCFI9:
 249              		.cfi_def_cfa_offset 4
 250              		.cfi_offset 14, -4
 251 0002 85B0     		sub	sp, sp, #20
ARM GAS  /tmp/ccUODzHK.s 			page 7


 252              	.LCFI10:
 253              		.cfi_def_cfa_offset 24
  73:Core/Src/main.c ****     uint8_t cmd[2] = {0x20,0};
 254              		.loc 1 73 5 view .LVU35
 255              		.loc 1 73 13 is_stmt 0 view .LVU36
 256 0004 2023     		movs	r3, #32
 257 0006 ADF80C30 		strh	r3, [sp, #12]	@ movhi
  74:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 258              		.loc 1 74 5 is_stmt 1 view .LVU37
 259              		.loc 1 74 9 is_stmt 0 view .LVU38
 260 000a 4FF0FF33 		mov	r3, #-1
 261 000e 0093     		str	r3, [sp]
 262 0010 0223     		movs	r3, #2
 263 0012 03AA     		add	r2, sp, #12
 264 0014 2421     		movs	r1, #36
 265 0016 0748     		ldr	r0, .L21
 266 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 267              	.LVL13:
 268              		.loc 1 74 8 view .LVU39
 269 001c 28B9     		cbnz	r0, .L18
  75:Core/Src/main.c ****         printf("SSDV stream command sent.\r\n");
 270              		.loc 1 75 9 is_stmt 1 view .LVU40
 271 001e 0648     		ldr	r0, .L21+4
 272 0020 FFF7FEFF 		bl	puts
 273              	.LVL14:
 274              	.L17:
  76:Core/Src/main.c ****     } else {
  77:Core/Src/main.c ****         printf("Failed to send SSDV stream command.\r\n");
  78:Core/Src/main.c ****     }
  79:Core/Src/main.c **** }
 275              		.loc 1 79 1 is_stmt 0 view .LVU41
 276 0024 05B0     		add	sp, sp, #20
 277              	.LCFI11:
 278              		.cfi_remember_state
 279              		.cfi_def_cfa_offset 4
 280              		@ sp needed
 281 0026 5DF804FB 		ldr	pc, [sp], #4
 282              	.L18:
 283              	.LCFI12:
 284              		.cfi_restore_state
  77:Core/Src/main.c ****     }
 285              		.loc 1 77 9 is_stmt 1 view .LVU42
 286 002a 0448     		ldr	r0, .L21+8
 287 002c FFF7FEFF 		bl	puts
 288              	.LVL15:
 289              		.loc 1 79 1 is_stmt 0 view .LVU43
 290 0030 F8E7     		b	.L17
 291              	.L22:
 292 0032 00BF     		.align	2
 293              	.L21:
 294 0034 00000000 		.word	hi2c2
 295 0038 00000000 		.word	.LC4
 296 003c 1C000000 		.word	.LC5
 297              		.cfi_endproc
 298              	.LFE71:
 300              		.section	.rodata.read_ssdv_stream.str1.4,"aMS",%progbits,1
 301              		.align	2
ARM GAS  /tmp/ccUODzHK.s 			page 8


 302              	.LC6:
 303 0000 4572726F 		.ascii	"Error receiving packet %d\015\012\000"
 303      72207265 
 303      63656976 
 303      696E6720 
 303      7061636B 
 304              		.align	2
 305              	.LC7:
 306 001c 456E6420 		.ascii	"End of SSDV stream reached.\015\000"
 306      6F662053 
 306      53445620 
 306      73747265 
 306      616D2072 
 307 0039 000000   		.align	2
 308              	.LC8:
 309 003c 5061636B 		.ascii	"Packet %d received:\012\000"
 309      65742025 
 309      64207265 
 309      63656976 
 309      65643A0A 
 310 0051 000000   		.align	2
 311              	.LC9:
 312 0054 30782530 		.ascii	"0x%02X, \000"
 312      32582C20 
 312      00
 313 005d 000000   		.align	2
 314              	.LC10:
 315 0060 0A2D2D2D 		.ascii	"\012-----------------------------\000"
 315      2D2D2D2D 
 315      2D2D2D2D 
 315      2D2D2D2D 
 315      2D2D2D2D 
 316 007f 00       		.align	2
 317              	.LC11:
 318 0080 4D617820 		.ascii	"Max SSDV packet limit reached.\015\000"
 318      53534456 
 318      20706163 
 318      6B657420 
 318      6C696D69 
 319              		.section	.text.read_ssdv_stream,"ax",%progbits
 320              		.align	1
 321              		.global	read_ssdv_stream
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu softvfp
 327              	read_ssdv_stream:
 328              	.LFB72:
  80:Core/Src/main.c **** 
  81:Core/Src/main.c **** void read_ssdv_stream() {
 329              		.loc 1 81 25 is_stmt 1 view -0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 224
 332              		@ frame_needed = 0, uses_anonymous_args = 0
 333 0000 30B5     		push	{r4, r5, lr}
 334              	.LCFI13:
 335              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccUODzHK.s 			page 9


 336              		.cfi_offset 4, -12
 337              		.cfi_offset 5, -8
 338              		.cfi_offset 14, -4
 339 0002 BBB0     		sub	sp, sp, #236
 340              	.LCFI14:
 341              		.cfi_def_cfa_offset 248
  82:Core/Src/main.c ****      last_i2c_activity = HAL_GetTick();
 342              		.loc 1 82 6 view .LVU45
 343              		.loc 1 82 26 is_stmt 0 view .LVU46
 344 0004 FFF7FEFF 		bl	HAL_GetTick
 345              	.LVL16:
 346              		.loc 1 82 24 view .LVU47
 347 0008 1F4B     		ldr	r3, .L36
 348 000a 1860     		str	r0, [r3]
  83:Core/Src/main.c ****     uint8_t ssdv_pkt[SSDV_PKT_SIZE];
 349              		.loc 1 83 5 is_stmt 1 view .LVU48
  84:Core/Src/main.c ****     uint16_t packet_index = 0;
 350              		.loc 1 84 5 view .LVU49
 351              	.LVL17:
 352              		.loc 1 84 14 is_stmt 0 view .LVU50
 353 000c 0025     		movs	r5, #0
 354 000e 10E0     		b	.L30
 355              	.LVL18:
 356              	.L33:
  85:Core/Src/main.c **** 
  86:Core/Src/main.c ****     while (1) {
  87:Core/Src/main.c ****         if (HAL_I2C_Master_Receive(&hi2c2, SSDV_SLAVE_ADDR, ssdv_pkt, SSDV_PKT_SIZE, HAL_MAX_DELAY)
  88:Core/Src/main.c ****             printf("Error receiving packet %d\r\n", packet_index);
 357              		.loc 1 88 13 is_stmt 1 view .LVU51
 358 0010 2946     		mov	r1, r5
 359 0012 1E48     		ldr	r0, .L36+4
 360 0014 FFF7FEFF 		bl	printf
 361              	.LVL19:
  89:Core/Src/main.c ****             break;
 362              		.loc 1 89 13 view .LVU52
 363              	.L23:
  90:Core/Src/main.c ****         }
  91:Core/Src/main.c **** 
  92:Core/Src/main.c ****         // Stop when dummy packet 0xFF is received
  93:Core/Src/main.c ****         if (ssdv_pkt[0] == 0xFF) {
  94:Core/Src/main.c ****             printf("End of SSDV stream reached.\r\n");
  95:Core/Src/main.c ****             break;
  96:Core/Src/main.c ****         }
  97:Core/Src/main.c **** 
  98:Core/Src/main.c ****         // Print packet content (optional)
  99:Core/Src/main.c ****         printf("Packet %d received:\n", packet_index);
 100:Core/Src/main.c ****         for (int i = 0; i < SSDV_PKT_SIZE; i++) {
 101:Core/Src/main.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 102:Core/Src/main.c ****             if ((i + 1) % 16 == 0) printf("\n");
 103:Core/Src/main.c ****         }
 104:Core/Src/main.c ****         printf("\n-----------------------------\n");
 105:Core/Src/main.c **** 
 106:Core/Src/main.c ****         packet_index++;
 107:Core/Src/main.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 108:Core/Src/main.c ****             printf("Max SSDV packet limit reached.\r\n");
 109:Core/Src/main.c ****             break;
 110:Core/Src/main.c ****         }
ARM GAS  /tmp/ccUODzHK.s 			page 10


 111:Core/Src/main.c ****     }
 112:Core/Src/main.c **** }
 364              		.loc 1 112 1 is_stmt 0 view .LVU53
 365 0018 3BB0     		add	sp, sp, #236
 366              	.LCFI15:
 367              		.cfi_remember_state
 368              		.cfi_def_cfa_offset 12
 369              		@ sp needed
 370 001a 30BD     		pop	{r4, r5, pc}
 371              	.LVL20:
 372              	.L34:
 373              	.LCFI16:
 374              		.cfi_restore_state
  94:Core/Src/main.c ****             break;
 375              		.loc 1 94 13 is_stmt 1 view .LVU54
 376 001c 1C48     		ldr	r0, .L36+8
 377 001e FFF7FEFF 		bl	puts
 378              	.LVL21:
  95:Core/Src/main.c ****         }
 379              		.loc 1 95 13 view .LVU55
 380 0022 F9E7     		b	.L23
 381              	.LVL22:
 382              	.L35:
 104:Core/Src/main.c **** 
 383              		.loc 1 104 9 view .LVU56
 384 0024 1B48     		ldr	r0, .L36+12
 385 0026 FFF7FEFF 		bl	puts
 386              	.LVL23:
 106:Core/Src/main.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 387              		.loc 1 106 9 view .LVU57
 106:Core/Src/main.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 388              		.loc 1 106 21 is_stmt 0 view .LVU58
 389 002a 0135     		adds	r5, r5, #1
 390              	.LVL24:
 106:Core/Src/main.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 391              		.loc 1 106 21 view .LVU59
 392 002c ADB2     		uxth	r5, r5
 393              	.LVL25:
 107:Core/Src/main.c ****             printf("Max SSDV packet limit reached.\r\n");
 394              		.loc 1 107 9 is_stmt 1 view .LVU60
 107:Core/Src/main.c ****             printf("Max SSDV packet limit reached.\r\n");
 395              		.loc 1 107 12 is_stmt 0 view .LVU61
 396 002e FE2D     		cmp	r5, #254
 397 0030 25D8     		bhi	.L32
 398              	.LVL26:
 399              	.L30:
  86:Core/Src/main.c ****         if (HAL_I2C_Master_Receive(&hi2c2, SSDV_SLAVE_ADDR, ssdv_pkt, SSDV_PKT_SIZE, HAL_MAX_DELAY)
 400              		.loc 1 86 5 is_stmt 1 view .LVU62
  87:Core/Src/main.c ****             printf("Error receiving packet %d\r\n", packet_index);
 401              		.loc 1 87 9 view .LVU63
  87:Core/Src/main.c ****             printf("Error receiving packet %d\r\n", packet_index);
 402              		.loc 1 87 13 is_stmt 0 view .LVU64
 403 0032 4FF0FF33 		mov	r3, #-1
 404 0036 0093     		str	r3, [sp]
 405 0038 E023     		movs	r3, #224
 406 003a 02AA     		add	r2, sp, #8
 407 003c 2421     		movs	r1, #36
ARM GAS  /tmp/ccUODzHK.s 			page 11


 408 003e 1648     		ldr	r0, .L36+16
 409 0040 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 410              	.LVL27:
  87:Core/Src/main.c ****             printf("Error receiving packet %d\r\n", packet_index);
 411              		.loc 1 87 12 view .LVU65
 412 0044 0028     		cmp	r0, #0
 413 0046 E3D1     		bne	.L33
  93:Core/Src/main.c ****             printf("End of SSDV stream reached.\r\n");
 414              		.loc 1 93 9 is_stmt 1 view .LVU66
  93:Core/Src/main.c ****             printf("End of SSDV stream reached.\r\n");
 415              		.loc 1 93 21 is_stmt 0 view .LVU67
 416 0048 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
  93:Core/Src/main.c ****             printf("End of SSDV stream reached.\r\n");
 417              		.loc 1 93 12 view .LVU68
 418 004c FF2B     		cmp	r3, #255
 419 004e E5D0     		beq	.L34
  99:Core/Src/main.c ****         for (int i = 0; i < SSDV_PKT_SIZE; i++) {
 420              		.loc 1 99 9 is_stmt 1 view .LVU69
 421 0050 2946     		mov	r1, r5
 422 0052 1248     		ldr	r0, .L36+20
 423 0054 FFF7FEFF 		bl	printf
 424              	.LVL28:
 100:Core/Src/main.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 425              		.loc 1 100 9 view .LVU70
 426              	.LBB4:
 100:Core/Src/main.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 427              		.loc 1 100 14 view .LVU71
 100:Core/Src/main.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 428              		.loc 1 100 18 is_stmt 0 view .LVU72
 429 0058 0024     		movs	r4, #0
 430              	.LVL29:
 431              	.L27:
 100:Core/Src/main.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 432              		.loc 1 100 25 is_stmt 1 discriminator 1 view .LVU73
 100:Core/Src/main.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 433              		.loc 1 100 9 is_stmt 0 discriminator 1 view .LVU74
 434 005a DF2C     		cmp	r4, #223
 435 005c E2DC     		bgt	.L35
 101:Core/Src/main.c ****             if ((i + 1) % 16 == 0) printf("\n");
 436              		.loc 1 101 13 is_stmt 1 view .LVU75
 101:Core/Src/main.c ****             if ((i + 1) % 16 == 0) printf("\n");
 437              		.loc 1 101 40 is_stmt 0 view .LVU76
 438 005e 04F1E803 		add	r3, r4, #232
 439 0062 6B44     		add	r3, sp, r3
 101:Core/Src/main.c ****             if ((i + 1) % 16 == 0) printf("\n");
 440              		.loc 1 101 13 view .LVU77
 441 0064 13F8E01C 		ldrb	r1, [r3, #-224]	@ zero_extendqisi2
 442 0068 0D48     		ldr	r0, .L36+24
 443 006a FFF7FEFF 		bl	printf
 444              	.LVL30:
 102:Core/Src/main.c ****         }
 445              		.loc 1 102 13 is_stmt 1 view .LVU78
 102:Core/Src/main.c ****         }
 446              		.loc 1 102 20 is_stmt 0 view .LVU79
 447 006e 0134     		adds	r4, r4, #1
 448              	.LVL31:
 102:Core/Src/main.c ****         }
ARM GAS  /tmp/ccUODzHK.s 			page 12


 449              		.loc 1 102 16 view .LVU80
 450 0070 14F00F0F 		tst	r4, #15
 451 0074 F1D1     		bne	.L27
 102:Core/Src/main.c ****         }
 452              		.loc 1 102 36 is_stmt 1 discriminator 1 view .LVU81
 453 0076 0A20     		movs	r0, #10
 454 0078 FFF7FEFF 		bl	putchar
 455              	.LVL32:
 456 007c EDE7     		b	.L27
 457              	.LVL33:
 458              	.L32:
 102:Core/Src/main.c ****         }
 459              		.loc 1 102 36 is_stmt 0 discriminator 1 view .LVU82
 460              	.LBE4:
 108:Core/Src/main.c ****             break;
 461              		.loc 1 108 13 is_stmt 1 view .LVU83
 462 007e 0948     		ldr	r0, .L36+28
 463 0080 FFF7FEFF 		bl	puts
 464              	.LVL34:
 109:Core/Src/main.c ****         }
 465              		.loc 1 109 13 view .LVU84
 466              		.loc 1 112 1 is_stmt 0 view .LVU85
 467 0084 C8E7     		b	.L23
 468              	.L37:
 469 0086 00BF     		.align	2
 470              	.L36:
 471 0088 00000000 		.word	.LANCHOR0
 472 008c 00000000 		.word	.LC6
 473 0090 1C000000 		.word	.LC7
 474 0094 60000000 		.word	.LC10
 475 0098 00000000 		.word	hi2c2
 476 009c 3C000000 		.word	.LC8
 477 00a0 54000000 		.word	.LC9
 478 00a4 80000000 		.word	.LC11
 479              		.cfi_endproc
 480              	.LFE72:
 482              		.section	.rodata.set_brightness_.str1.4,"aMS",%progbits,1
 483              		.align	2
 484              	.LC12:
 485 0000 62726967 		.ascii	"brightness set.\015\000"
 485      68746E65 
 485      73732073 
 485      65742E0D 
 485      00
 486 0011 000000   		.align	2
 487              	.LC13:
 488 0014 4661696C 		.ascii	"Failed to set brigtness.\015\000"
 488      65642074 
 488      6F207365 
 488      74206272 
 488      6967746E 
 489              		.section	.text.set_brightness_,"ax",%progbits
 490              		.align	1
 491              		.global	set_brightness_
 492              		.syntax unified
 493              		.thumb
 494              		.thumb_func
ARM GAS  /tmp/ccUODzHK.s 			page 13


 495              		.fpu softvfp
 497              	set_brightness_:
 498              	.LVL35:
 499              	.LFB73:
 113:Core/Src/main.c **** // #define I2C_MAX_RETRIES 3
 114:Core/Src/main.c **** // #define I2C_TIMEOUT_MS 100
 115:Core/Src/main.c **** 
 116:Core/Src/main.c **** // // Retry wrapper for transmit
 117:Core/Src/main.c **** // HAL_StatusTypeDef i2c_master_transmit(uint8_t *data, uint16_t size) {
 118:Core/Src/main.c **** //     HAL_StatusTypeDef res;
 119:Core/Src/main.c **** //     for (int i = 0; i < I2C_MAX_RETRIES; ++i) {
 120:Core/Src/main.c **** //         res = HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, data, size, I2C_TIMEOUT_MS);
 121:Core/Src/main.c **** //         if (res == HAL_OK) return HAL_OK;
 122:Core/Src/main.c **** //         HAL_Delay(10);
 123:Core/Src/main.c **** //     }
 124:Core/Src/main.c **** //     return res;
 125:Core/Src/main.c **** // }
 126:Core/Src/main.c **** 
 127:Core/Src/main.c **** // // Retry wrapper for receive
 128:Core/Src/main.c **** // HAL_StatusTypeDef i2c_master_receive(uint8_t *data, uint16_t size) {
 129:Core/Src/main.c **** //     HAL_StatusTypeDef res;
 130:Core/Src/main.c **** //     for (int i = 0; i < I2C_MAX_RETRIES; ++i) {
 131:Core/Src/main.c **** //         res = HAL_I2C_Master_Receive(&hi2c2, SSDV_SLAVE_ADDR, data, size, I2C_TIMEOUT_MS);
 132:Core/Src/main.c **** //         if (res == HAL_OK) return HAL_OK;
 133:Core/Src/main.c **** //         HAL_Delay(10);
 134:Core/Src/main.c **** //     }
 135:Core/Src/main.c **** //     return res;
 136:Core/Src/main.c **** // }
 137:Core/Src/main.c **** 
 138:Core/Src/main.c **** 
 139:Core/Src/main.c **** // void request_image_capture() {
 140:Core/Src/main.c **** //     uint8_t cmd[2] = {0x10, 0};
 141:Core/Src/main.c **** //     if (i2c_master_transmit(cmd, 2) == HAL_OK)
 142:Core/Src/main.c **** //         printf("Image capture command sent.\r\n");
 143:Core/Src/main.c **** //     else
 144:Core/Src/main.c **** //         printf("Failed to send image capture command.\r\n");
 145:Core/Src/main.c **** // }
 146:Core/Src/main.c **** 
 147:Core/Src/main.c **** // void request_ssdv_stream() {
 148:Core/Src/main.c **** //     uint8_t cmd[2] = {0x20, 0};
 149:Core/Src/main.c **** //     if (i2c_master_transmit(cmd, 2) == HAL_OK)
 150:Core/Src/main.c **** //         printf("SSDV stream command sent.\r\n");
 151:Core/Src/main.c **** //     else
 152:Core/Src/main.c **** //         printf("Failed to send SSDV stream command.\r\n");
 153:Core/Src/main.c **** // }
 154:Core/Src/main.c **** 
 155:Core/Src/main.c **** // void request_prestored() {
 156:Core/Src/main.c **** //     uint8_t cmd[2] = {0x90, 0};
 157:Core/Src/main.c **** //     if (i2c_master_transmit(cmd, 2) == HAL_OK)
 158:Core/Src/main.c **** //         printf("Prestored command sent.\r\n");
 159:Core/Src/main.c **** //     else
 160:Core/Src/main.c **** //         printf("Failed to send prestored command.\r\n");
 161:Core/Src/main.c **** // }
 162:Core/Src/main.c **** 
 163:Core/Src/main.c **** // void read_ssdv_stream() {
 164:Core/Src/main.c **** //     uint8_t ssdv_pkt[SSDV_PKT_SIZE];
 165:Core/Src/main.c **** //     uint16_t packet_index = 0;
ARM GAS  /tmp/ccUODzHK.s 			page 14


 166:Core/Src/main.c **** 
 167:Core/Src/main.c **** //     while (1) {
 168:Core/Src/main.c **** //         if (i2c_master_receive(ssdv_pkt, SSDV_PKT_SIZE) != HAL_OK) {
 169:Core/Src/main.c **** //             printf("Error receiving packet %d\r\n", packet_index);
 170:Core/Src/main.c **** //             break;
 171:Core/Src/main.c **** //         }
 172:Core/Src/main.c **** 
 173:Core/Src/main.c **** //         if (ssdv_pkt[0] == 0xFF) {
 174:Core/Src/main.c **** //             printf("End of SSDV stream reached.\r\n");
 175:Core/Src/main.c **** //             break;
 176:Core/Src/main.c **** //         }
 177:Core/Src/main.c **** 
 178:Core/Src/main.c **** //         printf("Packet %d received:\n", packet_index);
 179:Core/Src/main.c **** //         for (int i = 0; i < SSDV_PKT_SIZE; i++) {
 180:Core/Src/main.c **** //             printf("0x%02X, ", ssdv_pkt[i]);
 181:Core/Src/main.c **** //             if ((i + 1) % 16 == 0) printf("\n");
 182:Core/Src/main.c **** //         }
 183:Core/Src/main.c **** //         printf("\n-----------------------------\n");
 184:Core/Src/main.c **** 
 185:Core/Src/main.c **** //         if (++packet_index >= SSDV_MAX_PACKETS) {
 186:Core/Src/main.c **** //             printf("Max SSDV packet limit reached.\r\n");
 187:Core/Src/main.c **** //             break;
 188:Core/Src/main.c **** //         }
 189:Core/Src/main.c **** //     }
 190:Core/Src/main.c **** // }
 191:Core/Src/main.c **** 
 192:Core/Src/main.c **** 
 193:Core/Src/main.c **** 
 194:Core/Src/main.c **** 
 195:Core/Src/main.c **** #define CAM_BRIGHTNESS_LEVEL_CMD  0x30
 196:Core/Src/main.c **** #define CAM_SHARPNESS_LEVEL_CMD   0x40
 197:Core/Src/main.c **** #define CAM_CONTRAST_LEVEL_CMD    0x50
 198:Core/Src/main.c **** #define CAM_EV_LEVEL_CMD          0x60
 199:Core/Src/main.c **** #define CAM_STAURATION_LEVEL_CMD  0x70
 200:Core/Src/main.c **** #define CAM_COLOR_FX_CMD          0x80
 201:Core/Src/main.c **** 
 202:Core/Src/main.c **** 
 203:Core/Src/main.c **** typedef enum {
 204:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_MINUS_4 = 8, /**<Level -4 */
 205:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_MINUS_3 = 6, /**<Level -3 */
 206:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_MINUS_2 = 4, /**<Level -2 */
 207:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_MINUS_1 = 2, /**<Level -1 */
 208:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_DEFAULT = 0, /**<Level Default*/
 209:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_1       = 1, /**<Level +1 */
 210:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_2       = 3, /**<Level +2 */
 211:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_3       = 5, /**<Level +3 */
 212:Core/Src/main.c ****     CAM_BRIGHTNESS_LEVEL_4       = 7, /**<Level +4 */
 213:Core/Src/main.c **** } CAM_BRIGHTNESS_LEVEL;
 214:Core/Src/main.c **** 
 215:Core/Src/main.c **** typedef enum {
 216:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_AUTO = 0, /**<Sharpness Auto */
 217:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_1,        /**<Sharpness Level 1 */
 218:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_2,        /**<Sharpness Level 2 */
 219:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_3,        /**<Sharpness Level 3 */
 220:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_4,        /**<Sharpness Level 4 */
 221:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_5,        /**<Sharpness Level 5 */
 222:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_6,        /**<Sharpness Level 6 */
ARM GAS  /tmp/ccUODzHK.s 			page 15


 223:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_7,        /**<Sharpness Level 7 */
 224:Core/Src/main.c ****     CAM_SHARPNESS_LEVEL_8,        /**<Sharpness Level 8 */
 225:Core/Src/main.c **** } CAM_SHARPNESS_LEVEL;
 226:Core/Src/main.c **** 
 227:Core/Src/main.c **** 
 228:Core/Src/main.c **** typedef enum {
 229:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_MINUS_3 = 6, /**<Level -3 */
 230:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_MINUS_2 = 4, /**<Level -2 */
 231:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_MINUS_1 = 2, /**<Level -1 */
 232:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_DEFAULT = 0, /**<Level Default*/
 233:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_1       = 1, /**<Level +1 */
 234:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_2       = 3, /**<Level +2 */
 235:Core/Src/main.c ****     CAM_CONTRAST_LEVEL_3       = 5, /**<Level +3 */
 236:Core/Src/main.c **** } CAM_CONTRAST_LEVEL;
 237:Core/Src/main.c **** 
 238:Core/Src/main.c **** 
 239:Core/Src/main.c **** typedef enum {
 240:Core/Src/main.c ****     CAM_EV_LEVEL_MINUS_3 = 6, /**<Level -3 */
 241:Core/Src/main.c ****     CAM_EV_LEVEL_MINUS_2 = 4, /**<Level -2 */
 242:Core/Src/main.c ****     CAM_EV_LEVEL_MINUS_1 = 2, /**<Level -1 */
 243:Core/Src/main.c ****     CAM_EV_LEVEL_DEFAULT = 0, /**<Level Default*/
 244:Core/Src/main.c ****     CAM_EV_LEVEL_1       = 1, /**<Level +1 */
 245:Core/Src/main.c ****     CAM_EV_LEVEL_2       = 3, /**<Level +2 */
 246:Core/Src/main.c ****     CAM_EV_LEVEL_3       = 5, /**<Level +3 */
 247:Core/Src/main.c **** } CAM_EV_LEVEL;
 248:Core/Src/main.c **** 
 249:Core/Src/main.c **** 
 250:Core/Src/main.c **** typedef enum {
 251:Core/Src/main.c ****     CAM_STAURATION_LEVEL_MINUS_3 = 6, /**<Level -3 */
 252:Core/Src/main.c ****     CAM_STAURATION_LEVEL_MINUS_2 = 4, /**<Level -2 */
 253:Core/Src/main.c ****     CAM_STAURATION_LEVEL_MINUS_1 = 2, /**<Level -1 */
 254:Core/Src/main.c ****     CAM_STAURATION_LEVEL_DEFAULT = 0, /**<Level Default*/
 255:Core/Src/main.c ****     CAM_STAURATION_LEVEL_1       = 1, /**<Level +1 */
 256:Core/Src/main.c ****     CAM_STAURATION_LEVEL_2       = 3, /**<Level +2 */
 257:Core/Src/main.c ****     CAM_STAURATION_LEVEL_3       = 5, /**<Level +3 */
 258:Core/Src/main.c **** } CAM_STAURATION_LEVEL;
 259:Core/Src/main.c **** 
 260:Core/Src/main.c **** 
 261:Core/Src/main.c **** typedef enum {
 262:Core/Src/main.c ****     CAM_COLOR_FX_NONE = 0,      /**< no effect   */
 263:Core/Src/main.c ****     CAM_COLOR_FX_BLUEISH,       /**< cool light   */
 264:Core/Src/main.c ****     CAM_COLOR_FX_REDISH,        /**< warm   */
 265:Core/Src/main.c ****     CAM_COLOR_FX_BW,            /**< Black/white   */
 266:Core/Src/main.c ****     CAM_COLOR_FX_SEPIA,         /**<Sepia   */
 267:Core/Src/main.c ****     CAM_COLOR_FX_NEGATIVE,      /**<positive/negative inversion  */
 268:Core/Src/main.c ****     CAM_COLOR_FX_GRASS_GREEN,   /**<Grass green */
 269:Core/Src/main.c ****     CAM_COLOR_FX_OVER_EXPOSURE, /**<Over exposure*/ //redish
 270:Core/Src/main.c ****     CAM_COLOR_FX_SOLARIZE,      /**< Solarize   */
 271:Core/Src/main.c **** } CAM_COLOR_FX;
 272:Core/Src/main.c **** 
 273:Core/Src/main.c **** 
 274:Core/Src/main.c **** 
 275:Core/Src/main.c **** void set_brightness_(CAM_BRIGHTNESS_LEVEL level )
 276:Core/Src/main.c ****  {
 500              		.loc 1 276 2 is_stmt 1 view -0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccUODzHK.s 			page 16


 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504              		.loc 1 276 2 is_stmt 0 view .LVU87
 505 0000 00B5     		push	{lr}
 506              	.LCFI17:
 507              		.cfi_def_cfa_offset 4
 508              		.cfi_offset 14, -4
 509 0002 85B0     		sub	sp, sp, #20
 510              	.LCFI18:
 511              		.cfi_def_cfa_offset 24
 277:Core/Src/main.c ****     uint8_t cmd[2];
 512              		.loc 1 277 5 is_stmt 1 view .LVU88
 278:Core/Src/main.c ****     cmd[0] = CAM_BRIGHTNESS_LEVEL_CMD;
 513              		.loc 1 278 5 view .LVU89
 514              		.loc 1 278 12 is_stmt 0 view .LVU90
 515 0004 3023     		movs	r3, #48
 516 0006 8DF80C30 		strb	r3, [sp, #12]
 279:Core/Src/main.c ****     cmd [1] = level ;
 517              		.loc 1 279 5 is_stmt 1 view .LVU91
 518              		.loc 1 279 13 is_stmt 0 view .LVU92
 519 000a 8DF80D00 		strb	r0, [sp, #13]
 280:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 520              		.loc 1 280 5 is_stmt 1 view .LVU93
 521              		.loc 1 280 9 is_stmt 0 view .LVU94
 522 000e 4FF0FF33 		mov	r3, #-1
 523 0012 0093     		str	r3, [sp]
 524 0014 0223     		movs	r3, #2
 525 0016 03AA     		add	r2, sp, #12
 526 0018 2421     		movs	r1, #36
 527 001a 0748     		ldr	r0, .L42
 528              	.LVL36:
 529              		.loc 1 280 9 view .LVU95
 530 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 531              	.LVL37:
 532              		.loc 1 280 8 view .LVU96
 533 0020 28B9     		cbnz	r0, .L39
 281:Core/Src/main.c ****         printf("brightness set.\r\n");
 534              		.loc 1 281 9 is_stmt 1 view .LVU97
 535 0022 0648     		ldr	r0, .L42+4
 536 0024 FFF7FEFF 		bl	puts
 537              	.LVL38:
 538              	.L38:
 282:Core/Src/main.c ****     } else {
 283:Core/Src/main.c ****         printf("Failed to set brigtness.\r\n");
 284:Core/Src/main.c ****     }
 285:Core/Src/main.c **** }
 539              		.loc 1 285 1 is_stmt 0 view .LVU98
 540 0028 05B0     		add	sp, sp, #20
 541              	.LCFI19:
 542              		.cfi_remember_state
 543              		.cfi_def_cfa_offset 4
 544              		@ sp needed
 545 002a 5DF804FB 		ldr	pc, [sp], #4
 546              	.L39:
 547              	.LCFI20:
 548              		.cfi_restore_state
 283:Core/Src/main.c ****     }
 549              		.loc 1 283 9 is_stmt 1 view .LVU99
ARM GAS  /tmp/ccUODzHK.s 			page 17


 550 002e 0448     		ldr	r0, .L42+8
 551 0030 FFF7FEFF 		bl	puts
 552              	.LVL39:
 553              		.loc 1 285 1 is_stmt 0 view .LVU100
 554 0034 F8E7     		b	.L38
 555              	.L43:
 556 0036 00BF     		.align	2
 557              	.L42:
 558 0038 00000000 		.word	hi2c2
 559 003c 00000000 		.word	.LC12
 560 0040 14000000 		.word	.LC13
 561              		.cfi_endproc
 562              	.LFE73:
 564              		.section	.rodata.set_sharpness_.str1.4,"aMS",%progbits,1
 565              		.align	2
 566              	.LC14:
 567 0000 73686172 		.ascii	"sharpness set.\015\000"
 567      706E6573 
 567      73207365 
 567      742E0D00 
 568              		.align	2
 569              	.LC15:
 570 0010 4661696C 		.ascii	"Failed to set sharpness.\015\000"
 570      65642074 
 570      6F207365 
 570      74207368 
 570      6172706E 
 571              		.section	.text.set_sharpness_,"ax",%progbits
 572              		.align	1
 573              		.global	set_sharpness_
 574              		.syntax unified
 575              		.thumb
 576              		.thumb_func
 577              		.fpu softvfp
 579              	set_sharpness_:
 580              	.LVL40:
 581              	.LFB74:
 286:Core/Src/main.c **** 
 287:Core/Src/main.c **** void set_sharpness_(CAM_SHARPNESS_LEVEL level )
 288:Core/Src/main.c ****  {
 582              		.loc 1 288 2 is_stmt 1 view -0
 583              		.cfi_startproc
 584              		@ args = 0, pretend = 0, frame = 8
 585              		@ frame_needed = 0, uses_anonymous_args = 0
 586              		.loc 1 288 2 is_stmt 0 view .LVU102
 587 0000 00B5     		push	{lr}
 588              	.LCFI21:
 589              		.cfi_def_cfa_offset 4
 590              		.cfi_offset 14, -4
 591 0002 85B0     		sub	sp, sp, #20
 592              	.LCFI22:
 593              		.cfi_def_cfa_offset 24
 289:Core/Src/main.c ****     uint8_t cmd[2];
 594              		.loc 1 289 5 is_stmt 1 view .LVU103
 290:Core/Src/main.c ****     cmd[0] = CAM_SHARPNESS_LEVEL_CMD;
 595              		.loc 1 290 5 view .LVU104
 596              		.loc 1 290 12 is_stmt 0 view .LVU105
ARM GAS  /tmp/ccUODzHK.s 			page 18


 597 0004 4023     		movs	r3, #64
 598 0006 8DF80C30 		strb	r3, [sp, #12]
 291:Core/Src/main.c ****     cmd [1] = level ;
 599              		.loc 1 291 5 is_stmt 1 view .LVU106
 600              		.loc 1 291 13 is_stmt 0 view .LVU107
 601 000a 8DF80D00 		strb	r0, [sp, #13]
 292:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 602              		.loc 1 292 5 is_stmt 1 view .LVU108
 603              		.loc 1 292 9 is_stmt 0 view .LVU109
 604 000e 4FF0FF33 		mov	r3, #-1
 605 0012 0093     		str	r3, [sp]
 606 0014 0223     		movs	r3, #2
 607 0016 03AA     		add	r2, sp, #12
 608 0018 2421     		movs	r1, #36
 609 001a 0748     		ldr	r0, .L48
 610              	.LVL41:
 611              		.loc 1 292 9 view .LVU110
 612 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 613              	.LVL42:
 614              		.loc 1 292 8 view .LVU111
 615 0020 28B9     		cbnz	r0, .L45
 293:Core/Src/main.c ****         printf("sharpness set.\r\n");
 616              		.loc 1 293 9 is_stmt 1 view .LVU112
 617 0022 0648     		ldr	r0, .L48+4
 618 0024 FFF7FEFF 		bl	puts
 619              	.LVL43:
 620              	.L44:
 294:Core/Src/main.c ****     } else {
 295:Core/Src/main.c ****         printf("Failed to set sharpness.\r\n");
 296:Core/Src/main.c **** 
 297:Core/Src/main.c ****     }
 298:Core/Src/main.c **** }
 621              		.loc 1 298 1 is_stmt 0 view .LVU113
 622 0028 05B0     		add	sp, sp, #20
 623              	.LCFI23:
 624              		.cfi_remember_state
 625              		.cfi_def_cfa_offset 4
 626              		@ sp needed
 627 002a 5DF804FB 		ldr	pc, [sp], #4
 628              	.L45:
 629              	.LCFI24:
 630              		.cfi_restore_state
 295:Core/Src/main.c **** 
 631              		.loc 1 295 9 is_stmt 1 view .LVU114
 632 002e 0448     		ldr	r0, .L48+8
 633 0030 FFF7FEFF 		bl	puts
 634              	.LVL44:
 635              		.loc 1 298 1 is_stmt 0 view .LVU115
 636 0034 F8E7     		b	.L44
 637              	.L49:
 638 0036 00BF     		.align	2
 639              	.L48:
 640 0038 00000000 		.word	hi2c2
 641 003c 00000000 		.word	.LC14
 642 0040 10000000 		.word	.LC15
 643              		.cfi_endproc
 644              	.LFE74:
ARM GAS  /tmp/ccUODzHK.s 			page 19


 646              		.section	.rodata.set_contrast_.str1.4,"aMS",%progbits,1
 647              		.align	2
 648              	.LC16:
 649 0000 636F6E74 		.ascii	"contrast set.\015\000"
 649      72617374 
 649      20736574 
 649      2E0D00
 650 000f 00       		.align	2
 651              	.LC17:
 652 0010 4661696C 		.ascii	"Failed to set contrast.\015\000"
 652      65642074 
 652      6F207365 
 652      7420636F 
 652      6E747261 
 653              		.section	.text.set_contrast_,"ax",%progbits
 654              		.align	1
 655              		.global	set_contrast_
 656              		.syntax unified
 657              		.thumb
 658              		.thumb_func
 659              		.fpu softvfp
 661              	set_contrast_:
 662              	.LVL45:
 663              	.LFB75:
 299:Core/Src/main.c **** 
 300:Core/Src/main.c **** void set_contrast_(CAM_CONTRAST_LEVEL level )
 301:Core/Src/main.c ****  {
 664              		.loc 1 301 2 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 8
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		.loc 1 301 2 is_stmt 0 view .LVU117
 669 0000 00B5     		push	{lr}
 670              	.LCFI25:
 671              		.cfi_def_cfa_offset 4
 672              		.cfi_offset 14, -4
 673 0002 85B0     		sub	sp, sp, #20
 674              	.LCFI26:
 675              		.cfi_def_cfa_offset 24
 302:Core/Src/main.c ****     uint8_t cmd[2];
 676              		.loc 1 302 5 is_stmt 1 view .LVU118
 303:Core/Src/main.c ****     cmd[0] = CAM_CONTRAST_LEVEL_CMD;
 677              		.loc 1 303 5 view .LVU119
 678              		.loc 1 303 12 is_stmt 0 view .LVU120
 679 0004 5023     		movs	r3, #80
 680 0006 8DF80C30 		strb	r3, [sp, #12]
 304:Core/Src/main.c ****     cmd [1] = level ;
 681              		.loc 1 304 5 is_stmt 1 view .LVU121
 682              		.loc 1 304 13 is_stmt 0 view .LVU122
 683 000a 8DF80D00 		strb	r0, [sp, #13]
 305:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 684              		.loc 1 305 5 is_stmt 1 view .LVU123
 685              		.loc 1 305 9 is_stmt 0 view .LVU124
 686 000e 4FF0FF33 		mov	r3, #-1
 687 0012 0093     		str	r3, [sp]
 688 0014 0223     		movs	r3, #2
 689 0016 03AA     		add	r2, sp, #12
ARM GAS  /tmp/ccUODzHK.s 			page 20


 690 0018 2421     		movs	r1, #36
 691 001a 0748     		ldr	r0, .L54
 692              	.LVL46:
 693              		.loc 1 305 9 view .LVU125
 694 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 695              	.LVL47:
 696              		.loc 1 305 8 view .LVU126
 697 0020 28B9     		cbnz	r0, .L51
 306:Core/Src/main.c ****         printf("contrast set.\r\n");
 698              		.loc 1 306 9 is_stmt 1 view .LVU127
 699 0022 0648     		ldr	r0, .L54+4
 700 0024 FFF7FEFF 		bl	puts
 701              	.LVL48:
 702              	.L50:
 307:Core/Src/main.c ****     } else {
 308:Core/Src/main.c ****         printf("Failed to set contrast.\r\n");
 309:Core/Src/main.c **** 
 310:Core/Src/main.c ****     }
 311:Core/Src/main.c **** }
 703              		.loc 1 311 1 is_stmt 0 view .LVU128
 704 0028 05B0     		add	sp, sp, #20
 705              	.LCFI27:
 706              		.cfi_remember_state
 707              		.cfi_def_cfa_offset 4
 708              		@ sp needed
 709 002a 5DF804FB 		ldr	pc, [sp], #4
 710              	.L51:
 711              	.LCFI28:
 712              		.cfi_restore_state
 308:Core/Src/main.c **** 
 713              		.loc 1 308 9 is_stmt 1 view .LVU129
 714 002e 0448     		ldr	r0, .L54+8
 715 0030 FFF7FEFF 		bl	puts
 716              	.LVL49:
 717              		.loc 1 311 1 is_stmt 0 view .LVU130
 718 0034 F8E7     		b	.L50
 719              	.L55:
 720 0036 00BF     		.align	2
 721              	.L54:
 722 0038 00000000 		.word	hi2c2
 723 003c 00000000 		.word	.LC16
 724 0040 10000000 		.word	.LC17
 725              		.cfi_endproc
 726              	.LFE75:
 728              		.section	.rodata.set_exposure_.str1.4,"aMS",%progbits,1
 729              		.align	2
 730              	.LC18:
 731 0000 65787073 		.ascii	"expsoure set.\015\000"
 731      6F757265 
 731      20736574 
 731      2E0D00
 732 000f 00       		.align	2
 733              	.LC19:
 734 0010 4661696C 		.ascii	"Failed to set expsoure.\015\000"
 734      65642074 
 734      6F207365 
 734      74206578 
ARM GAS  /tmp/ccUODzHK.s 			page 21


 734      70736F75 
 735              		.section	.text.set_exposure_,"ax",%progbits
 736              		.align	1
 737              		.global	set_exposure_
 738              		.syntax unified
 739              		.thumb
 740              		.thumb_func
 741              		.fpu softvfp
 743              	set_exposure_:
 744              	.LVL50:
 745              	.LFB76:
 312:Core/Src/main.c **** 
 313:Core/Src/main.c **** void set_exposure_(CAM_EV_LEVEL level )
 314:Core/Src/main.c ****  {
 746              		.loc 1 314 2 is_stmt 1 view -0
 747              		.cfi_startproc
 748              		@ args = 0, pretend = 0, frame = 8
 749              		@ frame_needed = 0, uses_anonymous_args = 0
 750              		.loc 1 314 2 is_stmt 0 view .LVU132
 751 0000 00B5     		push	{lr}
 752              	.LCFI29:
 753              		.cfi_def_cfa_offset 4
 754              		.cfi_offset 14, -4
 755 0002 85B0     		sub	sp, sp, #20
 756              	.LCFI30:
 757              		.cfi_def_cfa_offset 24
 315:Core/Src/main.c ****     uint8_t cmd[2];
 758              		.loc 1 315 5 is_stmt 1 view .LVU133
 316:Core/Src/main.c ****     cmd[0] = CAM_EV_LEVEL_CMD;
 759              		.loc 1 316 5 view .LVU134
 760              		.loc 1 316 12 is_stmt 0 view .LVU135
 761 0004 6023     		movs	r3, #96
 762 0006 8DF80C30 		strb	r3, [sp, #12]
 317:Core/Src/main.c ****     cmd [1] = level ;
 763              		.loc 1 317 5 is_stmt 1 view .LVU136
 764              		.loc 1 317 13 is_stmt 0 view .LVU137
 765 000a 8DF80D00 		strb	r0, [sp, #13]
 318:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 766              		.loc 1 318 5 is_stmt 1 view .LVU138
 767              		.loc 1 318 9 is_stmt 0 view .LVU139
 768 000e 4FF0FF33 		mov	r3, #-1
 769 0012 0093     		str	r3, [sp]
 770 0014 0223     		movs	r3, #2
 771 0016 03AA     		add	r2, sp, #12
 772 0018 2421     		movs	r1, #36
 773 001a 0748     		ldr	r0, .L60
 774              	.LVL51:
 775              		.loc 1 318 9 view .LVU140
 776 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 777              	.LVL52:
 778              		.loc 1 318 8 view .LVU141
 779 0020 28B9     		cbnz	r0, .L57
 319:Core/Src/main.c ****         printf("expsoure set.\r\n");
 780              		.loc 1 319 9 is_stmt 1 view .LVU142
 781 0022 0648     		ldr	r0, .L60+4
 782 0024 FFF7FEFF 		bl	puts
 783              	.LVL53:
ARM GAS  /tmp/ccUODzHK.s 			page 22


 784              	.L56:
 320:Core/Src/main.c ****     } else {
 321:Core/Src/main.c ****         printf("Failed to set expsoure.\r\n");
 322:Core/Src/main.c **** 
 323:Core/Src/main.c ****     }
 324:Core/Src/main.c **** }
 785              		.loc 1 324 1 is_stmt 0 view .LVU143
 786 0028 05B0     		add	sp, sp, #20
 787              	.LCFI31:
 788              		.cfi_remember_state
 789              		.cfi_def_cfa_offset 4
 790              		@ sp needed
 791 002a 5DF804FB 		ldr	pc, [sp], #4
 792              	.L57:
 793              	.LCFI32:
 794              		.cfi_restore_state
 321:Core/Src/main.c **** 
 795              		.loc 1 321 9 is_stmt 1 view .LVU144
 796 002e 0448     		ldr	r0, .L60+8
 797 0030 FFF7FEFF 		bl	puts
 798              	.LVL54:
 799              		.loc 1 324 1 is_stmt 0 view .LVU145
 800 0034 F8E7     		b	.L56
 801              	.L61:
 802 0036 00BF     		.align	2
 803              	.L60:
 804 0038 00000000 		.word	hi2c2
 805 003c 00000000 		.word	.LC18
 806 0040 10000000 		.word	.LC19
 807              		.cfi_endproc
 808              	.LFE76:
 810              		.section	.rodata.set_saturation_.str1.4,"aMS",%progbits,1
 811              		.align	2
 812              	.LC20:
 813 0000 73617475 		.ascii	"saturation set.\015\000"
 813      72617469 
 813      6F6E2073 
 813      65742E0D 
 813      00
 814 0011 000000   		.align	2
 815              	.LC21:
 816 0014 4661696C 		.ascii	"Failed to set saturation.\015\000"
 816      65642074 
 816      6F207365 
 816      74207361 
 816      74757261 
 817              		.section	.text.set_saturation_,"ax",%progbits
 818              		.align	1
 819              		.global	set_saturation_
 820              		.syntax unified
 821              		.thumb
 822              		.thumb_func
 823              		.fpu softvfp
 825              	set_saturation_:
 826              	.LVL55:
 827              	.LFB77:
 325:Core/Src/main.c **** 
ARM GAS  /tmp/ccUODzHK.s 			page 23


 326:Core/Src/main.c **** void set_saturation_(CAM_STAURATION_LEVEL level )
 327:Core/Src/main.c ****  {
 828              		.loc 1 327 2 is_stmt 1 view -0
 829              		.cfi_startproc
 830              		@ args = 0, pretend = 0, frame = 8
 831              		@ frame_needed = 0, uses_anonymous_args = 0
 832              		.loc 1 327 2 is_stmt 0 view .LVU147
 833 0000 00B5     		push	{lr}
 834              	.LCFI33:
 835              		.cfi_def_cfa_offset 4
 836              		.cfi_offset 14, -4
 837 0002 85B0     		sub	sp, sp, #20
 838              	.LCFI34:
 839              		.cfi_def_cfa_offset 24
 328:Core/Src/main.c ****     uint8_t cmd[2];
 840              		.loc 1 328 5 is_stmt 1 view .LVU148
 329:Core/Src/main.c ****     cmd[0] = CAM_STAURATION_LEVEL_CMD;
 841              		.loc 1 329 5 view .LVU149
 842              		.loc 1 329 12 is_stmt 0 view .LVU150
 843 0004 7023     		movs	r3, #112
 844 0006 8DF80C30 		strb	r3, [sp, #12]
 330:Core/Src/main.c ****     cmd [1] = level ;
 845              		.loc 1 330 5 is_stmt 1 view .LVU151
 846              		.loc 1 330 13 is_stmt 0 view .LVU152
 847 000a 8DF80D00 		strb	r0, [sp, #13]
 331:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 848              		.loc 1 331 5 is_stmt 1 view .LVU153
 849              		.loc 1 331 9 is_stmt 0 view .LVU154
 850 000e 4FF0FF33 		mov	r3, #-1
 851 0012 0093     		str	r3, [sp]
 852 0014 0223     		movs	r3, #2
 853 0016 03AA     		add	r2, sp, #12
 854 0018 2421     		movs	r1, #36
 855 001a 0748     		ldr	r0, .L66
 856              	.LVL56:
 857              		.loc 1 331 9 view .LVU155
 858 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 859              	.LVL57:
 860              		.loc 1 331 8 view .LVU156
 861 0020 28B9     		cbnz	r0, .L63
 332:Core/Src/main.c ****         printf("saturation set.\r\n");
 862              		.loc 1 332 9 is_stmt 1 view .LVU157
 863 0022 0648     		ldr	r0, .L66+4
 864 0024 FFF7FEFF 		bl	puts
 865              	.LVL58:
 866              	.L62:
 333:Core/Src/main.c ****     } else {
 334:Core/Src/main.c ****         printf("Failed to set saturation.\r\n");
 335:Core/Src/main.c **** 
 336:Core/Src/main.c ****     }
 337:Core/Src/main.c **** }
 867              		.loc 1 337 1 is_stmt 0 view .LVU158
 868 0028 05B0     		add	sp, sp, #20
 869              	.LCFI35:
 870              		.cfi_remember_state
 871              		.cfi_def_cfa_offset 4
 872              		@ sp needed
ARM GAS  /tmp/ccUODzHK.s 			page 24


 873 002a 5DF804FB 		ldr	pc, [sp], #4
 874              	.L63:
 875              	.LCFI36:
 876              		.cfi_restore_state
 334:Core/Src/main.c **** 
 877              		.loc 1 334 9 is_stmt 1 view .LVU159
 878 002e 0448     		ldr	r0, .L66+8
 879 0030 FFF7FEFF 		bl	puts
 880              	.LVL59:
 881              		.loc 1 337 1 is_stmt 0 view .LVU160
 882 0034 F8E7     		b	.L62
 883              	.L67:
 884 0036 00BF     		.align	2
 885              	.L66:
 886 0038 00000000 		.word	hi2c2
 887 003c 00000000 		.word	.LC20
 888 0040 14000000 		.word	.LC21
 889              		.cfi_endproc
 890              	.LFE77:
 892              		.section	.rodata.set_effect_.str1.4,"aMS",%progbits,1
 893              		.align	2
 894              	.LC22:
 895 0000 65666665 		.ascii	"effect set.\015\000"
 895      63742073 
 895      65742E0D 
 895      00
 896 000d 000000   		.align	2
 897              	.LC23:
 898 0010 4661696C 		.ascii	"Failed to set effect.\015\000"
 898      65642074 
 898      6F207365 
 898      74206566 
 898      66656374 
 899              		.section	.text.set_effect_,"ax",%progbits
 900              		.align	1
 901              		.global	set_effect_
 902              		.syntax unified
 903              		.thumb
 904              		.thumb_func
 905              		.fpu softvfp
 907              	set_effect_:
 908              	.LVL60:
 909              	.LFB78:
 338:Core/Src/main.c **** 
 339:Core/Src/main.c **** void set_effect_(CAM_COLOR_FX effect )
 340:Core/Src/main.c ****  {
 910              		.loc 1 340 2 is_stmt 1 view -0
 911              		.cfi_startproc
 912              		@ args = 0, pretend = 0, frame = 8
 913              		@ frame_needed = 0, uses_anonymous_args = 0
 914              		.loc 1 340 2 is_stmt 0 view .LVU162
 915 0000 00B5     		push	{lr}
 916              	.LCFI37:
 917              		.cfi_def_cfa_offset 4
 918              		.cfi_offset 14, -4
 919 0002 85B0     		sub	sp, sp, #20
 920              	.LCFI38:
ARM GAS  /tmp/ccUODzHK.s 			page 25


 921              		.cfi_def_cfa_offset 24
 341:Core/Src/main.c ****     uint8_t cmd[2];
 922              		.loc 1 341 5 is_stmt 1 view .LVU163
 342:Core/Src/main.c ****     cmd[0] = CAM_COLOR_FX_CMD;
 923              		.loc 1 342 5 view .LVU164
 924              		.loc 1 342 12 is_stmt 0 view .LVU165
 925 0004 8023     		movs	r3, #128
 926 0006 8DF80C30 		strb	r3, [sp, #12]
 343:Core/Src/main.c ****     cmd [1] = effect ;
 927              		.loc 1 343 5 is_stmt 1 view .LVU166
 928              		.loc 1 343 13 is_stmt 0 view .LVU167
 929 000a 8DF80D00 		strb	r0, [sp, #13]
 344:Core/Src/main.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 930              		.loc 1 344 5 is_stmt 1 view .LVU168
 931              		.loc 1 344 9 is_stmt 0 view .LVU169
 932 000e 4FF0FF33 		mov	r3, #-1
 933 0012 0093     		str	r3, [sp]
 934 0014 0223     		movs	r3, #2
 935 0016 03AA     		add	r2, sp, #12
 936 0018 2421     		movs	r1, #36
 937 001a 0748     		ldr	r0, .L72
 938              	.LVL61:
 939              		.loc 1 344 9 view .LVU170
 940 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 941              	.LVL62:
 942              		.loc 1 344 8 view .LVU171
 943 0020 28B9     		cbnz	r0, .L69
 345:Core/Src/main.c ****         printf("effect set.\r\n");
 944              		.loc 1 345 9 is_stmt 1 view .LVU172
 945 0022 0648     		ldr	r0, .L72+4
 946 0024 FFF7FEFF 		bl	puts
 947              	.LVL63:
 948              	.L68:
 346:Core/Src/main.c ****     } else {
 347:Core/Src/main.c ****         printf("Failed to set effect.\r\n");
 348:Core/Src/main.c **** 
 349:Core/Src/main.c ****     }
 350:Core/Src/main.c **** }
 949              		.loc 1 350 1 is_stmt 0 view .LVU173
 950 0028 05B0     		add	sp, sp, #20
 951              	.LCFI39:
 952              		.cfi_remember_state
 953              		.cfi_def_cfa_offset 4
 954              		@ sp needed
 955 002a 5DF804FB 		ldr	pc, [sp], #4
 956              	.L69:
 957              	.LCFI40:
 958              		.cfi_restore_state
 347:Core/Src/main.c **** 
 959              		.loc 1 347 9 is_stmt 1 view .LVU174
 960 002e 0448     		ldr	r0, .L72+8
 961 0030 FFF7FEFF 		bl	puts
 962              	.LVL64:
 963              		.loc 1 350 1 is_stmt 0 view .LVU175
 964 0034 F8E7     		b	.L68
 965              	.L73:
 966 0036 00BF     		.align	2
ARM GAS  /tmp/ccUODzHK.s 			page 26


 967              	.L72:
 968 0038 00000000 		.word	hi2c2
 969 003c 00000000 		.word	.LC22
 970 0040 10000000 		.word	.LC23
 971              		.cfi_endproc
 972              	.LFE78:
 974              		.section	.rodata.request_prestored_image.str1.4,"aMS",%progbits,1
 975              		.align	2
 976              	.LC24:
 977 0000 4661696C 		.ascii	"Failed to send prestored command\000"
 977      65642074 
 977      6F207365 
 977      6E642070 
 977      72657374 
 978              		.section	.text.request_prestored_image,"ax",%progbits
 979              		.align	1
 980              		.global	request_prestored_image
 981              		.syntax unified
 982              		.thumb
 983              		.thumb_func
 984              		.fpu softvfp
 986              	request_prestored_image:
 987              	.LFB79:
 351:Core/Src/main.c **** 
 352:Core/Src/main.c **** 
 353:Core/Src/main.c **** 
 354:Core/Src/main.c **** 
 355:Core/Src/main.c **** #define SSDV_PKT_SIZE     224           // or 256 depending on your config
 356:Core/Src/main.c **** #define MAX_PKT_COUNT     100           // maximum packets you expect
 357:Core/Src/main.c **** 
 358:Core/Src/main.c **** uint8_t ssdv_packet[SSDV_PKT_SIZE];
 359:Core/Src/main.c **** 
 360:Core/Src/main.c **** void request_prestored_image(void)
 361:Core/Src/main.c **** {
 988              		.loc 1 361 1 is_stmt 1 view -0
 989              		.cfi_startproc
 990              		@ args = 0, pretend = 0, frame = 8
 991              		@ frame_needed = 0, uses_anonymous_args = 0
 992 0000 00B5     		push	{lr}
 993              	.LCFI41:
 994              		.cfi_def_cfa_offset 4
 995              		.cfi_offset 14, -4
 996 0002 85B0     		sub	sp, sp, #20
 997              	.LCFI42:
 998              		.cfi_def_cfa_offset 24
 362:Core/Src/main.c ****      last_i2c_activity = HAL_GetTick();
 999              		.loc 1 362 6 view .LVU177
 1000              		.loc 1 362 26 is_stmt 0 view .LVU178
 1001 0004 FFF7FEFF 		bl	HAL_GetTick
 1002              	.LVL65:
 1003              		.loc 1 362 24 view .LVU179
 1004 0008 0B4B     		ldr	r3, .L79
 1005 000a 1860     		str	r0, [r3]
 363:Core/Src/main.c ****     HAL_StatusTypeDef res;
 1006              		.loc 1 363 5 is_stmt 1 view .LVU180
 364:Core/Src/main.c **** 
 365:Core/Src/main.c ****     // Step 1: Send 0x90 command to request prestored image
ARM GAS  /tmp/ccUODzHK.s 			page 27


 366:Core/Src/main.c ****     uint8_t cmd[2] = {0x90, 0x00}; // second byte is ignored
 1007              		.loc 1 366 5 view .LVU181
 1008              		.loc 1 366 13 is_stmt 0 view .LVU182
 1009 000c 9023     		movs	r3, #144
 1010 000e ADF80C30 		strh	r3, [sp, #12]	@ movhi
 367:Core/Src/main.c ****     res = HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY);
 1011              		.loc 1 367 5 is_stmt 1 view .LVU183
 1012              		.loc 1 367 11 is_stmt 0 view .LVU184
 1013 0012 4FF0FF33 		mov	r3, #-1
 1014 0016 0093     		str	r3, [sp]
 1015 0018 0223     		movs	r3, #2
 1016 001a 03AA     		add	r2, sp, #12
 1017 001c 2421     		movs	r1, #36
 1018 001e 0748     		ldr	r0, .L79+4
 1019 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 1020              	.LVL66:
 368:Core/Src/main.c ****     if (res != HAL_OK) {
 1021              		.loc 1 368 5 is_stmt 1 view .LVU185
 1022              		.loc 1 368 8 is_stmt 0 view .LVU186
 1023 0024 20B9     		cbnz	r0, .L78
 369:Core/Src/main.c ****         printf("Failed to send prestored command\n");
 370:Core/Src/main.c ****         return;
 371:Core/Src/main.c ****     }
 372:Core/Src/main.c **** 
 373:Core/Src/main.c ****     read_ssdv_stream();
 1024              		.loc 1 373 5 is_stmt 1 view .LVU187
 1025 0026 FFF7FEFF 		bl	read_ssdv_stream
 1026              	.LVL67:
 1027              	.L74:
 374:Core/Src/main.c **** }
 1028              		.loc 1 374 1 is_stmt 0 view .LVU188
 1029 002a 05B0     		add	sp, sp, #20
 1030              	.LCFI43:
 1031              		.cfi_remember_state
 1032              		.cfi_def_cfa_offset 4
 1033              		@ sp needed
 1034 002c 5DF804FB 		ldr	pc, [sp], #4
 1035              	.LVL68:
 1036              	.L78:
 1037              	.LCFI44:
 1038              		.cfi_restore_state
 369:Core/Src/main.c ****         printf("Failed to send prestored command\n");
 1039              		.loc 1 369 9 is_stmt 1 view .LVU189
 1040 0030 0348     		ldr	r0, .L79+8
 1041              	.LVL69:
 369:Core/Src/main.c ****         printf("Failed to send prestored command\n");
 1042              		.loc 1 369 9 is_stmt 0 view .LVU190
 1043 0032 FFF7FEFF 		bl	puts
 1044              	.LVL70:
 370:Core/Src/main.c ****     }
 1045              		.loc 1 370 9 is_stmt 1 view .LVU191
 1046 0036 F8E7     		b	.L74
 1047              	.L80:
 1048              		.align	2
 1049              	.L79:
 1050 0038 00000000 		.word	.LANCHOR0
 1051 003c 00000000 		.word	hi2c2
ARM GAS  /tmp/ccUODzHK.s 			page 28


 1052 0040 00000000 		.word	.LC24
 1053              		.cfi_endproc
 1054              	.LFE79:
 1056              		.section	.text.camera_on,"ax",%progbits
 1057              		.align	1
 1058              		.global	camera_on
 1059              		.syntax unified
 1060              		.thumb
 1061              		.thumb_func
 1062              		.fpu softvfp
 1064              	camera_on:
 1065              	.LFB80:
 375:Core/Src/main.c **** 
 376:Core/Src/main.c **** 
 377:Core/Src/main.c **** void camera_on()
 378:Core/Src/main.c **** {
 1066              		.loc 1 378 1 view -0
 1067              		.cfi_startproc
 1068              		@ args = 0, pretend = 0, frame = 0
 1069              		@ frame_needed = 0, uses_anonymous_args = 0
 1070 0000 08B5     		push	{r3, lr}
 1071              	.LCFI45:
 1072              		.cfi_def_cfa_offset 8
 1073              		.cfi_offset 3, -8
 1074              		.cfi_offset 14, -4
 379:Core/Src/main.c ****     HAL_GPIO_WritePin(Payload_switch_GPIO_Port,Payload_switch_Pin,SET);
 1075              		.loc 1 379 5 view .LVU193
 1076 0002 0122     		movs	r2, #1
 1077 0004 4021     		movs	r1, #64
 1078 0006 0248     		ldr	r0, .L83
 1079 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1080              	.LVL71:
 380:Core/Src/main.c **** }
 1081              		.loc 1 380 1 is_stmt 0 view .LVU194
 1082 000c 08BD     		pop	{r3, pc}
 1083              	.L84:
 1084 000e 00BF     		.align	2
 1085              	.L83:
 1086 0010 00080140 		.word	1073809408
 1087              		.cfi_endproc
 1088              	.LFE80:
 1090              		.section	.text.camera_off,"ax",%progbits
 1091              		.align	1
 1092              		.global	camera_off
 1093              		.syntax unified
 1094              		.thumb
 1095              		.thumb_func
 1096              		.fpu softvfp
 1098              	camera_off:
 1099              	.LFB81:
 381:Core/Src/main.c **** 
 382:Core/Src/main.c **** void camera_off()
 383:Core/Src/main.c **** {
 1100              		.loc 1 383 1 is_stmt 1 view -0
 1101              		.cfi_startproc
 1102              		@ args = 0, pretend = 0, frame = 0
 1103              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccUODzHK.s 			page 29


 1104 0000 08B5     		push	{r3, lr}
 1105              	.LCFI46:
 1106              		.cfi_def_cfa_offset 8
 1107              		.cfi_offset 3, -8
 1108              		.cfi_offset 14, -4
 384:Core/Src/main.c ****     HAL_GPIO_WritePin(Payload_switch_GPIO_Port,Payload_switch_Pin,RESET);
 1109              		.loc 1 384 5 view .LVU196
 1110 0002 0022     		movs	r2, #0
 1111 0004 4021     		movs	r1, #64
 1112 0006 0248     		ldr	r0, .L87
 1113 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1114              	.LVL72:
 385:Core/Src/main.c **** 
 386:Core/Src/main.c **** 
 387:Core/Src/main.c **** }
 1115              		.loc 1 387 1 is_stmt 0 view .LVU197
 1116 000c 08BD     		pop	{r3, pc}
 1117              	.L88:
 1118 000e 00BF     		.align	2
 1119              	.L87:
 1120 0010 00080140 		.word	1073809408
 1121              		.cfi_endproc
 1122              	.LFE81:
 1124              		.section	.text.i2c_bus_recovery,"ax",%progbits
 1125              		.align	1
 1126              		.global	i2c_bus_recovery
 1127              		.syntax unified
 1128              		.thumb
 1129              		.thumb_func
 1130              		.fpu softvfp
 1132              	i2c_bus_recovery:
 1133              	.LFB82:
 388:Core/Src/main.c **** 
 389:Core/Src/main.c **** void i2c_bus_recovery(void) {
 1134              		.loc 1 389 29 is_stmt 1 view -0
 1135              		.cfi_startproc
 1136              		@ args = 0, pretend = 0, frame = 24
 1137              		@ frame_needed = 0, uses_anonymous_args = 0
 1138 0000 30B5     		push	{r4, r5, lr}
 1139              	.LCFI47:
 1140              		.cfi_def_cfa_offset 12
 1141              		.cfi_offset 4, -12
 1142              		.cfi_offset 5, -8
 1143              		.cfi_offset 14, -4
 1144 0002 87B0     		sub	sp, sp, #28
 1145              	.LCFI48:
 1146              		.cfi_def_cfa_offset 40
 390:Core/Src/main.c ****     GPIO_InitTypeDef GPIO_InitStruct = {0};
 1147              		.loc 1 390 5 view .LVU199
 1148              		.loc 1 390 22 is_stmt 0 view .LVU200
 1149 0004 0024     		movs	r4, #0
 1150 0006 0294     		str	r4, [sp, #8]
 1151 0008 0394     		str	r4, [sp, #12]
 1152 000a 0494     		str	r4, [sp, #16]
 1153 000c 0594     		str	r4, [sp, #20]
 391:Core/Src/main.c **** 
 392:Core/Src/main.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
ARM GAS  /tmp/ccUODzHK.s 			page 30


 1154              		.loc 1 392 5 is_stmt 1 view .LVU201
 1155              	.LBB5:
 1156              		.loc 1 392 5 view .LVU202
 1157              		.loc 1 392 5 view .LVU203
 1158 000e 1F4B     		ldr	r3, .L93
 1159 0010 9A69     		ldr	r2, [r3, #24]
 1160 0012 42F00802 		orr	r2, r2, #8
 1161 0016 9A61     		str	r2, [r3, #24]
 1162              		.loc 1 392 5 view .LVU204
 1163 0018 9B69     		ldr	r3, [r3, #24]
 1164 001a 03F00803 		and	r3, r3, #8
 1165 001e 0193     		str	r3, [sp, #4]
 1166              		.loc 1 392 5 view .LVU205
 1167 0020 019B     		ldr	r3, [sp, #4]
 1168              	.LBE5:
 1169              		.loc 1 392 5 view .LVU206
 393:Core/Src/main.c **** 
 394:Core/Src/main.c ****     GPIO_InitStruct.Pin = GPIO_PIN_10 | GPIO_PIN_11;  // SDA/SCL for I2C2
 1170              		.loc 1 394 5 view .LVU207
 1171              		.loc 1 394 25 is_stmt 0 view .LVU208
 1172 0022 4FF44063 		mov	r3, #3072
 1173 0026 0293     		str	r3, [sp, #8]
 395:Core/Src/main.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 1174              		.loc 1 395 5 is_stmt 1 view .LVU209
 1175              		.loc 1 395 26 is_stmt 0 view .LVU210
 1176 0028 1123     		movs	r3, #17
 1177 002a 0393     		str	r3, [sp, #12]
 396:Core/Src/main.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 1178              		.loc 1 396 5 is_stmt 1 view .LVU211
 397:Core/Src/main.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 1179              		.loc 1 397 5 view .LVU212
 1180              		.loc 1 397 27 is_stmt 0 view .LVU213
 1181 002c 0223     		movs	r3, #2
 1182 002e 0593     		str	r3, [sp, #20]
 398:Core/Src/main.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 1183              		.loc 1 398 5 is_stmt 1 view .LVU214
 1184 0030 02A9     		add	r1, sp, #8
 1185 0032 1748     		ldr	r0, .L93+4
 1186 0034 FFF7FEFF 		bl	HAL_GPIO_Init
 1187              	.LVL73:
 399:Core/Src/main.c **** 
 400:Core/Src/main.c ****     for (int i = 0; i < 9; i++) {
 1188              		.loc 1 400 5 view .LVU215
 1189              	.LBB6:
 1190              		.loc 1 400 10 view .LVU216
 1191              		.loc 1 400 5 is_stmt 0 view .LVU217
 1192 0038 13E0     		b	.L90
 1193              	.LVL74:
 1194              	.L91:
 401:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_SET);
 1195              		.loc 1 401 9 is_stmt 1 discriminator 3 view .LVU218
 1196 003a 154D     		ldr	r5, .L93+4
 1197 003c 0122     		movs	r2, #1
 1198 003e 4FF48061 		mov	r1, #1024
 1199 0042 2846     		mov	r0, r5
 1200 0044 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1201              	.LVL75:
ARM GAS  /tmp/ccUODzHK.s 			page 31


 402:Core/Src/main.c ****         HAL_Delay(1);
 1202              		.loc 1 402 9 discriminator 3 view .LVU219
 1203 0048 0120     		movs	r0, #1
 1204 004a FFF7FEFF 		bl	HAL_Delay
 1205              	.LVL76:
 403:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_RESET);
 1206              		.loc 1 403 9 discriminator 3 view .LVU220
 1207 004e 0022     		movs	r2, #0
 1208 0050 4FF48061 		mov	r1, #1024
 1209 0054 2846     		mov	r0, r5
 1210 0056 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1211              	.LVL77:
 404:Core/Src/main.c ****         HAL_Delay(1);
 1212              		.loc 1 404 9 discriminator 3 view .LVU221
 1213 005a 0120     		movs	r0, #1
 1214 005c FFF7FEFF 		bl	HAL_Delay
 1215              	.LVL78:
 400:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_SET);
 1216              		.loc 1 400 28 discriminator 3 view .LVU222
 400:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_SET);
 1217              		.loc 1 400 29 is_stmt 0 discriminator 3 view .LVU223
 1218 0060 0134     		adds	r4, r4, #1
 1219              	.LVL79:
 1220              	.L90:
 400:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_SET);
 1221              		.loc 1 400 21 is_stmt 1 discriminator 1 view .LVU224
 400:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_SET);
 1222              		.loc 1 400 5 is_stmt 0 discriminator 1 view .LVU225
 1223 0062 082C     		cmp	r4, #8
 1224 0064 E9DD     		ble	.L91
 1225              	.LBE6:
 405:Core/Src/main.c ****     }
 406:Core/Src/main.c **** 
 407:Core/Src/main.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10, GPIO_PIN_SET);
 1226              		.loc 1 407 5 is_stmt 1 view .LVU226
 1227 0066 0A4C     		ldr	r4, .L93+4
 1228              	.LVL80:
 1229              		.loc 1 407 5 is_stmt 0 view .LVU227
 1230 0068 0122     		movs	r2, #1
 1231 006a 4FF48061 		mov	r1, #1024
 1232 006e 2046     		mov	r0, r4
 1233 0070 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1234              	.LVL81:
 408:Core/Src/main.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_11, GPIO_PIN_SET);
 1235              		.loc 1 408 5 is_stmt 1 view .LVU228
 1236 0074 0122     		movs	r2, #1
 1237 0076 4FF40061 		mov	r1, #2048
 1238 007a 2046     		mov	r0, r4
 1239 007c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1240              	.LVL82:
 409:Core/Src/main.c ****     HAL_Delay(5);
 1241              		.loc 1 409 5 view .LVU229
 1242 0080 0520     		movs	r0, #5
 1243 0082 FFF7FEFF 		bl	HAL_Delay
 1244              	.LVL83:
 410:Core/Src/main.c **** }
 1245              		.loc 1 410 1 is_stmt 0 view .LVU230
ARM GAS  /tmp/ccUODzHK.s 			page 32


 1246 0086 07B0     		add	sp, sp, #28
 1247              	.LCFI49:
 1248              		.cfi_def_cfa_offset 12
 1249              		@ sp needed
 1250 0088 30BD     		pop	{r4, r5, pc}
 1251              	.L94:
 1252 008a 00BF     		.align	2
 1253              	.L93:
 1254 008c 00100240 		.word	1073876992
 1255 0090 000C0140 		.word	1073810432
 1256              		.cfi_endproc
 1257              	.LFE82:
 1259              		.section	.rodata.example_i2c_transaction.str1.4,"aMS",%progbits,1
 1260              		.align	2
 1261              	.LC25:
 1262 0000 496D6167 		.ascii	"Image capture command sent successfully.\015\000"
 1262      65206361 
 1262      70747572 
 1262      6520636F 
 1262      6D6D616E 
 1263 002a 0000     		.align	2
 1264              	.LC26:
 1265 002c 4661696C 		.ascii	"Failed to send image capture command after retries."
 1265      65642074 
 1265      6F207365 
 1265      6E642069 
 1265      6D616765 
 1266 005f 0D00     		.ascii	"\015\000"
 1267 0061 000000   		.align	2
 1268              	.LC27:
 1269 0064 4661696C 		.ascii	"Failed to receive packet %d\015\012\000"
 1269      65642074 
 1269      6F207265 
 1269      63656976 
 1269      65207061 
 1270 0082 0000     		.align	2
 1271              	.LC28:
 1272 0084 456E6420 		.ascii	"End of stream reached.\015\000"
 1272      6F662073 
 1272      74726561 
 1272      6D207265 
 1272      61636865 
 1273              		.align	2
 1274              	.LC29:
 1275 009c 30782530 		.ascii	"0x%02X \000"
 1275      32582000 
 1276              		.section	.text.example_i2c_transaction,"ax",%progbits
 1277              		.align	1
 1278              		.global	example_i2c_transaction
 1279              		.syntax unified
 1280              		.thumb
 1281              		.thumb_func
 1282              		.fpu softvfp
 1284              	example_i2c_transaction:
 1285              	.LFB83:
 411:Core/Src/main.c **** 
 412:Core/Src/main.c **** 
ARM GAS  /tmp/ccUODzHK.s 			page 33


 413:Core/Src/main.c **** void example_i2c_transaction(void)
 414:Core/Src/main.c **** {
 1286              		.loc 1 414 1 is_stmt 1 view -0
 1287              		.cfi_startproc
 1288              		@ args = 0, pretend = 0, frame = 232
 1289              		@ frame_needed = 0, uses_anonymous_args = 0
 1290 0000 30B5     		push	{r4, r5, lr}
 1291              	.LCFI50:
 1292              		.cfi_def_cfa_offset 12
 1293              		.cfi_offset 4, -12
 1294              		.cfi_offset 5, -8
 1295              		.cfi_offset 14, -4
 1296 0002 BBB0     		sub	sp, sp, #236
 1297              	.LCFI51:
 1298              		.cfi_def_cfa_offset 248
 415:Core/Src/main.c ****     uint8_t cmd[2] = {0x10, 0x00}; // Image capture command
 1299              		.loc 1 415 5 view .LVU232
 1300              		.loc 1 415 13 is_stmt 0 view .LVU233
 1301 0004 1023     		movs	r3, #16
 1302 0006 ADF8E430 		strh	r3, [sp, #228]	@ movhi
 416:Core/Src/main.c ****     HAL_StatusTypeDef status;
 1303              		.loc 1 416 5 is_stmt 1 view .LVU234
 417:Core/Src/main.c **** 
 418:Core/Src/main.c ****     // Send image capture command (with retries)
 419:Core/Src/main.c ****     status = i2c_master_transmit(cmd, 2);
 1304              		.loc 1 419 5 view .LVU235
 1305              		.loc 1 419 14 is_stmt 0 view .LVU236
 1306 000a 0221     		movs	r1, #2
 1307 000c 39A8     		add	r0, sp, #228
 1308 000e FFF7FEFF 		bl	i2c_master_transmit
 1309              	.LVL84:
 420:Core/Src/main.c ****     if (status == HAL_OK) {
 1310              		.loc 1 420 5 is_stmt 1 view .LVU237
 1311              		.loc 1 420 8 is_stmt 0 view .LVU238
 1312 0012 10F0FF0F 		tst	r0, #255
 1313 0016 08D1     		bne	.L96
 421:Core/Src/main.c ****         printf("Image capture command sent successfully.\r\n");
 1314              		.loc 1 421 9 is_stmt 1 view .LVU239
 1315 0018 1F48     		ldr	r0, .L110
 1316              	.LVL85:
 1317              		.loc 1 421 9 is_stmt 0 view .LVU240
 1318 001a FFF7FEFF 		bl	puts
 1319              	.LVL86:
 422:Core/Src/main.c ****     } else {
 423:Core/Src/main.c ****         printf("Failed to send image capture command after retries.\r\n");
 424:Core/Src/main.c ****         return;
 425:Core/Src/main.c ****     }
 426:Core/Src/main.c **** 
 427:Core/Src/main.c ****     // Wait for slave to capture and encode
 428:Core/Src/main.c ****     HAL_Delay(8000);
 1320              		.loc 1 428 5 is_stmt 1 view .LVU241
 1321 001e 4FF4FA50 		mov	r0, #8000
 1322 0022 FFF7FEFF 		bl	HAL_Delay
 1323              	.LVL87:
 429:Core/Src/main.c **** 
 430:Core/Src/main.c ****     // Start reading SSDV packets
 431:Core/Src/main.c ****     uint8_t ssdv_pkt[SSDV_PKT_SIZE];
ARM GAS  /tmp/ccUODzHK.s 			page 34


 1324              		.loc 1 431 5 view .LVU242
 432:Core/Src/main.c ****     for (int i = 0; i < SSDV_MAX_PACKETS; ++i) {
 1325              		.loc 1 432 5 view .LVU243
 1326              	.LBB7:
 1327              		.loc 1 432 10 view .LVU244
 1328              		.loc 1 432 14 is_stmt 0 view .LVU245
 1329 0026 0025     		movs	r5, #0
 1330              		.loc 1 432 5 view .LVU246
 1331 0028 11E0     		b	.L97
 1332              	.LVL88:
 1333              	.L96:
 1334              		.loc 1 432 5 view .LVU247
 1335              	.LBE7:
 423:Core/Src/main.c ****         return;
 1336              		.loc 1 423 9 is_stmt 1 view .LVU248
 1337 002a 1C48     		ldr	r0, .L110+4
 1338              	.LVL89:
 423:Core/Src/main.c ****         return;
 1339              		.loc 1 423 9 is_stmt 0 view .LVU249
 1340 002c FFF7FEFF 		bl	puts
 1341              	.LVL90:
 424:Core/Src/main.c ****     }
 1342              		.loc 1 424 9 is_stmt 1 view .LVU250
 1343              	.L95:
 433:Core/Src/main.c ****         status = i2c_master_receive(ssdv_pkt, SSDV_PKT_SIZE);
 434:Core/Src/main.c **** 
 435:Core/Src/main.c ****         if (status != HAL_OK) {
 436:Core/Src/main.c ****             printf("Failed to receive packet %d\r\n", i);
 437:Core/Src/main.c ****             break;
 438:Core/Src/main.c ****         }
 439:Core/Src/main.c **** 
 440:Core/Src/main.c ****         if (ssdv_pkt[0] == 0xFF) {
 441:Core/Src/main.c ****             printf("End of stream reached.\r\n");
 442:Core/Src/main.c ****             break;
 443:Core/Src/main.c ****         }
 444:Core/Src/main.c **** 
 445:Core/Src/main.c ****         printf("Packet %d received:\n", i);
 446:Core/Src/main.c ****         for (int j = 0; j < SSDV_PKT_SIZE; ++j) {
 447:Core/Src/main.c ****             printf("0x%02X ", ssdv_pkt[j]);
 448:Core/Src/main.c ****             if ((j + 1) % 16 == 0) printf("\n");
 449:Core/Src/main.c ****         }
 450:Core/Src/main.c ****         printf("\n-----------------------------\n");
 451:Core/Src/main.c ****     }
 452:Core/Src/main.c **** }
 1344              		.loc 1 452 1 is_stmt 0 view .LVU251
 1345 0030 3BB0     		add	sp, sp, #236
 1346              	.LCFI52:
 1347              		.cfi_remember_state
 1348              		.cfi_def_cfa_offset 12
 1349              		@ sp needed
 1350 0032 30BD     		pop	{r4, r5, pc}
 1351              	.LVL91:
 1352              	.L107:
 1353              	.LCFI53:
 1354              		.cfi_restore_state
 1355              	.LBB11:
 1356              	.LBB8:
ARM GAS  /tmp/ccUODzHK.s 			page 35


 436:Core/Src/main.c ****             break;
 1357              		.loc 1 436 13 is_stmt 1 view .LVU252
 1358 0034 2946     		mov	r1, r5
 1359 0036 1A48     		ldr	r0, .L110+8
 1360              	.LVL92:
 436:Core/Src/main.c ****             break;
 1361              		.loc 1 436 13 is_stmt 0 view .LVU253
 1362 0038 FFF7FEFF 		bl	printf
 1363              	.LVL93:
 437:Core/Src/main.c ****         }
 1364              		.loc 1 437 13 is_stmt 1 view .LVU254
 1365 003c F8E7     		b	.L95
 1366              	.LVL94:
 1367              	.L108:
 441:Core/Src/main.c ****             break;
 1368              		.loc 1 441 13 view .LVU255
 1369 003e 1948     		ldr	r0, .L110+12
 1370              	.LVL95:
 441:Core/Src/main.c ****             break;
 1371              		.loc 1 441 13 is_stmt 0 view .LVU256
 1372 0040 FFF7FEFF 		bl	puts
 1373              	.LVL96:
 442:Core/Src/main.c ****         }
 1374              		.loc 1 442 13 is_stmt 1 view .LVU257
 1375 0044 F4E7     		b	.L95
 1376              	.LVL97:
 1377              	.L109:
 450:Core/Src/main.c ****     }
 1378              		.loc 1 450 9 discriminator 2 view .LVU258
 1379 0046 1848     		ldr	r0, .L110+16
 1380 0048 FFF7FEFF 		bl	puts
 1381              	.LVL98:
 1382              	.LBE8:
 432:Core/Src/main.c ****         status = i2c_master_receive(ssdv_pkt, SSDV_PKT_SIZE);
 1383              		.loc 1 432 43 discriminator 2 view .LVU259
 1384 004c 0135     		adds	r5, r5, #1
 1385              	.LVL99:
 1386              	.L97:
 432:Core/Src/main.c ****         status = i2c_master_receive(ssdv_pkt, SSDV_PKT_SIZE);
 1387              		.loc 1 432 21 discriminator 1 view .LVU260
 432:Core/Src/main.c ****         status = i2c_master_receive(ssdv_pkt, SSDV_PKT_SIZE);
 1388              		.loc 1 432 5 is_stmt 0 discriminator 1 view .LVU261
 1389 004e FE2D     		cmp	r5, #254
 1390 0050 EEDC     		bgt	.L95
 1391              	.LBB10:
 433:Core/Src/main.c **** 
 1392              		.loc 1 433 9 is_stmt 1 view .LVU262
 433:Core/Src/main.c **** 
 1393              		.loc 1 433 18 is_stmt 0 view .LVU263
 1394 0052 E021     		movs	r1, #224
 1395 0054 01A8     		add	r0, sp, #4
 1396 0056 FFF7FEFF 		bl	i2c_master_receive
 1397              	.LVL100:
 435:Core/Src/main.c ****             printf("Failed to receive packet %d\r\n", i);
 1398              		.loc 1 435 9 is_stmt 1 view .LVU264
 435:Core/Src/main.c ****             printf("Failed to receive packet %d\r\n", i);
 1399              		.loc 1 435 12 is_stmt 0 view .LVU265
ARM GAS  /tmp/ccUODzHK.s 			page 36


 1400 005a 10F0FF0F 		tst	r0, #255
 1401 005e E9D1     		bne	.L107
 440:Core/Src/main.c ****             printf("End of stream reached.\r\n");
 1402              		.loc 1 440 9 is_stmt 1 view .LVU266
 440:Core/Src/main.c ****             printf("End of stream reached.\r\n");
 1403              		.loc 1 440 21 is_stmt 0 view .LVU267
 1404 0060 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 440:Core/Src/main.c ****             printf("End of stream reached.\r\n");
 1405              		.loc 1 440 12 view .LVU268
 1406 0064 FF2B     		cmp	r3, #255
 1407 0066 EAD0     		beq	.L108
 445:Core/Src/main.c ****         for (int j = 0; j < SSDV_PKT_SIZE; ++j) {
 1408              		.loc 1 445 9 is_stmt 1 view .LVU269
 1409 0068 2946     		mov	r1, r5
 1410 006a 1048     		ldr	r0, .L110+20
 1411              	.LVL101:
 445:Core/Src/main.c ****         for (int j = 0; j < SSDV_PKT_SIZE; ++j) {
 1412              		.loc 1 445 9 is_stmt 0 view .LVU270
 1413 006c FFF7FEFF 		bl	printf
 1414              	.LVL102:
 446:Core/Src/main.c ****             printf("0x%02X ", ssdv_pkt[j]);
 1415              		.loc 1 446 9 is_stmt 1 view .LVU271
 1416              	.LBB9:
 446:Core/Src/main.c ****             printf("0x%02X ", ssdv_pkt[j]);
 1417              		.loc 1 446 14 view .LVU272
 446:Core/Src/main.c ****             printf("0x%02X ", ssdv_pkt[j]);
 1418              		.loc 1 446 18 is_stmt 0 view .LVU273
 1419 0070 0024     		movs	r4, #0
 1420              	.LVL103:
 1421              	.L102:
 446:Core/Src/main.c ****             printf("0x%02X ", ssdv_pkt[j]);
 1422              		.loc 1 446 25 is_stmt 1 discriminator 1 view .LVU274
 446:Core/Src/main.c ****             printf("0x%02X ", ssdv_pkt[j]);
 1423              		.loc 1 446 9 is_stmt 0 discriminator 1 view .LVU275
 1424 0072 DF2C     		cmp	r4, #223
 1425 0074 E7DC     		bgt	.L109
 447:Core/Src/main.c ****             if ((j + 1) % 16 == 0) printf("\n");
 1426              		.loc 1 447 13 is_stmt 1 view .LVU276
 447:Core/Src/main.c ****             if ((j + 1) % 16 == 0) printf("\n");
 1427              		.loc 1 447 39 is_stmt 0 view .LVU277
 1428 0076 04F1E803 		add	r3, r4, #232
 1429 007a 6B44     		add	r3, sp, r3
 447:Core/Src/main.c ****             if ((j + 1) % 16 == 0) printf("\n");
 1430              		.loc 1 447 13 view .LVU278
 1431 007c 13F8E41C 		ldrb	r1, [r3, #-228]	@ zero_extendqisi2
 1432 0080 0B48     		ldr	r0, .L110+24
 1433 0082 FFF7FEFF 		bl	printf
 1434              	.LVL104:
 448:Core/Src/main.c ****         }
 1435              		.loc 1 448 13 is_stmt 1 view .LVU279
 448:Core/Src/main.c ****         }
 1436              		.loc 1 448 20 is_stmt 0 view .LVU280
 1437 0086 0134     		adds	r4, r4, #1
 1438              	.LVL105:
 448:Core/Src/main.c ****         }
 1439              		.loc 1 448 16 view .LVU281
 1440 0088 14F00F0F 		tst	r4, #15
ARM GAS  /tmp/ccUODzHK.s 			page 37


 1441 008c F1D1     		bne	.L102
 448:Core/Src/main.c ****         }
 1442              		.loc 1 448 36 is_stmt 1 discriminator 1 view .LVU282
 1443 008e 0A20     		movs	r0, #10
 1444 0090 FFF7FEFF 		bl	putchar
 1445              	.LVL106:
 1446 0094 EDE7     		b	.L102
 1447              	.L111:
 1448 0096 00BF     		.align	2
 1449              	.L110:
 1450 0098 00000000 		.word	.LC25
 1451 009c 2C000000 		.word	.LC26
 1452 00a0 64000000 		.word	.LC27
 1453 00a4 84000000 		.word	.LC28
 1454 00a8 60000000 		.word	.LC10
 1455 00ac 3C000000 		.word	.LC8
 1456 00b0 9C000000 		.word	.LC29
 1457              	.LBE9:
 1458              	.LBE10:
 1459              	.LBE11:
 1460              		.cfi_endproc
 1461              	.LFE83:
 1463              		.section	.rodata.check_i2c_timeout.str1.4,"aMS",%progbits,1
 1464              		.align	2
 1465              	.LC30:
 1466 0000 49324320 		.ascii	"I2C bus stuck, resetting...\015\000"
 1466      62757320 
 1466      73747563 
 1466      6B2C2072 
 1466      65736574 
 1467              		.section	.text.check_i2c_timeout,"ax",%progbits
 1468              		.align	1
 1469              		.global	check_i2c_timeout
 1470              		.syntax unified
 1471              		.thumb
 1472              		.thumb_func
 1473              		.fpu softvfp
 1475              	check_i2c_timeout:
 1476              	.LFB84:
 453:Core/Src/main.c **** 
 454:Core/Src/main.c **** 
 455:Core/Src/main.c **** 
 456:Core/Src/main.c **** 
 457:Core/Src/main.c **** 
 458:Core/Src/main.c **** void check_i2c_timeout()
 459:Core/Src/main.c **** {
 1477              		.loc 1 459 1 view -0
 1478              		.cfi_startproc
 1479              		@ args = 0, pretend = 0, frame = 0
 1480              		@ frame_needed = 0, uses_anonymous_args = 0
 1481 0000 10B5     		push	{r4, lr}
 1482              	.LCFI54:
 1483              		.cfi_def_cfa_offset 8
 1484              		.cfi_offset 4, -8
 1485              		.cfi_offset 14, -4
 460:Core/Src/main.c ****     if (HAL_GetTick() - last_i2c_activity > 3000) // 3 seconds no I2C activity
 1486              		.loc 1 460 5 view .LVU284
ARM GAS  /tmp/ccUODzHK.s 			page 38


 1487              		.loc 1 460 9 is_stmt 0 view .LVU285
 1488 0002 FFF7FEFF 		bl	HAL_GetTick
 1489              	.LVL107:
 1490              		.loc 1 460 23 view .LVU286
 1491 0006 134B     		ldr	r3, .L117
 1492 0008 1B68     		ldr	r3, [r3]
 1493 000a C01A     		subs	r0, r0, r3
 1494              		.loc 1 460 8 view .LVU287
 1495 000c 40F6B833 		movw	r3, #3000
 1496 0010 9842     		cmp	r0, r3
 1497 0012 09D9     		bls	.L112
 461:Core/Src/main.c ****     {
 462:Core/Src/main.c ****         if (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY))
 1498              		.loc 1 462 9 is_stmt 1 view .LVU288
 1499              		.loc 1 462 13 is_stmt 0 view .LVU289
 1500 0014 104B     		ldr	r3, .L117+4
 1501 0016 1B68     		ldr	r3, [r3]
 1502 0018 9B69     		ldr	r3, [r3, #24]
 1503              		.loc 1 462 12 view .LVU290
 1504 001a 13F0020F 		tst	r3, #2
 1505 001e 04D1     		bne	.L116
 1506              	.L114:
 463:Core/Src/main.c ****         {
 464:Core/Src/main.c ****             printf("I2C bus stuck, resetting...\r\n");
 465:Core/Src/main.c ****             __HAL_RCC_I2C2_FORCE_RESET();
 466:Core/Src/main.c ****             HAL_Delay(1);
 467:Core/Src/main.c ****             __HAL_RCC_I2C2_RELEASE_RESET();
 468:Core/Src/main.c ****             MX_I2C2_Init();  // Your re-init function
 469:Core/Src/main.c ****             HAL_I2C_EnableListen_IT(&hi2c2);
 470:Core/Src/main.c **** 
 471:Core/Src/main.c ****         }
 472:Core/Src/main.c ****         last_i2c_activity = HAL_GetTick(); // Prevent repeated reset
 1507              		.loc 1 472 9 is_stmt 1 view .LVU291
 1508              		.loc 1 472 29 is_stmt 0 view .LVU292
 1509 0020 FFF7FEFF 		bl	HAL_GetTick
 1510              	.LVL108:
 1511              		.loc 1 472 27 view .LVU293
 1512 0024 0B4B     		ldr	r3, .L117
 1513 0026 1860     		str	r0, [r3]
 1514              	.L112:
 473:Core/Src/main.c ****     }
 474:Core/Src/main.c **** }
 1515              		.loc 1 474 1 view .LVU294
 1516 0028 10BD     		pop	{r4, pc}
 1517              	.L116:
 464:Core/Src/main.c ****             __HAL_RCC_I2C2_FORCE_RESET();
 1518              		.loc 1 464 13 is_stmt 1 view .LVU295
 1519 002a 0C48     		ldr	r0, .L117+8
 1520 002c FFF7FEFF 		bl	puts
 1521              	.LVL109:
 465:Core/Src/main.c ****             HAL_Delay(1);
 1522              		.loc 1 465 13 view .LVU296
 1523 0030 0B4C     		ldr	r4, .L117+12
 1524 0032 2369     		ldr	r3, [r4, #16]
 1525 0034 43F48003 		orr	r3, r3, #4194304
 1526 0038 2361     		str	r3, [r4, #16]
 466:Core/Src/main.c ****             __HAL_RCC_I2C2_RELEASE_RESET();
ARM GAS  /tmp/ccUODzHK.s 			page 39


 1527              		.loc 1 466 13 view .LVU297
 1528 003a 0120     		movs	r0, #1
 1529 003c FFF7FEFF 		bl	HAL_Delay
 1530              	.LVL110:
 467:Core/Src/main.c ****             MX_I2C2_Init();  // Your re-init function
 1531              		.loc 1 467 13 view .LVU298
 1532 0040 2369     		ldr	r3, [r4, #16]
 1533 0042 23F48003 		bic	r3, r3, #4194304
 1534 0046 2361     		str	r3, [r4, #16]
 468:Core/Src/main.c ****             HAL_I2C_EnableListen_IT(&hi2c2);
 1535              		.loc 1 468 13 view .LVU299
 1536 0048 FFF7FEFF 		bl	MX_I2C2_Init
 1537              	.LVL111:
 469:Core/Src/main.c **** 
 1538              		.loc 1 469 13 view .LVU300
 1539 004c 0248     		ldr	r0, .L117+4
 1540 004e FFF7FEFF 		bl	HAL_I2C_EnableListen_IT
 1541              	.LVL112:
 1542 0052 E5E7     		b	.L114
 1543              	.L118:
 1544              		.align	2
 1545              	.L117:
 1546 0054 00000000 		.word	.LANCHOR0
 1547 0058 00000000 		.word	hi2c2
 1548 005c 00000000 		.word	.LC30
 1549 0060 00100240 		.word	1073876992
 1550              		.cfi_endproc
 1551              	.LFE84:
 1553              		.section	.text.Error_Handler,"ax",%progbits
 1554              		.align	1
 1555              		.global	Error_Handler
 1556              		.syntax unified
 1557              		.thumb
 1558              		.thumb_func
 1559              		.fpu softvfp
 1561              	Error_Handler:
 1562              	.LFB87:
 475:Core/Src/main.c **** /* USER CODE END PTD */
 476:Core/Src/main.c **** 
 477:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
 478:Core/Src/main.c **** /* USER CODE BEGIN PD */
 479:Core/Src/main.c **** 
 480:Core/Src/main.c **** /* USER CODE END PD */
 481:Core/Src/main.c **** 
 482:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
 483:Core/Src/main.c **** /* USER CODE BEGIN PM */
 484:Core/Src/main.c **** 
 485:Core/Src/main.c **** /* USER CODE END PM */
 486:Core/Src/main.c **** 
 487:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
 488:Core/Src/main.c **** 
 489:Core/Src/main.c **** /* USER CODE BEGIN PV */
 490:Core/Src/main.c **** 
 491:Core/Src/main.c **** /* USER CODE END PV */
 492:Core/Src/main.c **** 
 493:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
 494:Core/Src/main.c **** void SystemClock_Config(void);
ARM GAS  /tmp/ccUODzHK.s 			page 40


 495:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 496:Core/Src/main.c **** 
 497:Core/Src/main.c **** /* USER CODE END PFP */
 498:Core/Src/main.c **** 
 499:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
 500:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 501:Core/Src/main.c **** 
 502:Core/Src/main.c **** /* USER CODE END 0 */
 503:Core/Src/main.c **** 
 504:Core/Src/main.c **** /**
 505:Core/Src/main.c ****   * @brief  The application entry point.
 506:Core/Src/main.c ****   * @retval int
 507:Core/Src/main.c ****   */
 508:Core/Src/main.c **** int main(void)
 509:Core/Src/main.c **** {
 510:Core/Src/main.c **** 
 511:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 512:Core/Src/main.c **** 
 513:Core/Src/main.c ****   /* USER CODE END 1 */
 514:Core/Src/main.c **** 
 515:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
 516:Core/Src/main.c **** 
 517:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 518:Core/Src/main.c ****   HAL_Init();
 519:Core/Src/main.c **** 
 520:Core/Src/main.c ****   /* USER CODE BEGIN Init */
 521:Core/Src/main.c **** 
 522:Core/Src/main.c ****   /* USER CODE END Init */
 523:Core/Src/main.c **** 
 524:Core/Src/main.c ****   /* Configure the system clock */
 525:Core/Src/main.c ****   SystemClock_Config();
 526:Core/Src/main.c **** 
 527:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 528:Core/Src/main.c **** 
 529:Core/Src/main.c ****   /* USER CODE END SysInit */
 530:Core/Src/main.c **** 
 531:Core/Src/main.c ****   /* Initialize all configured peripherals */
 532:Core/Src/main.c ****   MX_GPIO_Init();
 533:Core/Src/main.c **** 
 534:Core/Src/main.c ****   MX_I2C2_Init();
 535:Core/Src/main.c ****   MX_USART1_UART_Init();
 536:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 537:Core/Src/main.c ****   printf("Master starting...\r\n");
 538:Core/Src/main.c ****   HAL_Delay(500);
 539:Core/Src/main.c **** //   set_brightness_(CAM_BRIGHTNESS_LEVEL_4);
 540:Core/Src/main.c **** //   set_effect_(CAM_COLOR_FX_SEPIA );
 541:Core/Src/main.c **** //   set_contrast_(CAM_CONTRAST_LEVEL_MINUS_3 );
 542:Core/Src/main.c **** 
 543:Core/Src/main.c ****   // Step 1: Request Image Capture
 544:Core/Src/main.c **** 
 545:Core/Src/main.c **** //   request_image_capture();
 546:Core/Src/main.c **** //   HAL_Delay(8000);  // Allow time for image capture & SSDV encoding
 547:Core/Src/main.c **** 
 548:Core/Src/main.c **** // //   // Step 2: Request SSDV Stream
 549:Core/Src/main.c **** //   request_ssdv_stream();
 550:Core/Src/main.c **** //   HAL_Delay(200);
 551:Core/Src/main.c **** 
ARM GAS  /tmp/ccUODzHK.s 			page 41


 552:Core/Src/main.c **** //   // Step 3: Read All SSDV Packets
 553:Core/Src/main.c **** //   read_ssdv_stream();
 554:Core/Src/main.c **** //     HAL_Delay(8000);
 555:Core/Src/main.c ****     // request_prestored();
 556:Core/Src/main.c **** //   HAL_Delay(200);
 557:Core/Src/main.c **** //   read_ssdv_stream();
 558:Core/Src/main.c ****     // request_prestored_image();
 559:Core/Src/main.c ****     // camera_on();
 560:Core/Src/main.c ****     // HAL_Delay(1000);
 561:Core/Src/main.c ****     // request_image_capture();
 562:Core/Src/main.c ****     // HAL_Delay(8000);  // Allow time for image capture & SSDV encoding
 563:Core/Src/main.c **** 
 564:Core/Src/main.c ****     //   // Step 2: Request SSDV Stream
 565:Core/Src/main.c ****     // request_ssdv_stream();
 566:Core/Src/main.c ****     // HAL_Delay(200);
 567:Core/Src/main.c **** 
 568:Core/Src/main.c ****     // Step 3: Read All SSDV Packets
 569:Core/Src/main.c ****     // read_ssdv_stream();
 570:Core/Src/main.c ****     // HAL_Delay(1000);
 571:Core/Src/main.c ****     // camera_off();
 572:Core/Src/main.c **** 
 573:Core/Src/main.c **** 
 574:Core/Src/main.c ****     // camera_on();
 575:Core/Src/main.c ****     // request_image_capture();
 576:Core/Src/main.c ****     // HAL_Delay(8000);  // Allow time for image capture & SSDV encoding
 577:Core/Src/main.c **** 
 578:Core/Src/main.c ****     // //   // Step 2: Request SSDV Stream
 579:Core/Src/main.c ****     // request_ssdv_stream();
 580:Core/Src/main.c ****     // HAL_Delay(200);
 581:Core/Src/main.c **** 
 582:Core/Src/main.c ****     // // Step 3: Read All SSDV Packets
 583:Core/Src/main.c ****     // read_ssdv_stream();
 584:Core/Src/main.c ****     // camera_off();
 585:Core/Src/main.c ****     // // HAL_Delay(1500);
 586:Core/Src/main.c ****     // // printf("capturing prestored image now!!\n");
 587:Core/Src/main.c **** 
 588:Core/Src/main.c **** 
 589:Core/Src/main.c ****     // camera_on();
 590:Core/Src/main.c ****     // request_prestored_image();
 591:Core/Src/main.c ****     // HAL_Delay(1000);
 592:Core/Src/main.c ****     // camera_off();
 593:Core/Src/main.c **** 
 594:Core/Src/main.c ****   uint32_t last_i2c_check_time = 0;
 595:Core/Src/main.c **** 
 596:Core/Src/main.c ****   /* USER CODE END 2 */
 597:Core/Src/main.c **** 
 598:Core/Src/main.c ****   /* Infinite loop */
 599:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 600:Core/Src/main.c ****   while (1)
 601:Core/Src/main.c ****   {
 602:Core/Src/main.c ****     camera_on();
 603:Core/Src/main.c ****     // HAL_Delay(3000);
 604:Core/Src/main.c ****     /* === Periodic I2C bus health check === */
 605:Core/Src/main.c ****     if (HAL_GetTick() - last_i2c_check_time > 1000)  // every 1s
 606:Core/Src/main.c ****     {
 607:Core/Src/main.c ****       last_i2c_check_time = HAL_GetTick();
 608:Core/Src/main.c **** 
ARM GAS  /tmp/ccUODzHK.s 			page 42


 609:Core/Src/main.c ****       // Timeout: if no I2C activity in 3s, and BUSY flag still set
 610:Core/Src/main.c ****       if ((HAL_GetTick() - last_i2c_activity > 3000) &&
 611:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 612:Core/Src/main.c ****       {
 613:Core/Src/main.c ****         printf("I2C timeout detected! Resetting I2C2...\r\n");
 614:Core/Src/main.c **** 
 615:Core/Src/main.c ****         // Reset I2C2 peripheral safely
 616:Core/Src/main.c ****         __HAL_RCC_I2C2_FORCE_RESET();
 617:Core/Src/main.c ****         HAL_Delay(2);
 618:Core/Src/main.c ****         __HAL_RCC_I2C2_RELEASE_RESET();
 619:Core/Src/main.c ****         MX_I2C2_Init();  // Reinitialize I2C2
 620:Core/Src/main.c ****        
 621:Core/Src/main.c **** 
 622:Core/Src/main.c ****       }
 623:Core/Src/main.c ****     }
 624:Core/Src/main.c ****     HAL_Delay(1000);
 625:Core/Src/main.c ****     request_image_capture();
 626:Core/Src/main.c ****     HAL_Delay(8000);  // Allow time for image capture & SSDV encoding
 627:Core/Src/main.c **** 
 628:Core/Src/main.c ****     //   // Step 2: Request SSDV Stream
 629:Core/Src/main.c ****     request_ssdv_stream();
 630:Core/Src/main.c ****     HAL_Delay(200);
 631:Core/Src/main.c **** 
 632:Core/Src/main.c ****     // Step 3: Read All SSDV Packets
 633:Core/Src/main.c ****     read_ssdv_stream();
 634:Core/Src/main.c ****     // camera_off();
 635:Core/Src/main.c ****     HAL_Delay(5000);
 636:Core/Src/main.c ****     // printf("capturing prestored image now!!\n");
 637:Core/Src/main.c ****     if (HAL_GetTick() - last_i2c_check_time > 1000)  // every 1s
 638:Core/Src/main.c ****     {
 639:Core/Src/main.c ****       last_i2c_check_time = HAL_GetTick();
 640:Core/Src/main.c **** 
 641:Core/Src/main.c ****       // Timeout: if no I2C activity in 3s, and BUSY flag still set
 642:Core/Src/main.c ****       if ((HAL_GetTick() - last_i2c_activity > 3000) &&
 643:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 644:Core/Src/main.c ****       {
 645:Core/Src/main.c ****         printf("I2C timeout detected! Resetting I2C2...\r\n");
 646:Core/Src/main.c **** 
 647:Core/Src/main.c ****         // Reset I2C2 peripheral safely
 648:Core/Src/main.c ****         __HAL_RCC_I2C2_FORCE_RESET();
 649:Core/Src/main.c ****         HAL_Delay(2);
 650:Core/Src/main.c ****         __HAL_RCC_I2C2_RELEASE_RESET();
 651:Core/Src/main.c ****         MX_I2C2_Init();  // Reinitialize I2C2
 652:Core/Src/main.c ****        
 653:Core/Src/main.c **** 
 654:Core/Src/main.c ****       }
 655:Core/Src/main.c ****     }
 656:Core/Src/main.c **** 
 657:Core/Src/main.c **** 
 658:Core/Src/main.c ****     // camera_on();
 659:Core/Src/main.c ****     // HAL_Delay(1000);
 660:Core/Src/main.c ****     printf("running prestored image\r\n");
 661:Core/Src/main.c ****     request_prestored_image();
 662:Core/Src/main.c ****     HAL_Delay(9000);
 663:Core/Src/main.c ****     // printf("i2c recovery going on....\r\n");
 664:Core/Src/main.c ****     camera_off();
 665:Core/Src/main.c ****     // HAL_Delay(3000);
ARM GAS  /tmp/ccUODzHK.s 			page 43


 666:Core/Src/main.c **** 
 667:Core/Src/main.c **** 
 668:Core/Src/main.c **** 
 669:Core/Src/main.c **** 
 670:Core/Src/main.c **** 
 671:Core/Src/main.c **** 
 672:Core/Src/main.c ****     /* USER CODE END WHILE */
 673:Core/Src/main.c **** 
 674:Core/Src/main.c ****     /* USER CODE BEGIN 3 */
 675:Core/Src/main.c ****   }
 676:Core/Src/main.c ****   /* USER CODE END 3 */
 677:Core/Src/main.c **** }
 678:Core/Src/main.c **** 
 679:Core/Src/main.c **** /**
 680:Core/Src/main.c ****   * @brief System Clock Configuration
 681:Core/Src/main.c ****   * @retval None
 682:Core/Src/main.c ****   */
 683:Core/Src/main.c **** void SystemClock_Config(void)
 684:Core/Src/main.c **** {
 685:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 686:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 687:Core/Src/main.c **** 
 688:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 689:Core/Src/main.c ****   * in the RCC_OscInitTypeDef structure.
 690:Core/Src/main.c ****   */
 691:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 692:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 693:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 694:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 695:Core/Src/main.c ****   {
 696:Core/Src/main.c ****     Error_Handler();
 697:Core/Src/main.c ****   }
 698:Core/Src/main.c **** 
 699:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
 700:Core/Src/main.c ****   */
 701:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 702:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 703:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_HSE;
 704:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 705:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 706:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 707:Core/Src/main.c **** 
 708:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_0) != HAL_OK)
 709:Core/Src/main.c ****   {
 710:Core/Src/main.c ****     Error_Handler();
 711:Core/Src/main.c ****   }
 712:Core/Src/main.c **** }
 713:Core/Src/main.c **** 
 714:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 715:Core/Src/main.c **** 
 716:Core/Src/main.c **** /* USER CODE END 4 */
 717:Core/Src/main.c **** 
 718:Core/Src/main.c **** /**
 719:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 720:Core/Src/main.c ****   * @retval None
 721:Core/Src/main.c ****   */
 722:Core/Src/main.c **** void Error_Handler(void)
ARM GAS  /tmp/ccUODzHK.s 			page 44


 723:Core/Src/main.c **** {
 1563              		.loc 1 723 1 view -0
 1564              		.cfi_startproc
 1565              		@ Volatile: function does not return.
 1566              		@ args = 0, pretend = 0, frame = 0
 1567              		@ frame_needed = 0, uses_anonymous_args = 0
 1568              		@ link register save eliminated.
 724:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 725:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 726:Core/Src/main.c ****   __disable_irq();
 1569              		.loc 1 726 3 view .LVU302
 1570              	.LBB12:
 1571              	.LBI12:
 1572              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
ARM GAS  /tmp/ccUODzHK.s 			page 45


  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
ARM GAS  /tmp/ccUODzHK.s 			page 46


 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1573              		.loc 2 140 27 view .LVU303
 1574              	.LBB13:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1575              		.loc 2 142 3 view .LVU304
 1576              		.syntax unified
 1577              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1578 0000 72B6     		cpsid i
 1579              	@ 0 "" 2
 1580              		.thumb
 1581              		.syntax unified
 1582              	.L120:
 1583              	.LBE13:
 1584              	.LBE12:
 727:Core/Src/main.c ****   while (1)
 1585              		.loc 1 727 3 discriminator 1 view .LVU305
 728:Core/Src/main.c ****   {
ARM GAS  /tmp/ccUODzHK.s 			page 47


 729:Core/Src/main.c ****   }
 1586              		.loc 1 729 3 discriminator 1 view .LVU306
 727:Core/Src/main.c ****   while (1)
 1587              		.loc 1 727 9 discriminator 1 view .LVU307
 1588 0002 FEE7     		b	.L120
 1589              		.cfi_endproc
 1590              	.LFE87:
 1592              		.section	.text.SystemClock_Config,"ax",%progbits
 1593              		.align	1
 1594              		.global	SystemClock_Config
 1595              		.syntax unified
 1596              		.thumb
 1597              		.thumb_func
 1598              		.fpu softvfp
 1600              	SystemClock_Config:
 1601              	.LFB86:
 684:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1602              		.loc 1 684 1 view -0
 1603              		.cfi_startproc
 1604              		@ args = 0, pretend = 0, frame = 64
 1605              		@ frame_needed = 0, uses_anonymous_args = 0
 1606 0000 00B5     		push	{lr}
 1607              	.LCFI55:
 1608              		.cfi_def_cfa_offset 4
 1609              		.cfi_offset 14, -4
 1610 0002 91B0     		sub	sp, sp, #68
 1611              	.LCFI56:
 1612              		.cfi_def_cfa_offset 72
 685:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1613              		.loc 1 685 3 view .LVU309
 685:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1614              		.loc 1 685 22 is_stmt 0 view .LVU310
 1615 0004 2822     		movs	r2, #40
 1616 0006 0021     		movs	r1, #0
 1617 0008 06A8     		add	r0, sp, #24
 1618 000a FFF7FEFF 		bl	memset
 1619              	.LVL113:
 686:Core/Src/main.c **** 
 1620              		.loc 1 686 3 is_stmt 1 view .LVU311
 686:Core/Src/main.c **** 
 1621              		.loc 1 686 22 is_stmt 0 view .LVU312
 1622 000e 0023     		movs	r3, #0
 1623 0010 0193     		str	r3, [sp, #4]
 1624 0012 0293     		str	r3, [sp, #8]
 1625 0014 0393     		str	r3, [sp, #12]
 1626 0016 0493     		str	r3, [sp, #16]
 1627 0018 0593     		str	r3, [sp, #20]
 691:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1628              		.loc 1 691 3 is_stmt 1 view .LVU313
 691:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1629              		.loc 1 691 36 is_stmt 0 view .LVU314
 1630 001a 0123     		movs	r3, #1
 1631 001c 0693     		str	r3, [sp, #24]
 692:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 1632              		.loc 1 692 3 is_stmt 1 view .LVU315
 692:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 1633              		.loc 1 692 30 is_stmt 0 view .LVU316
ARM GAS  /tmp/ccUODzHK.s 			page 48


 1634 001e 4FF48033 		mov	r3, #65536
 1635 0022 0793     		str	r3, [sp, #28]
 693:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1636              		.loc 1 693 3 is_stmt 1 view .LVU317
 694:Core/Src/main.c ****   {
 1637              		.loc 1 694 3 view .LVU318
 694:Core/Src/main.c ****   {
 1638              		.loc 1 694 7 is_stmt 0 view .LVU319
 1639 0024 06A8     		add	r0, sp, #24
 1640 0026 FFF7FEFF 		bl	HAL_RCC_OscConfig
 1641              	.LVL114:
 694:Core/Src/main.c ****   {
 1642              		.loc 1 694 6 view .LVU320
 1643 002a 70B9     		cbnz	r0, .L125
 701:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1644              		.loc 1 701 3 is_stmt 1 view .LVU321
 701:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1645              		.loc 1 701 31 is_stmt 0 view .LVU322
 1646 002c 0F23     		movs	r3, #15
 1647 002e 0193     		str	r3, [sp, #4]
 703:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1648              		.loc 1 703 3 is_stmt 1 view .LVU323
 703:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1649              		.loc 1 703 34 is_stmt 0 view .LVU324
 1650 0030 0123     		movs	r3, #1
 1651 0032 0293     		str	r3, [sp, #8]
 704:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1652              		.loc 1 704 3 is_stmt 1 view .LVU325
 704:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1653              		.loc 1 704 35 is_stmt 0 view .LVU326
 1654 0034 0021     		movs	r1, #0
 1655 0036 0391     		str	r1, [sp, #12]
 705:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1656              		.loc 1 705 3 is_stmt 1 view .LVU327
 705:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1657              		.loc 1 705 36 is_stmt 0 view .LVU328
 1658 0038 0491     		str	r1, [sp, #16]
 706:Core/Src/main.c **** 
 1659              		.loc 1 706 3 is_stmt 1 view .LVU329
 706:Core/Src/main.c **** 
 1660              		.loc 1 706 36 is_stmt 0 view .LVU330
 1661 003a 0591     		str	r1, [sp, #20]
 708:Core/Src/main.c ****   {
 1662              		.loc 1 708 3 is_stmt 1 view .LVU331
 708:Core/Src/main.c ****   {
 1663              		.loc 1 708 7 is_stmt 0 view .LVU332
 1664 003c 01A8     		add	r0, sp, #4
 1665 003e FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1666              	.LVL115:
 708:Core/Src/main.c ****   {
 1667              		.loc 1 708 6 view .LVU333
 1668 0042 20B9     		cbnz	r0, .L126
 712:Core/Src/main.c **** 
 1669              		.loc 1 712 1 view .LVU334
 1670 0044 11B0     		add	sp, sp, #68
 1671              	.LCFI57:
 1672              		.cfi_remember_state
ARM GAS  /tmp/ccUODzHK.s 			page 49


 1673              		.cfi_def_cfa_offset 4
 1674              		@ sp needed
 1675 0046 5DF804FB 		ldr	pc, [sp], #4
 1676              	.L125:
 1677              	.LCFI58:
 1678              		.cfi_restore_state
 696:Core/Src/main.c ****   }
 1679              		.loc 1 696 5 is_stmt 1 view .LVU335
 1680 004a FFF7FEFF 		bl	Error_Handler
 1681              	.LVL116:
 1682              	.L126:
 710:Core/Src/main.c ****   }
 1683              		.loc 1 710 5 view .LVU336
 1684 004e FFF7FEFF 		bl	Error_Handler
 1685              	.LVL117:
 1686              		.cfi_endproc
 1687              	.LFE86:
 1689              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1690              		.align	2
 1691              	.LC31:
 1692 0000 4D617374 		.ascii	"Master starting...\015\000"
 1692      65722073 
 1692      74617274 
 1692      696E672E 
 1692      2E2E0D00 
 1693              		.align	2
 1694              	.LC32:
 1695 0014 49324320 		.ascii	"I2C timeout detected! Resetting I2C2...\015\000"
 1695      74696D65 
 1695      6F757420 
 1695      64657465 
 1695      63746564 
 1696 003d 000000   		.align	2
 1697              	.LC33:
 1698 0040 72756E6E 		.ascii	"running prestored image\015\000"
 1698      696E6720 
 1698      70726573 
 1698      746F7265 
 1698      6420696D 
 1699              		.section	.text.main,"ax",%progbits
 1700              		.align	1
 1701              		.global	main
 1702              		.syntax unified
 1703              		.thumb
 1704              		.thumb_func
 1705              		.fpu softvfp
 1707              	main:
 1708              	.LFB85:
 509:Core/Src/main.c **** 
 1709              		.loc 1 509 1 view -0
 1710              		.cfi_startproc
 1711              		@ args = 0, pretend = 0, frame = 0
 1712              		@ frame_needed = 0, uses_anonymous_args = 0
 1713 0000 38B5     		push	{r3, r4, r5, lr}
 1714              	.LCFI59:
 1715              		.cfi_def_cfa_offset 16
 1716              		.cfi_offset 3, -16
ARM GAS  /tmp/ccUODzHK.s 			page 50


 1717              		.cfi_offset 4, -12
 1718              		.cfi_offset 5, -8
 1719              		.cfi_offset 14, -4
 518:Core/Src/main.c **** 
 1720              		.loc 1 518 3 view .LVU338
 1721 0002 FFF7FEFF 		bl	HAL_Init
 1722              	.LVL118:
 525:Core/Src/main.c **** 
 1723              		.loc 1 525 3 view .LVU339
 1724 0006 FFF7FEFF 		bl	SystemClock_Config
 1725              	.LVL119:
 532:Core/Src/main.c **** 
 1726              		.loc 1 532 3 view .LVU340
 1727 000a FFF7FEFF 		bl	MX_GPIO_Init
 1728              	.LVL120:
 534:Core/Src/main.c ****   MX_USART1_UART_Init();
 1729              		.loc 1 534 3 view .LVU341
 1730 000e FFF7FEFF 		bl	MX_I2C2_Init
 1731              	.LVL121:
 535:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 1732              		.loc 1 535 3 view .LVU342
 1733 0012 FFF7FEFF 		bl	MX_USART1_UART_Init
 1734              	.LVL122:
 537:Core/Src/main.c ****   HAL_Delay(500);
 1735              		.loc 1 537 3 view .LVU343
 1736 0016 3F48     		ldr	r0, .L133
 1737 0018 FFF7FEFF 		bl	puts
 1738              	.LVL123:
 538:Core/Src/main.c **** //   set_brightness_(CAM_BRIGHTNESS_LEVEL_4);
 1739              		.loc 1 538 3 view .LVU344
 1740 001c 4FF4FA70 		mov	r0, #500
 1741 0020 FFF7FEFF 		bl	HAL_Delay
 1742              	.LVL124:
 594:Core/Src/main.c **** 
 1743              		.loc 1 594 3 view .LVU345
 594:Core/Src/main.c **** 
 1744              		.loc 1 594 12 is_stmt 0 view .LVU346
 1745 0024 0024     		movs	r4, #0
 1746 0026 2EE0     		b	.L130
 1747              	.LVL125:
 1748              	.L132:
 607:Core/Src/main.c **** 
 1749              		.loc 1 607 7 is_stmt 1 view .LVU347
 607:Core/Src/main.c **** 
 1750              		.loc 1 607 29 is_stmt 0 view .LVU348
 1751 0028 FFF7FEFF 		bl	HAL_GetTick
 1752              	.LVL126:
 1753 002c 0446     		mov	r4, r0
 1754              	.LVL127:
 610:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1755              		.loc 1 610 7 is_stmt 1 view .LVU349
 610:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1756              		.loc 1 610 12 is_stmt 0 view .LVU350
 1757 002e FFF7FEFF 		bl	HAL_GetTick
 1758              	.LVL128:
 610:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1759              		.loc 1 610 26 view .LVU351
ARM GAS  /tmp/ccUODzHK.s 			page 51


 1760 0032 394B     		ldr	r3, .L133+4
 1761 0034 1B68     		ldr	r3, [r3]
 1762 0036 C01A     		subs	r0, r0, r3
 610:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1763              		.loc 1 610 10 view .LVU352
 1764 0038 40F6B833 		movw	r3, #3000
 1765 003c 9842     		cmp	r0, r3
 1766 003e 2AD9     		bls	.L128
 611:Core/Src/main.c ****       {
 1767              		.loc 1 611 12 discriminator 1 view .LVU353
 1768 0040 364B     		ldr	r3, .L133+8
 1769 0042 1B68     		ldr	r3, [r3]
 1770 0044 9B69     		ldr	r3, [r3, #24]
 610:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1771              		.loc 1 610 54 discriminator 1 view .LVU354
 1772 0046 13F0020F 		tst	r3, #2
 1773 004a 24D0     		beq	.L128
 613:Core/Src/main.c **** 
 1774              		.loc 1 613 9 is_stmt 1 view .LVU355
 1775 004c 3448     		ldr	r0, .L133+12
 1776 004e FFF7FEFF 		bl	puts
 1777              	.LVL129:
 616:Core/Src/main.c ****         HAL_Delay(2);
 1778              		.loc 1 616 9 view .LVU356
 1779 0052 344D     		ldr	r5, .L133+16
 1780 0054 2B69     		ldr	r3, [r5, #16]
 1781 0056 43F48003 		orr	r3, r3, #4194304
 1782 005a 2B61     		str	r3, [r5, #16]
 617:Core/Src/main.c ****         __HAL_RCC_I2C2_RELEASE_RESET();
 1783              		.loc 1 617 9 view .LVU357
 1784 005c 0220     		movs	r0, #2
 1785 005e FFF7FEFF 		bl	HAL_Delay
 1786              	.LVL130:
 618:Core/Src/main.c ****         MX_I2C2_Init();  // Reinitialize I2C2
 1787              		.loc 1 618 9 view .LVU358
 1788 0062 2B69     		ldr	r3, [r5, #16]
 1789 0064 23F48003 		bic	r3, r3, #4194304
 1790 0068 2B61     		str	r3, [r5, #16]
 619:Core/Src/main.c ****        
 1791              		.loc 1 619 9 view .LVU359
 1792 006a FFF7FEFF 		bl	MX_I2C2_Init
 1793              	.LVL131:
 1794 006e 12E0     		b	.L128
 1795              	.L129:
 660:Core/Src/main.c ****     request_prestored_image();
 1796              		.loc 1 660 5 view .LVU360
 1797 0070 2D48     		ldr	r0, .L133+20
 1798 0072 FFF7FEFF 		bl	puts
 1799              	.LVL132:
 661:Core/Src/main.c ****     HAL_Delay(9000);
 1800              		.loc 1 661 5 view .LVU361
 1801 0076 FFF7FEFF 		bl	request_prestored_image
 1802              	.LVL133:
 662:Core/Src/main.c ****     // printf("i2c recovery going on....\r\n");
 1803              		.loc 1 662 5 view .LVU362
 1804 007a 42F22830 		movw	r0, #9000
 1805 007e FFF7FEFF 		bl	HAL_Delay
ARM GAS  /tmp/ccUODzHK.s 			page 52


 1806              	.LVL134:
 664:Core/Src/main.c ****     // HAL_Delay(3000);
 1807              		.loc 1 664 5 view .LVU363
 1808 0082 FFF7FEFF 		bl	camera_off
 1809              	.LVL135:
 600:Core/Src/main.c ****   {
 1810              		.loc 1 600 9 view .LVU364
 1811              	.L130:
 600:Core/Src/main.c ****   {
 1812              		.loc 1 600 3 view .LVU365
 602:Core/Src/main.c ****     // HAL_Delay(3000);
 1813              		.loc 1 602 5 view .LVU366
 1814 0086 FFF7FEFF 		bl	camera_on
 1815              	.LVL136:
 605:Core/Src/main.c ****     {
 1816              		.loc 1 605 5 view .LVU367
 605:Core/Src/main.c ****     {
 1817              		.loc 1 605 9 is_stmt 0 view .LVU368
 1818 008a FFF7FEFF 		bl	HAL_GetTick
 1819              	.LVL137:
 605:Core/Src/main.c ****     {
 1820              		.loc 1 605 23 view .LVU369
 1821 008e 001B     		subs	r0, r0, r4
 605:Core/Src/main.c ****     {
 1822              		.loc 1 605 8 view .LVU370
 1823 0090 B0F57A7F 		cmp	r0, #1000
 1824 0094 C8D8     		bhi	.L132
 1825              	.L128:
 624:Core/Src/main.c ****     request_image_capture();
 1826              		.loc 1 624 5 is_stmt 1 view .LVU371
 1827 0096 4FF47A70 		mov	r0, #1000
 1828 009a FFF7FEFF 		bl	HAL_Delay
 1829              	.LVL138:
 625:Core/Src/main.c ****     HAL_Delay(8000);  // Allow time for image capture & SSDV encoding
 1830              		.loc 1 625 5 view .LVU372
 1831 009e FFF7FEFF 		bl	request_image_capture
 1832              	.LVL139:
 626:Core/Src/main.c **** 
 1833              		.loc 1 626 5 view .LVU373
 1834 00a2 4FF4FA50 		mov	r0, #8000
 1835 00a6 FFF7FEFF 		bl	HAL_Delay
 1836              	.LVL140:
 629:Core/Src/main.c ****     HAL_Delay(200);
 1837              		.loc 1 629 5 view .LVU374
 1838 00aa FFF7FEFF 		bl	request_ssdv_stream
 1839              	.LVL141:
 630:Core/Src/main.c **** 
 1840              		.loc 1 630 5 view .LVU375
 1841 00ae C820     		movs	r0, #200
 1842 00b0 FFF7FEFF 		bl	HAL_Delay
 1843              	.LVL142:
 633:Core/Src/main.c ****     // camera_off();
 1844              		.loc 1 633 5 view .LVU376
 1845 00b4 FFF7FEFF 		bl	read_ssdv_stream
 1846              	.LVL143:
 635:Core/Src/main.c ****     // printf("capturing prestored image now!!\n");
 1847              		.loc 1 635 5 view .LVU377
ARM GAS  /tmp/ccUODzHK.s 			page 53


 1848 00b8 41F28830 		movw	r0, #5000
 1849 00bc FFF7FEFF 		bl	HAL_Delay
 1850              	.LVL144:
 637:Core/Src/main.c ****     {
 1851              		.loc 1 637 5 view .LVU378
 637:Core/Src/main.c ****     {
 1852              		.loc 1 637 9 is_stmt 0 view .LVU379
 1853 00c0 FFF7FEFF 		bl	HAL_GetTick
 1854              	.LVL145:
 637:Core/Src/main.c ****     {
 1855              		.loc 1 637 23 view .LVU380
 1856 00c4 001B     		subs	r0, r0, r4
 637:Core/Src/main.c ****     {
 1857              		.loc 1 637 8 view .LVU381
 1858 00c6 B0F57A7F 		cmp	r0, #1000
 1859 00ca D1D9     		bls	.L129
 639:Core/Src/main.c **** 
 1860              		.loc 1 639 7 is_stmt 1 view .LVU382
 639:Core/Src/main.c **** 
 1861              		.loc 1 639 29 is_stmt 0 view .LVU383
 1862 00cc FFF7FEFF 		bl	HAL_GetTick
 1863              	.LVL146:
 1864 00d0 0446     		mov	r4, r0
 1865              	.LVL147:
 642:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1866              		.loc 1 642 7 is_stmt 1 view .LVU384
 642:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1867              		.loc 1 642 12 is_stmt 0 view .LVU385
 1868 00d2 FFF7FEFF 		bl	HAL_GetTick
 1869              	.LVL148:
 642:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1870              		.loc 1 642 26 view .LVU386
 1871 00d6 104B     		ldr	r3, .L133+4
 1872 00d8 1B68     		ldr	r3, [r3]
 1873 00da C01A     		subs	r0, r0, r3
 642:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1874              		.loc 1 642 10 view .LVU387
 1875 00dc 40F6B833 		movw	r3, #3000
 1876 00e0 9842     		cmp	r0, r3
 1877 00e2 C5D9     		bls	.L129
 643:Core/Src/main.c ****       {
 1878              		.loc 1 643 12 discriminator 1 view .LVU388
 1879 00e4 0D4B     		ldr	r3, .L133+8
 1880 00e6 1B68     		ldr	r3, [r3]
 1881 00e8 9B69     		ldr	r3, [r3, #24]
 642:Core/Src/main.c ****           (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1882              		.loc 1 642 54 discriminator 1 view .LVU389
 1883 00ea 13F0020F 		tst	r3, #2
 1884 00ee BFD0     		beq	.L129
 645:Core/Src/main.c **** 
 1885              		.loc 1 645 9 is_stmt 1 view .LVU390
 1886 00f0 0B48     		ldr	r0, .L133+12
 1887 00f2 FFF7FEFF 		bl	puts
 1888              	.LVL149:
 648:Core/Src/main.c ****         HAL_Delay(2);
 1889              		.loc 1 648 9 view .LVU391
 1890 00f6 0B4D     		ldr	r5, .L133+16
ARM GAS  /tmp/ccUODzHK.s 			page 54


 1891 00f8 2B69     		ldr	r3, [r5, #16]
 1892 00fa 43F48003 		orr	r3, r3, #4194304
 1893 00fe 2B61     		str	r3, [r5, #16]
 649:Core/Src/main.c ****         __HAL_RCC_I2C2_RELEASE_RESET();
 1894              		.loc 1 649 9 view .LVU392
 1895 0100 0220     		movs	r0, #2
 1896 0102 FFF7FEFF 		bl	HAL_Delay
 1897              	.LVL150:
 650:Core/Src/main.c ****         MX_I2C2_Init();  // Reinitialize I2C2
 1898              		.loc 1 650 9 view .LVU393
 1899 0106 2B69     		ldr	r3, [r5, #16]
 1900 0108 23F48003 		bic	r3, r3, #4194304
 1901 010c 2B61     		str	r3, [r5, #16]
 651:Core/Src/main.c ****        
 1902              		.loc 1 651 9 view .LVU394
 1903 010e FFF7FEFF 		bl	MX_I2C2_Init
 1904              	.LVL151:
 1905 0112 ADE7     		b	.L129
 1906              	.L134:
 1907              		.align	2
 1908              	.L133:
 1909 0114 00000000 		.word	.LC31
 1910 0118 00000000 		.word	.LANCHOR0
 1911 011c 00000000 		.word	hi2c2
 1912 0120 14000000 		.word	.LC32
 1913 0124 00100240 		.word	1073876992
 1914 0128 40000000 		.word	.LC33
 1915              		.cfi_endproc
 1916              	.LFE85:
 1918              		.global	ssdv_packet
 1919              		.global	last_i2c_activity
 1920              		.section	.bss.last_i2c_activity,"aw",%nobits
 1921              		.align	2
 1922              		.set	.LANCHOR0,. + 0
 1925              	last_i2c_activity:
 1926 0000 00000000 		.space	4
 1927              		.section	.bss.ssdv_packet,"aw",%nobits
 1928              		.align	2
 1931              	ssdv_packet:
 1932 0000 00000000 		.space	224
 1932      00000000 
 1932      00000000 
 1932      00000000 
 1932      00000000 
 1933              		.text
 1934              	.Letext0:
 1935              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 1936              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1937              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 1938              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1939              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 1940              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 1941              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1942              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1943              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 1944              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1945              		.file 13 "Core/Inc/i2c.h"
ARM GAS  /tmp/ccUODzHK.s 			page 55


 1946              		.file 14 "Core/Inc/usart.h"
 1947              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1948              		.file 16 "Core/Inc/gpio.h"
 1949              		.file 17 "<built-in>"
 1950              		.file 18 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/ccUODzHK.s 			page 56


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccUODzHK.s:16     .text._write:0000000000000000 $t
     /tmp/ccUODzHK.s:24     .text._write:0000000000000000 _write
     /tmp/ccUODzHK.s:58     .text._write:0000000000000014 $d
     /tmp/ccUODzHK.s:63     .rodata.request_image_capture.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:70     .text.request_image_capture:0000000000000000 $t
     /tmp/ccUODzHK.s:77     .text.request_image_capture:0000000000000000 request_image_capture
     /tmp/ccUODzHK.s:137    .text.request_image_capture:000000000000003c $d
     /tmp/ccUODzHK.s:145    .rodata.request_prestored.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:152    .text.request_prestored:0000000000000000 $t
     /tmp/ccUODzHK.s:159    .text.request_prestored:0000000000000000 request_prestored
     /tmp/ccUODzHK.s:219    .text.request_prestored:000000000000003c $d
     /tmp/ccUODzHK.s:227    .rodata.request_ssdv_stream.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:234    .text.request_ssdv_stream:0000000000000000 $t
     /tmp/ccUODzHK.s:241    .text.request_ssdv_stream:0000000000000000 request_ssdv_stream
     /tmp/ccUODzHK.s:294    .text.request_ssdv_stream:0000000000000034 $d
     /tmp/ccUODzHK.s:301    .rodata.read_ssdv_stream.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:320    .text.read_ssdv_stream:0000000000000000 $t
     /tmp/ccUODzHK.s:327    .text.read_ssdv_stream:0000000000000000 read_ssdv_stream
     /tmp/ccUODzHK.s:471    .text.read_ssdv_stream:0000000000000088 $d
     /tmp/ccUODzHK.s:483    .rodata.set_brightness_.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:490    .text.set_brightness_:0000000000000000 $t
     /tmp/ccUODzHK.s:497    .text.set_brightness_:0000000000000000 set_brightness_
     /tmp/ccUODzHK.s:558    .text.set_brightness_:0000000000000038 $d
     /tmp/ccUODzHK.s:565    .rodata.set_sharpness_.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:572    .text.set_sharpness_:0000000000000000 $t
     /tmp/ccUODzHK.s:579    .text.set_sharpness_:0000000000000000 set_sharpness_
     /tmp/ccUODzHK.s:640    .text.set_sharpness_:0000000000000038 $d
     /tmp/ccUODzHK.s:647    .rodata.set_contrast_.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:654    .text.set_contrast_:0000000000000000 $t
     /tmp/ccUODzHK.s:661    .text.set_contrast_:0000000000000000 set_contrast_
     /tmp/ccUODzHK.s:722    .text.set_contrast_:0000000000000038 $d
     /tmp/ccUODzHK.s:729    .rodata.set_exposure_.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:736    .text.set_exposure_:0000000000000000 $t
     /tmp/ccUODzHK.s:743    .text.set_exposure_:0000000000000000 set_exposure_
     /tmp/ccUODzHK.s:804    .text.set_exposure_:0000000000000038 $d
     /tmp/ccUODzHK.s:811    .rodata.set_saturation_.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:818    .text.set_saturation_:0000000000000000 $t
     /tmp/ccUODzHK.s:825    .text.set_saturation_:0000000000000000 set_saturation_
     /tmp/ccUODzHK.s:886    .text.set_saturation_:0000000000000038 $d
     /tmp/ccUODzHK.s:893    .rodata.set_effect_.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:900    .text.set_effect_:0000000000000000 $t
     /tmp/ccUODzHK.s:907    .text.set_effect_:0000000000000000 set_effect_
     /tmp/ccUODzHK.s:968    .text.set_effect_:0000000000000038 $d
     /tmp/ccUODzHK.s:975    .rodata.request_prestored_image.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:979    .text.request_prestored_image:0000000000000000 $t
     /tmp/ccUODzHK.s:986    .text.request_prestored_image:0000000000000000 request_prestored_image
     /tmp/ccUODzHK.s:1050   .text.request_prestored_image:0000000000000038 $d
     /tmp/ccUODzHK.s:1057   .text.camera_on:0000000000000000 $t
     /tmp/ccUODzHK.s:1064   .text.camera_on:0000000000000000 camera_on
     /tmp/ccUODzHK.s:1086   .text.camera_on:0000000000000010 $d
     /tmp/ccUODzHK.s:1091   .text.camera_off:0000000000000000 $t
     /tmp/ccUODzHK.s:1098   .text.camera_off:0000000000000000 camera_off
     /tmp/ccUODzHK.s:1120   .text.camera_off:0000000000000010 $d
     /tmp/ccUODzHK.s:1125   .text.i2c_bus_recovery:0000000000000000 $t
     /tmp/ccUODzHK.s:1132   .text.i2c_bus_recovery:0000000000000000 i2c_bus_recovery
ARM GAS  /tmp/ccUODzHK.s 			page 57


     /tmp/ccUODzHK.s:1254   .text.i2c_bus_recovery:000000000000008c $d
     /tmp/ccUODzHK.s:1260   .rodata.example_i2c_transaction.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:1277   .text.example_i2c_transaction:0000000000000000 $t
     /tmp/ccUODzHK.s:1284   .text.example_i2c_transaction:0000000000000000 example_i2c_transaction
     /tmp/ccUODzHK.s:1450   .text.example_i2c_transaction:0000000000000098 $d
     /tmp/ccUODzHK.s:1464   .rodata.check_i2c_timeout.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:1468   .text.check_i2c_timeout:0000000000000000 $t
     /tmp/ccUODzHK.s:1475   .text.check_i2c_timeout:0000000000000000 check_i2c_timeout
     /tmp/ccUODzHK.s:1546   .text.check_i2c_timeout:0000000000000054 $d
     /tmp/ccUODzHK.s:1554   .text.Error_Handler:0000000000000000 $t
     /tmp/ccUODzHK.s:1561   .text.Error_Handler:0000000000000000 Error_Handler
     /tmp/ccUODzHK.s:1593   .text.SystemClock_Config:0000000000000000 $t
     /tmp/ccUODzHK.s:1600   .text.SystemClock_Config:0000000000000000 SystemClock_Config
     /tmp/ccUODzHK.s:1690   .rodata.main.str1.4:0000000000000000 $d
     /tmp/ccUODzHK.s:1700   .text.main:0000000000000000 $t
     /tmp/ccUODzHK.s:1707   .text.main:0000000000000000 main
     /tmp/ccUODzHK.s:1909   .text.main:0000000000000114 $d
     /tmp/ccUODzHK.s:1931   .bss.ssdv_packet:0000000000000000 ssdv_packet
     /tmp/ccUODzHK.s:1925   .bss.last_i2c_activity:0000000000000000 last_i2c_activity
     /tmp/ccUODzHK.s:1921   .bss.last_i2c_activity:0000000000000000 $d
     /tmp/ccUODzHK.s:1928   .bss.ssdv_packet:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart1
HAL_GetTick
HAL_I2C_Master_Transmit
puts
hi2c2
printf
HAL_I2C_Master_Receive
putchar
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_Delay
i2c_master_transmit
i2c_master_receive
MX_I2C2_Init
HAL_I2C_EnableListen_IT
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
MX_USART1_UART_Init
