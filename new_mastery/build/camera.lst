ARM GAS  /tmp/ccQXKsqi.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"camera.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.rodata.request_image_capture.str1.4,"aMS",%progbits,1
  16              		.align	2
  17              	.LC0:
  18 0000 496D6167 		.ascii	"Image capture command sent.\015\000"
  18      65206361 
  18      70747572 
  18      6520636F 
  18      6D6D616E 
  19 001d 000000   		.align	2
  20              	.LC1:
  21 0020 4661696C 		.ascii	"Failed to send image capture command.\015\000"
  21      65642074 
  21      6F207365 
  21      6E642069 
  21      6D616765 
  22              		.section	.text.request_image_capture,"ax",%progbits
  23              		.align	1
  24              		.global	request_image_capture
  25              		.arch armv7-m
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  29              		.fpu softvfp
  31              	request_image_capture:
  32              	.LFB68:
  33              		.file 1 "Core/Src/camera.c"
   1:Core/Src/camera.c **** 
   2:Core/Src/camera.c **** #include "camera.h"
   3:Core/Src/camera.c **** uint32_t last_i2c_activity = 0; // Added for timeout tracking
   4:Core/Src/camera.c **** 
   5:Core/Src/camera.c **** 
   6:Core/Src/camera.c **** 
   7:Core/Src/camera.c **** void request_image_capture() 
   8:Core/Src/camera.c **** {
  34              		.loc 1 8 1 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 8
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38 0000 00B5     		push	{lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 4
  41              		.cfi_offset 14, -4
  42 0002 85B0     		sub	sp, sp, #20
ARM GAS  /tmp/ccQXKsqi.s 			page 2


  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 24
   9:Core/Src/camera.c ****      last_i2c_activity = HAL_GetTick();
  45              		.loc 1 9 6 view .LVU1
  46              		.loc 1 9 26 is_stmt 0 view .LVU2
  47 0004 FFF7FEFF 		bl	HAL_GetTick
  48              	.LVL0:
  49              		.loc 1 9 24 view .LVU3
  50 0008 0C4B     		ldr	r3, .L5
  51 000a 1860     		str	r0, [r3]
  10:Core/Src/camera.c ****     uint8_t cmd[2] = {0x10,0};
  52              		.loc 1 10 5 is_stmt 1 view .LVU4
  53              		.loc 1 10 13 is_stmt 0 view .LVU5
  54 000c 1023     		movs	r3, #16
  55 000e ADF80C30 		strh	r3, [sp, #12]	@ movhi
  11:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
  56              		.loc 1 11 5 is_stmt 1 view .LVU6
  57              		.loc 1 11 9 is_stmt 0 view .LVU7
  58 0012 4FF0FF33 		mov	r3, #-1
  59 0016 0093     		str	r3, [sp]
  60 0018 0223     		movs	r3, #2
  61 001a 03AA     		add	r2, sp, #12
  62 001c 2421     		movs	r1, #36
  63 001e 0848     		ldr	r0, .L5+4
  64 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
  65              	.LVL1:
  66              		.loc 1 11 8 view .LVU8
  67 0024 28B9     		cbnz	r0, .L2
  12:Core/Src/camera.c ****         printf("Image capture command sent.\r\n");
  68              		.loc 1 12 9 is_stmt 1 view .LVU9
  69 0026 0748     		ldr	r0, .L5+8
  70 0028 FFF7FEFF 		bl	puts
  71              	.LVL2:
  72              	.L1:
  13:Core/Src/camera.c ****     } else {
  14:Core/Src/camera.c ****         printf("Failed to send image capture command.\r\n");
  15:Core/Src/camera.c ****     }
  16:Core/Src/camera.c **** }
  73              		.loc 1 16 1 is_stmt 0 view .LVU10
  74 002c 05B0     		add	sp, sp, #20
  75              	.LCFI2:
  76              		.cfi_remember_state
  77              		.cfi_def_cfa_offset 4
  78              		@ sp needed
  79 002e 5DF804FB 		ldr	pc, [sp], #4
  80              	.L2:
  81              	.LCFI3:
  82              		.cfi_restore_state
  14:Core/Src/camera.c ****     }
  83              		.loc 1 14 9 is_stmt 1 view .LVU11
  84 0032 0548     		ldr	r0, .L5+12
  85 0034 FFF7FEFF 		bl	puts
  86              	.LVL3:
  87              		.loc 1 16 1 is_stmt 0 view .LVU12
  88 0038 F8E7     		b	.L1
  89              	.L6:
  90 003a 00BF     		.align	2
ARM GAS  /tmp/ccQXKsqi.s 			page 3


  91              	.L5:
  92 003c 00000000 		.word	.LANCHOR0
  93 0040 00000000 		.word	hi2c2
  94 0044 00000000 		.word	.LC0
  95 0048 20000000 		.word	.LC1
  96              		.cfi_endproc
  97              	.LFE68:
  99              		.section	.rodata.request_prestored.str1.4,"aMS",%progbits,1
 100              		.align	2
 101              	.LC2:
 102 0000 70726573 		.ascii	"prestored command sent.\015\000"
 102      746F7265 
 102      6420636F 
 102      6D6D616E 
 102      64207365 
 103 0019 000000   		.align	2
 104              	.LC3:
 105 001c 4661696C 		.ascii	"Failed to send prestored command.\015\000"
 105      65642074 
 105      6F207365 
 105      6E642070 
 105      72657374 
 106              		.section	.text.request_prestored,"ax",%progbits
 107              		.align	1
 108              		.global	request_prestored
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu softvfp
 114              	request_prestored:
 115              	.LFB69:
  17:Core/Src/camera.c **** 
  18:Core/Src/camera.c **** void request_prestored() 
  19:Core/Src/camera.c **** {
 116              		.loc 1 19 1 is_stmt 1 view -0
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 8
 119              		@ frame_needed = 0, uses_anonymous_args = 0
 120 0000 00B5     		push	{lr}
 121              	.LCFI4:
 122              		.cfi_def_cfa_offset 4
 123              		.cfi_offset 14, -4
 124 0002 85B0     		sub	sp, sp, #20
 125              	.LCFI5:
 126              		.cfi_def_cfa_offset 24
  20:Core/Src/camera.c ****      last_i2c_activity = HAL_GetTick();
 127              		.loc 1 20 6 view .LVU14
 128              		.loc 1 20 26 is_stmt 0 view .LVU15
 129 0004 FFF7FEFF 		bl	HAL_GetTick
 130              	.LVL4:
 131              		.loc 1 20 24 view .LVU16
 132 0008 0C4B     		ldr	r3, .L11
 133 000a 1860     		str	r0, [r3]
  21:Core/Src/camera.c ****     uint8_t cmd[2] = {0x90,0};
 134              		.loc 1 21 5 is_stmt 1 view .LVU17
 135              		.loc 1 21 13 is_stmt 0 view .LVU18
 136 000c 9023     		movs	r3, #144
ARM GAS  /tmp/ccQXKsqi.s 			page 4


 137 000e ADF80C30 		strh	r3, [sp, #12]	@ movhi
  22:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 138              		.loc 1 22 5 is_stmt 1 view .LVU19
 139              		.loc 1 22 9 is_stmt 0 view .LVU20
 140 0012 4FF0FF33 		mov	r3, #-1
 141 0016 0093     		str	r3, [sp]
 142 0018 0223     		movs	r3, #2
 143 001a 03AA     		add	r2, sp, #12
 144 001c 2421     		movs	r1, #36
 145 001e 0848     		ldr	r0, .L11+4
 146 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 147              	.LVL5:
 148              		.loc 1 22 8 view .LVU21
 149 0024 28B9     		cbnz	r0, .L8
  23:Core/Src/camera.c ****         printf("prestored command sent.\r\n");
 150              		.loc 1 23 9 is_stmt 1 view .LVU22
 151 0026 0748     		ldr	r0, .L11+8
 152 0028 FFF7FEFF 		bl	puts
 153              	.LVL6:
 154              	.L7:
  24:Core/Src/camera.c ****     } else {
  25:Core/Src/camera.c ****         printf("Failed to send prestored command.\r\n");
  26:Core/Src/camera.c ****     }
  27:Core/Src/camera.c **** }
 155              		.loc 1 27 1 is_stmt 0 view .LVU23
 156 002c 05B0     		add	sp, sp, #20
 157              	.LCFI6:
 158              		.cfi_remember_state
 159              		.cfi_def_cfa_offset 4
 160              		@ sp needed
 161 002e 5DF804FB 		ldr	pc, [sp], #4
 162              	.L8:
 163              	.LCFI7:
 164              		.cfi_restore_state
  25:Core/Src/camera.c ****     }
 165              		.loc 1 25 9 is_stmt 1 view .LVU24
 166 0032 0548     		ldr	r0, .L11+12
 167 0034 FFF7FEFF 		bl	puts
 168              	.LVL7:
 169              		.loc 1 27 1 is_stmt 0 view .LVU25
 170 0038 F8E7     		b	.L7
 171              	.L12:
 172 003a 00BF     		.align	2
 173              	.L11:
 174 003c 00000000 		.word	.LANCHOR0
 175 0040 00000000 		.word	hi2c2
 176 0044 00000000 		.word	.LC2
 177 0048 1C000000 		.word	.LC3
 178              		.cfi_endproc
 179              	.LFE69:
 181              		.section	.rodata.request_ssdv_stream.str1.4,"aMS",%progbits,1
 182              		.align	2
 183              	.LC4:
 184 0000 53534456 		.ascii	"SSDV stream command sent.\015\000"
 184      20737472 
 184      65616D20 
 184      636F6D6D 
ARM GAS  /tmp/ccQXKsqi.s 			page 5


 184      616E6420 
 185 001b 00       		.align	2
 186              	.LC5:
 187 001c 4661696C 		.ascii	"Failed to send SSDV stream command.\015\000"
 187      65642074 
 187      6F207365 
 187      6E642053 
 187      53445620 
 188              		.section	.text.request_ssdv_stream,"ax",%progbits
 189              		.align	1
 190              		.global	request_ssdv_stream
 191              		.syntax unified
 192              		.thumb
 193              		.thumb_func
 194              		.fpu softvfp
 196              	request_ssdv_stream:
 197              	.LFB70:
  28:Core/Src/camera.c **** 
  29:Core/Src/camera.c **** void request_ssdv_stream() 
  30:Core/Src/camera.c **** {
 198              		.loc 1 30 1 is_stmt 1 view -0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 8
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202 0000 00B5     		push	{lr}
 203              	.LCFI8:
 204              		.cfi_def_cfa_offset 4
 205              		.cfi_offset 14, -4
 206 0002 85B0     		sub	sp, sp, #20
 207              	.LCFI9:
 208              		.cfi_def_cfa_offset 24
  31:Core/Src/camera.c ****     uint8_t cmd[2] = {0x20,0};
 209              		.loc 1 31 5 view .LVU27
 210              		.loc 1 31 13 is_stmt 0 view .LVU28
 211 0004 2023     		movs	r3, #32
 212 0006 ADF80C30 		strh	r3, [sp, #12]	@ movhi
  32:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 213              		.loc 1 32 5 is_stmt 1 view .LVU29
 214              		.loc 1 32 9 is_stmt 0 view .LVU30
 215 000a 4FF0FF33 		mov	r3, #-1
 216 000e 0093     		str	r3, [sp]
 217 0010 0223     		movs	r3, #2
 218 0012 03AA     		add	r2, sp, #12
 219 0014 2421     		movs	r1, #36
 220 0016 0748     		ldr	r0, .L17
 221 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 222              	.LVL8:
 223              		.loc 1 32 8 view .LVU31
 224 001c 28B9     		cbnz	r0, .L14
  33:Core/Src/camera.c ****         printf("SSDV stream command sent.\r\n");
 225              		.loc 1 33 9 is_stmt 1 view .LVU32
 226 001e 0648     		ldr	r0, .L17+4
 227 0020 FFF7FEFF 		bl	puts
 228              	.LVL9:
 229              	.L13:
  34:Core/Src/camera.c ****     } else {
  35:Core/Src/camera.c ****         printf("Failed to send SSDV stream command.\r\n");
ARM GAS  /tmp/ccQXKsqi.s 			page 6


  36:Core/Src/camera.c ****     }
  37:Core/Src/camera.c **** }
 230              		.loc 1 37 1 is_stmt 0 view .LVU33
 231 0024 05B0     		add	sp, sp, #20
 232              	.LCFI10:
 233              		.cfi_remember_state
 234              		.cfi_def_cfa_offset 4
 235              		@ sp needed
 236 0026 5DF804FB 		ldr	pc, [sp], #4
 237              	.L14:
 238              	.LCFI11:
 239              		.cfi_restore_state
  35:Core/Src/camera.c ****     }
 240              		.loc 1 35 9 is_stmt 1 view .LVU34
 241 002a 0448     		ldr	r0, .L17+8
 242 002c FFF7FEFF 		bl	puts
 243              	.LVL10:
 244              		.loc 1 37 1 is_stmt 0 view .LVU35
 245 0030 F8E7     		b	.L13
 246              	.L18:
 247 0032 00BF     		.align	2
 248              	.L17:
 249 0034 00000000 		.word	hi2c2
 250 0038 00000000 		.word	.LC4
 251 003c 1C000000 		.word	.LC5
 252              		.cfi_endproc
 253              	.LFE70:
 255              		.section	.rodata.read_ssdv_stream.str1.4,"aMS",%progbits,1
 256              		.align	2
 257              	.LC6:
 258 0000 4572726F 		.ascii	"Error receiving packet %d\015\012\000"
 258      72207265 
 258      63656976 
 258      696E6720 
 258      7061636B 
 259              		.align	2
 260              	.LC7:
 261 001c 456E6420 		.ascii	"End of SSDV stream reached.\015\000"
 261      6F662053 
 261      53445620 
 261      73747265 
 261      616D2072 
 262 0039 000000   		.align	2
 263              	.LC8:
 264 003c 7472616E 		.ascii	"transmitting through gsk\015\000"
 264      736D6974 
 264      74696E67 
 264      20746872 
 264      6F756768 
 265 0056 0000     		.align	2
 266              	.LC9:
 267 0058 0A2D2D2D 		.ascii	"\012-----------------------------\000"
 267      2D2D2D2D 
 267      2D2D2D2D 
 267      2D2D2D2D 
 267      2D2D2D2D 
 268 0077 00       		.align	2
ARM GAS  /tmp/ccQXKsqi.s 			page 7


 269              	.LC10:
 270 0078 5061636B 		.ascii	"Packet %d received:\012\000"
 270      65742025 
 270      64207265 
 270      63656976 
 270      65643A0A 
 271 008d 000000   		.align	2
 272              	.LC11:
 273 0090 30782530 		.ascii	"0x%02X, \000"
 273      32582C20 
 273      00
 274 0099 000000   		.align	2
 275              	.LC12:
 276 009c 4D617820 		.ascii	"Max SSDV packet limit reached.\015\000"
 276      53534456 
 276      20706163 
 276      6B657420 
 276      6C696D69 
 277              		.section	.text.read_ssdv_stream,"ax",%progbits
 278              		.align	1
 279              		.global	read_ssdv_stream
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 283              		.fpu softvfp
 285              	read_ssdv_stream:
 286              	.LFB71:
  38:Core/Src/camera.c **** 
  39:Core/Src/camera.c **** void read_ssdv_stream() 
  40:Core/Src/camera.c **** {
 287              		.loc 1 40 1 is_stmt 1 view -0
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 224
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 291 0000 30B5     		push	{r4, r5, lr}
 292              	.LCFI12:
 293              		.cfi_def_cfa_offset 12
 294              		.cfi_offset 4, -12
 295              		.cfi_offset 5, -8
 296              		.cfi_offset 14, -4
 297 0002 BBB0     		sub	sp, sp, #236
 298              	.LCFI13:
 299              		.cfi_def_cfa_offset 248
  41:Core/Src/camera.c ****      last_i2c_activity = HAL_GetTick();
 300              		.loc 1 41 6 view .LVU37
 301              		.loc 1 41 26 is_stmt 0 view .LVU38
 302 0004 FFF7FEFF 		bl	HAL_GetTick
 303              	.LVL11:
 304              		.loc 1 41 24 view .LVU39
 305 0008 244B     		ldr	r3, .L32
 306 000a 1860     		str	r0, [r3]
  42:Core/Src/camera.c ****     uint8_t ssdv_pkt[SSDV_PKT_SIZE];
 307              		.loc 1 42 5 is_stmt 1 view .LVU40
  43:Core/Src/camera.c ****     uint16_t packet_index = 0;
 308              		.loc 1 43 5 view .LVU41
 309              	.LVL12:
 310              		.loc 1 43 14 is_stmt 0 view .LVU42
ARM GAS  /tmp/ccQXKsqi.s 			page 8


 311 000c 0025     		movs	r5, #0
 312 000e 10E0     		b	.L26
 313              	.LVL13:
 314              	.L29:
  44:Core/Src/camera.c **** 
  45:Core/Src/camera.c ****     while (1) {
  46:Core/Src/camera.c ****         if (HAL_I2C_Master_Receive(&hi2c2, SSDV_SLAVE_ADDR, ssdv_pkt, SSDV_PKT_SIZE, HAL_MAX_DELAY)
  47:Core/Src/camera.c ****             printf("Error receiving packet %d\r\n", packet_index);
 315              		.loc 1 47 13 is_stmt 1 view .LVU43
 316 0010 2946     		mov	r1, r5
 317 0012 2348     		ldr	r0, .L32+4
 318 0014 FFF7FEFF 		bl	printf
 319              	.LVL14:
  48:Core/Src/camera.c ****             break;
 320              		.loc 1 48 13 view .LVU44
 321              	.L19:
  49:Core/Src/camera.c ****         }
  50:Core/Src/camera.c **** 
  51:Core/Src/camera.c ****         // Stop when dummy packet 0xFF is received
  52:Core/Src/camera.c ****         if (ssdv_pkt[0] == 0xFF) {
  53:Core/Src/camera.c ****             printf("End of SSDV stream reached.\r\n");
  54:Core/Src/camera.c ****             break;
  55:Core/Src/camera.c ****         }
  56:Core/Src/camera.c ****         printf("transmitting through gsk\r\n");
  57:Core/Src/camera.c ****         printf("\n-----------------------------\n");
  58:Core/Src/camera.c **** 
  59:Core/Src/camera.c ****         HAL_Delay(2000);
  60:Core/Src/camera.c **** 
  61:Core/Src/camera.c ****         // Print packet content (optional)
  62:Core/Src/camera.c ****         printf("Packet %d received:\n", packet_index);
  63:Core/Src/camera.c ****         for (int i = 0; i < SSDV_PKT_SIZE; i++) {
  64:Core/Src/camera.c ****             printf("0x%02X, ", ssdv_pkt[i]);
  65:Core/Src/camera.c ****             if ((i + 1) % 16 == 0) printf("\n");
  66:Core/Src/camera.c ****         }
  67:Core/Src/camera.c ****         printf("\n-----------------------------\n");
  68:Core/Src/camera.c **** 
  69:Core/Src/camera.c ****         packet_index++;
  70:Core/Src/camera.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
  71:Core/Src/camera.c ****             printf("Max SSDV packet limit reached.\r\n");
  72:Core/Src/camera.c ****             break;
  73:Core/Src/camera.c ****         }
  74:Core/Src/camera.c ****     }
  75:Core/Src/camera.c **** }
 322              		.loc 1 75 1 is_stmt 0 view .LVU45
 323 0018 3BB0     		add	sp, sp, #236
 324              	.LCFI14:
 325              		.cfi_remember_state
 326              		.cfi_def_cfa_offset 12
 327              		@ sp needed
 328 001a 30BD     		pop	{r4, r5, pc}
 329              	.LVL15:
 330              	.L30:
 331              	.LCFI15:
 332              		.cfi_restore_state
  53:Core/Src/camera.c ****             break;
 333              		.loc 1 53 13 is_stmt 1 view .LVU46
 334 001c 2148     		ldr	r0, .L32+8
ARM GAS  /tmp/ccQXKsqi.s 			page 9


 335 001e FFF7FEFF 		bl	puts
 336              	.LVL16:
  54:Core/Src/camera.c ****         }
 337              		.loc 1 54 13 view .LVU47
 338 0022 F9E7     		b	.L19
 339              	.LVL17:
 340              	.L31:
  67:Core/Src/camera.c **** 
 341              		.loc 1 67 9 view .LVU48
 342 0024 2048     		ldr	r0, .L32+12
 343 0026 FFF7FEFF 		bl	puts
 344              	.LVL18:
  69:Core/Src/camera.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 345              		.loc 1 69 9 view .LVU49
  69:Core/Src/camera.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 346              		.loc 1 69 21 is_stmt 0 view .LVU50
 347 002a 0135     		adds	r5, r5, #1
 348              	.LVL19:
  69:Core/Src/camera.c ****         if (packet_index >= SSDV_MAX_PACKETS) {
 349              		.loc 1 69 21 view .LVU51
 350 002c ADB2     		uxth	r5, r5
 351              	.LVL20:
  70:Core/Src/camera.c ****             printf("Max SSDV packet limit reached.\r\n");
 352              		.loc 1 70 9 is_stmt 1 view .LVU52
  70:Core/Src/camera.c ****             printf("Max SSDV packet limit reached.\r\n");
 353              		.loc 1 70 12 is_stmt 0 view .LVU53
 354 002e FE2D     		cmp	r5, #254
 355 0030 2FD8     		bhi	.L28
 356              	.LVL21:
 357              	.L26:
  45:Core/Src/camera.c ****         if (HAL_I2C_Master_Receive(&hi2c2, SSDV_SLAVE_ADDR, ssdv_pkt, SSDV_PKT_SIZE, HAL_MAX_DELAY)
 358              		.loc 1 45 5 is_stmt 1 view .LVU54
  46:Core/Src/camera.c ****             printf("Error receiving packet %d\r\n", packet_index);
 359              		.loc 1 46 9 view .LVU55
  46:Core/Src/camera.c ****             printf("Error receiving packet %d\r\n", packet_index);
 360              		.loc 1 46 13 is_stmt 0 view .LVU56
 361 0032 4FF0FF33 		mov	r3, #-1
 362 0036 0093     		str	r3, [sp]
 363 0038 E023     		movs	r3, #224
 364 003a 02AA     		add	r2, sp, #8
 365 003c 2421     		movs	r1, #36
 366 003e 1B48     		ldr	r0, .L32+16
 367 0040 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 368              	.LVL22:
  46:Core/Src/camera.c ****             printf("Error receiving packet %d\r\n", packet_index);
 369              		.loc 1 46 12 view .LVU57
 370 0044 0028     		cmp	r0, #0
 371 0046 E3D1     		bne	.L29
  52:Core/Src/camera.c ****             printf("End of SSDV stream reached.\r\n");
 372              		.loc 1 52 9 is_stmt 1 view .LVU58
  52:Core/Src/camera.c ****             printf("End of SSDV stream reached.\r\n");
 373              		.loc 1 52 21 is_stmt 0 view .LVU59
 374 0048 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
  52:Core/Src/camera.c ****             printf("End of SSDV stream reached.\r\n");
 375              		.loc 1 52 12 view .LVU60
 376 004c FF2B     		cmp	r3, #255
 377 004e E5D0     		beq	.L30
ARM GAS  /tmp/ccQXKsqi.s 			page 10


  56:Core/Src/camera.c ****         printf("\n-----------------------------\n");
 378              		.loc 1 56 9 is_stmt 1 view .LVU61
 379 0050 1748     		ldr	r0, .L32+20
 380 0052 FFF7FEFF 		bl	puts
 381              	.LVL23:
  57:Core/Src/camera.c **** 
 382              		.loc 1 57 9 view .LVU62
 383 0056 1448     		ldr	r0, .L32+12
 384 0058 FFF7FEFF 		bl	puts
 385              	.LVL24:
  59:Core/Src/camera.c **** 
 386              		.loc 1 59 9 view .LVU63
 387 005c 4FF4FA60 		mov	r0, #2000
 388 0060 FFF7FEFF 		bl	HAL_Delay
 389              	.LVL25:
  62:Core/Src/camera.c ****         for (int i = 0; i < SSDV_PKT_SIZE; i++) {
 390              		.loc 1 62 9 view .LVU64
 391 0064 2946     		mov	r1, r5
 392 0066 1348     		ldr	r0, .L32+24
 393 0068 FFF7FEFF 		bl	printf
 394              	.LVL26:
  63:Core/Src/camera.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 395              		.loc 1 63 9 view .LVU65
 396              	.LBB2:
  63:Core/Src/camera.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 397              		.loc 1 63 14 view .LVU66
  63:Core/Src/camera.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 398              		.loc 1 63 18 is_stmt 0 view .LVU67
 399 006c 0024     		movs	r4, #0
 400              	.LVL27:
 401              	.L23:
  63:Core/Src/camera.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 402              		.loc 1 63 25 is_stmt 1 discriminator 1 view .LVU68
  63:Core/Src/camera.c ****             printf("0x%02X, ", ssdv_pkt[i]);
 403              		.loc 1 63 9 is_stmt 0 discriminator 1 view .LVU69
 404 006e DF2C     		cmp	r4, #223
 405 0070 D8DC     		bgt	.L31
  64:Core/Src/camera.c ****             if ((i + 1) % 16 == 0) printf("\n");
 406              		.loc 1 64 13 is_stmt 1 view .LVU70
  64:Core/Src/camera.c ****             if ((i + 1) % 16 == 0) printf("\n");
 407              		.loc 1 64 40 is_stmt 0 view .LVU71
 408 0072 04F1E803 		add	r3, r4, #232
 409 0076 6B44     		add	r3, sp, r3
  64:Core/Src/camera.c ****             if ((i + 1) % 16 == 0) printf("\n");
 410              		.loc 1 64 13 view .LVU72
 411 0078 13F8E01C 		ldrb	r1, [r3, #-224]	@ zero_extendqisi2
 412 007c 0E48     		ldr	r0, .L32+28
 413 007e FFF7FEFF 		bl	printf
 414              	.LVL28:
  65:Core/Src/camera.c ****         }
 415              		.loc 1 65 13 is_stmt 1 view .LVU73
  65:Core/Src/camera.c ****         }
 416              		.loc 1 65 20 is_stmt 0 view .LVU74
 417 0082 0134     		adds	r4, r4, #1
 418              	.LVL29:
  65:Core/Src/camera.c ****         }
 419              		.loc 1 65 16 view .LVU75
ARM GAS  /tmp/ccQXKsqi.s 			page 11


 420 0084 14F00F0F 		tst	r4, #15
 421 0088 F1D1     		bne	.L23
  65:Core/Src/camera.c ****         }
 422              		.loc 1 65 36 is_stmt 1 discriminator 1 view .LVU76
 423 008a 0A20     		movs	r0, #10
 424 008c FFF7FEFF 		bl	putchar
 425              	.LVL30:
 426 0090 EDE7     		b	.L23
 427              	.LVL31:
 428              	.L28:
  65:Core/Src/camera.c ****         }
 429              		.loc 1 65 36 is_stmt 0 discriminator 1 view .LVU77
 430              	.LBE2:
  71:Core/Src/camera.c ****             break;
 431              		.loc 1 71 13 is_stmt 1 view .LVU78
 432 0092 0A48     		ldr	r0, .L32+32
 433 0094 FFF7FEFF 		bl	puts
 434              	.LVL32:
  72:Core/Src/camera.c ****         }
 435              		.loc 1 72 13 view .LVU79
 436              		.loc 1 75 1 is_stmt 0 view .LVU80
 437 0098 BEE7     		b	.L19
 438              	.L33:
 439 009a 00BF     		.align	2
 440              	.L32:
 441 009c 00000000 		.word	.LANCHOR0
 442 00a0 00000000 		.word	.LC6
 443 00a4 1C000000 		.word	.LC7
 444 00a8 58000000 		.word	.LC9
 445 00ac 00000000 		.word	hi2c2
 446 00b0 3C000000 		.word	.LC8
 447 00b4 78000000 		.word	.LC10
 448 00b8 90000000 		.word	.LC11
 449 00bc 9C000000 		.word	.LC12
 450              		.cfi_endproc
 451              	.LFE71:
 453              		.section	.rodata.set_brightness_.str1.4,"aMS",%progbits,1
 454              		.align	2
 455              	.LC13:
 456 0000 62726967 		.ascii	"brightness set.\015\000"
 456      68746E65 
 456      73732073 
 456      65742E0D 
 456      00
 457 0011 000000   		.align	2
 458              	.LC14:
 459 0014 4661696C 		.ascii	"Failed to set brigtness.\015\000"
 459      65642074 
 459      6F207365 
 459      74206272 
 459      6967746E 
 460              		.section	.text.set_brightness_,"ax",%progbits
 461              		.align	1
 462              		.global	set_brightness_
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
ARM GAS  /tmp/ccQXKsqi.s 			page 12


 466              		.fpu softvfp
 468              	set_brightness_:
 469              	.LVL33:
 470              	.LFB72:
  76:Core/Src/camera.c **** 
  77:Core/Src/camera.c **** 
  78:Core/Src/camera.c **** void set_brightness_(CAM_BRIGHTNESS_LEVEL level )
  79:Core/Src/camera.c ****  {
 471              		.loc 1 79 2 is_stmt 1 view -0
 472              		.cfi_startproc
 473              		@ args = 0, pretend = 0, frame = 8
 474              		@ frame_needed = 0, uses_anonymous_args = 0
 475              		.loc 1 79 2 is_stmt 0 view .LVU82
 476 0000 00B5     		push	{lr}
 477              	.LCFI16:
 478              		.cfi_def_cfa_offset 4
 479              		.cfi_offset 14, -4
 480 0002 85B0     		sub	sp, sp, #20
 481              	.LCFI17:
 482              		.cfi_def_cfa_offset 24
  80:Core/Src/camera.c ****     uint8_t cmd[2];
 483              		.loc 1 80 5 is_stmt 1 view .LVU83
  81:Core/Src/camera.c ****     cmd[0] = CAM_BRIGHTNESS_LEVEL_CMD;
 484              		.loc 1 81 5 view .LVU84
 485              		.loc 1 81 12 is_stmt 0 view .LVU85
 486 0004 3023     		movs	r3, #48
 487 0006 8DF80C30 		strb	r3, [sp, #12]
  82:Core/Src/camera.c ****     cmd [1] = level ;
 488              		.loc 1 82 5 is_stmt 1 view .LVU86
 489              		.loc 1 82 13 is_stmt 0 view .LVU87
 490 000a 8DF80D00 		strb	r0, [sp, #13]
  83:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 491              		.loc 1 83 5 is_stmt 1 view .LVU88
 492              		.loc 1 83 9 is_stmt 0 view .LVU89
 493 000e 4FF0FF33 		mov	r3, #-1
 494 0012 0093     		str	r3, [sp]
 495 0014 0223     		movs	r3, #2
 496 0016 03AA     		add	r2, sp, #12
 497 0018 2421     		movs	r1, #36
 498 001a 0748     		ldr	r0, .L38
 499              	.LVL34:
 500              		.loc 1 83 9 view .LVU90
 501 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 502              	.LVL35:
 503              		.loc 1 83 8 view .LVU91
 504 0020 28B9     		cbnz	r0, .L35
  84:Core/Src/camera.c ****         printf("brightness set.\r\n");
 505              		.loc 1 84 9 is_stmt 1 view .LVU92
 506 0022 0648     		ldr	r0, .L38+4
 507 0024 FFF7FEFF 		bl	puts
 508              	.LVL36:
 509              	.L34:
  85:Core/Src/camera.c ****     } else {
  86:Core/Src/camera.c ****         printf("Failed to set brigtness.\r\n");
  87:Core/Src/camera.c ****     }
  88:Core/Src/camera.c **** }
 510              		.loc 1 88 1 is_stmt 0 view .LVU93
ARM GAS  /tmp/ccQXKsqi.s 			page 13


 511 0028 05B0     		add	sp, sp, #20
 512              	.LCFI18:
 513              		.cfi_remember_state
 514              		.cfi_def_cfa_offset 4
 515              		@ sp needed
 516 002a 5DF804FB 		ldr	pc, [sp], #4
 517              	.L35:
 518              	.LCFI19:
 519              		.cfi_restore_state
  86:Core/Src/camera.c ****     }
 520              		.loc 1 86 9 is_stmt 1 view .LVU94
 521 002e 0448     		ldr	r0, .L38+8
 522 0030 FFF7FEFF 		bl	puts
 523              	.LVL37:
 524              		.loc 1 88 1 is_stmt 0 view .LVU95
 525 0034 F8E7     		b	.L34
 526              	.L39:
 527 0036 00BF     		.align	2
 528              	.L38:
 529 0038 00000000 		.word	hi2c2
 530 003c 00000000 		.word	.LC13
 531 0040 14000000 		.word	.LC14
 532              		.cfi_endproc
 533              	.LFE72:
 535              		.section	.rodata.set_sharpness_.str1.4,"aMS",%progbits,1
 536              		.align	2
 537              	.LC15:
 538 0000 73686172 		.ascii	"sharpness set.\015\000"
 538      706E6573 
 538      73207365 
 538      742E0D00 
 539              		.align	2
 540              	.LC16:
 541 0010 4661696C 		.ascii	"Failed to set sharpness.\015\000"
 541      65642074 
 541      6F207365 
 541      74207368 
 541      6172706E 
 542              		.section	.text.set_sharpness_,"ax",%progbits
 543              		.align	1
 544              		.global	set_sharpness_
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 548              		.fpu softvfp
 550              	set_sharpness_:
 551              	.LVL38:
 552              	.LFB73:
  89:Core/Src/camera.c **** 
  90:Core/Src/camera.c **** void set_sharpness_(CAM_SHARPNESS_LEVEL level )
  91:Core/Src/camera.c ****  {
 553              		.loc 1 91 2 is_stmt 1 view -0
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 8
 556              		@ frame_needed = 0, uses_anonymous_args = 0
 557              		.loc 1 91 2 is_stmt 0 view .LVU97
 558 0000 00B5     		push	{lr}
ARM GAS  /tmp/ccQXKsqi.s 			page 14


 559              	.LCFI20:
 560              		.cfi_def_cfa_offset 4
 561              		.cfi_offset 14, -4
 562 0002 85B0     		sub	sp, sp, #20
 563              	.LCFI21:
 564              		.cfi_def_cfa_offset 24
  92:Core/Src/camera.c ****     uint8_t cmd[2];
 565              		.loc 1 92 5 is_stmt 1 view .LVU98
  93:Core/Src/camera.c ****     cmd[0] = CAM_SHARPNESS_LEVEL_CMD;
 566              		.loc 1 93 5 view .LVU99
 567              		.loc 1 93 12 is_stmt 0 view .LVU100
 568 0004 4023     		movs	r3, #64
 569 0006 8DF80C30 		strb	r3, [sp, #12]
  94:Core/Src/camera.c ****     cmd [1] = level ;
 570              		.loc 1 94 5 is_stmt 1 view .LVU101
 571              		.loc 1 94 13 is_stmt 0 view .LVU102
 572 000a 8DF80D00 		strb	r0, [sp, #13]
  95:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 573              		.loc 1 95 5 is_stmt 1 view .LVU103
 574              		.loc 1 95 9 is_stmt 0 view .LVU104
 575 000e 4FF0FF33 		mov	r3, #-1
 576 0012 0093     		str	r3, [sp]
 577 0014 0223     		movs	r3, #2
 578 0016 03AA     		add	r2, sp, #12
 579 0018 2421     		movs	r1, #36
 580 001a 0748     		ldr	r0, .L44
 581              	.LVL39:
 582              		.loc 1 95 9 view .LVU105
 583 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 584              	.LVL40:
 585              		.loc 1 95 8 view .LVU106
 586 0020 28B9     		cbnz	r0, .L41
  96:Core/Src/camera.c ****         printf("sharpness set.\r\n");
 587              		.loc 1 96 9 is_stmt 1 view .LVU107
 588 0022 0648     		ldr	r0, .L44+4
 589 0024 FFF7FEFF 		bl	puts
 590              	.LVL41:
 591              	.L40:
  97:Core/Src/camera.c ****     } else {
  98:Core/Src/camera.c ****         printf("Failed to set sharpness.\r\n");
  99:Core/Src/camera.c **** 
 100:Core/Src/camera.c ****     }
 101:Core/Src/camera.c **** }
 592              		.loc 1 101 1 is_stmt 0 view .LVU108
 593 0028 05B0     		add	sp, sp, #20
 594              	.LCFI22:
 595              		.cfi_remember_state
 596              		.cfi_def_cfa_offset 4
 597              		@ sp needed
 598 002a 5DF804FB 		ldr	pc, [sp], #4
 599              	.L41:
 600              	.LCFI23:
 601              		.cfi_restore_state
  98:Core/Src/camera.c **** 
 602              		.loc 1 98 9 is_stmt 1 view .LVU109
 603 002e 0448     		ldr	r0, .L44+8
 604 0030 FFF7FEFF 		bl	puts
ARM GAS  /tmp/ccQXKsqi.s 			page 15


 605              	.LVL42:
 606              		.loc 1 101 1 is_stmt 0 view .LVU110
 607 0034 F8E7     		b	.L40
 608              	.L45:
 609 0036 00BF     		.align	2
 610              	.L44:
 611 0038 00000000 		.word	hi2c2
 612 003c 00000000 		.word	.LC15
 613 0040 10000000 		.word	.LC16
 614              		.cfi_endproc
 615              	.LFE73:
 617              		.section	.rodata.set_contrast_.str1.4,"aMS",%progbits,1
 618              		.align	2
 619              	.LC17:
 620 0000 636F6E74 		.ascii	"contrast set.\015\000"
 620      72617374 
 620      20736574 
 620      2E0D00
 621 000f 00       		.align	2
 622              	.LC18:
 623 0010 4661696C 		.ascii	"Failed to set contrast.\015\000"
 623      65642074 
 623      6F207365 
 623      7420636F 
 623      6E747261 
 624              		.section	.text.set_contrast_,"ax",%progbits
 625              		.align	1
 626              		.global	set_contrast_
 627              		.syntax unified
 628              		.thumb
 629              		.thumb_func
 630              		.fpu softvfp
 632              	set_contrast_:
 633              	.LVL43:
 634              	.LFB74:
 102:Core/Src/camera.c **** 
 103:Core/Src/camera.c **** void set_contrast_(CAM_CONTRAST_LEVEL level )
 104:Core/Src/camera.c ****  {
 635              		.loc 1 104 2 is_stmt 1 view -0
 636              		.cfi_startproc
 637              		@ args = 0, pretend = 0, frame = 8
 638              		@ frame_needed = 0, uses_anonymous_args = 0
 639              		.loc 1 104 2 is_stmt 0 view .LVU112
 640 0000 00B5     		push	{lr}
 641              	.LCFI24:
 642              		.cfi_def_cfa_offset 4
 643              		.cfi_offset 14, -4
 644 0002 85B0     		sub	sp, sp, #20
 645              	.LCFI25:
 646              		.cfi_def_cfa_offset 24
 105:Core/Src/camera.c ****     uint8_t cmd[2];
 647              		.loc 1 105 5 is_stmt 1 view .LVU113
 106:Core/Src/camera.c ****     cmd[0] = CAM_CONTRAST_LEVEL_CMD;
 648              		.loc 1 106 5 view .LVU114
 649              		.loc 1 106 12 is_stmt 0 view .LVU115
 650 0004 5023     		movs	r3, #80
 651 0006 8DF80C30 		strb	r3, [sp, #12]
ARM GAS  /tmp/ccQXKsqi.s 			page 16


 107:Core/Src/camera.c ****     cmd [1] = level ;
 652              		.loc 1 107 5 is_stmt 1 view .LVU116
 653              		.loc 1 107 13 is_stmt 0 view .LVU117
 654 000a 8DF80D00 		strb	r0, [sp, #13]
 108:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 655              		.loc 1 108 5 is_stmt 1 view .LVU118
 656              		.loc 1 108 9 is_stmt 0 view .LVU119
 657 000e 4FF0FF33 		mov	r3, #-1
 658 0012 0093     		str	r3, [sp]
 659 0014 0223     		movs	r3, #2
 660 0016 03AA     		add	r2, sp, #12
 661 0018 2421     		movs	r1, #36
 662 001a 0748     		ldr	r0, .L50
 663              	.LVL44:
 664              		.loc 1 108 9 view .LVU120
 665 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 666              	.LVL45:
 667              		.loc 1 108 8 view .LVU121
 668 0020 28B9     		cbnz	r0, .L47
 109:Core/Src/camera.c ****         printf("contrast set.\r\n");
 669              		.loc 1 109 9 is_stmt 1 view .LVU122
 670 0022 0648     		ldr	r0, .L50+4
 671 0024 FFF7FEFF 		bl	puts
 672              	.LVL46:
 673              	.L46:
 110:Core/Src/camera.c ****     } else {
 111:Core/Src/camera.c ****         printf("Failed to set contrast.\r\n");
 112:Core/Src/camera.c **** 
 113:Core/Src/camera.c ****     }
 114:Core/Src/camera.c **** }
 674              		.loc 1 114 1 is_stmt 0 view .LVU123
 675 0028 05B0     		add	sp, sp, #20
 676              	.LCFI26:
 677              		.cfi_remember_state
 678              		.cfi_def_cfa_offset 4
 679              		@ sp needed
 680 002a 5DF804FB 		ldr	pc, [sp], #4
 681              	.L47:
 682              	.LCFI27:
 683              		.cfi_restore_state
 111:Core/Src/camera.c **** 
 684              		.loc 1 111 9 is_stmt 1 view .LVU124
 685 002e 0448     		ldr	r0, .L50+8
 686 0030 FFF7FEFF 		bl	puts
 687              	.LVL47:
 688              		.loc 1 114 1 is_stmt 0 view .LVU125
 689 0034 F8E7     		b	.L46
 690              	.L51:
 691 0036 00BF     		.align	2
 692              	.L50:
 693 0038 00000000 		.word	hi2c2
 694 003c 00000000 		.word	.LC17
 695 0040 10000000 		.word	.LC18
 696              		.cfi_endproc
 697              	.LFE74:
 699              		.section	.rodata.set_exposure_.str1.4,"aMS",%progbits,1
 700              		.align	2
ARM GAS  /tmp/ccQXKsqi.s 			page 17


 701              	.LC19:
 702 0000 65787073 		.ascii	"expsoure set.\015\000"
 702      6F757265 
 702      20736574 
 702      2E0D00
 703 000f 00       		.align	2
 704              	.LC20:
 705 0010 4661696C 		.ascii	"Failed to set expsoure.\015\000"
 705      65642074 
 705      6F207365 
 705      74206578 
 705      70736F75 
 706              		.section	.text.set_exposure_,"ax",%progbits
 707              		.align	1
 708              		.global	set_exposure_
 709              		.syntax unified
 710              		.thumb
 711              		.thumb_func
 712              		.fpu softvfp
 714              	set_exposure_:
 715              	.LVL48:
 716              	.LFB75:
 115:Core/Src/camera.c **** 
 116:Core/Src/camera.c **** void set_exposure_(CAM_EV_LEVEL level )
 117:Core/Src/camera.c ****  {
 717              		.loc 1 117 2 is_stmt 1 view -0
 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 8
 720              		@ frame_needed = 0, uses_anonymous_args = 0
 721              		.loc 1 117 2 is_stmt 0 view .LVU127
 722 0000 00B5     		push	{lr}
 723              	.LCFI28:
 724              		.cfi_def_cfa_offset 4
 725              		.cfi_offset 14, -4
 726 0002 85B0     		sub	sp, sp, #20
 727              	.LCFI29:
 728              		.cfi_def_cfa_offset 24
 118:Core/Src/camera.c ****     uint8_t cmd[2];
 729              		.loc 1 118 5 is_stmt 1 view .LVU128
 119:Core/Src/camera.c ****     cmd[0] = CAM_EV_LEVEL_CMD;
 730              		.loc 1 119 5 view .LVU129
 731              		.loc 1 119 12 is_stmt 0 view .LVU130
 732 0004 6023     		movs	r3, #96
 733 0006 8DF80C30 		strb	r3, [sp, #12]
 120:Core/Src/camera.c ****     cmd [1] = level ;
 734              		.loc 1 120 5 is_stmt 1 view .LVU131
 735              		.loc 1 120 13 is_stmt 0 view .LVU132
 736 000a 8DF80D00 		strb	r0, [sp, #13]
 121:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 737              		.loc 1 121 5 is_stmt 1 view .LVU133
 738              		.loc 1 121 9 is_stmt 0 view .LVU134
 739 000e 4FF0FF33 		mov	r3, #-1
 740 0012 0093     		str	r3, [sp]
 741 0014 0223     		movs	r3, #2
 742 0016 03AA     		add	r2, sp, #12
 743 0018 2421     		movs	r1, #36
 744 001a 0748     		ldr	r0, .L56
ARM GAS  /tmp/ccQXKsqi.s 			page 18


 745              	.LVL49:
 746              		.loc 1 121 9 view .LVU135
 747 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 748              	.LVL50:
 749              		.loc 1 121 8 view .LVU136
 750 0020 28B9     		cbnz	r0, .L53
 122:Core/Src/camera.c ****         printf("expsoure set.\r\n");
 751              		.loc 1 122 9 is_stmt 1 view .LVU137
 752 0022 0648     		ldr	r0, .L56+4
 753 0024 FFF7FEFF 		bl	puts
 754              	.LVL51:
 755              	.L52:
 123:Core/Src/camera.c ****     } else {
 124:Core/Src/camera.c ****         printf("Failed to set expsoure.\r\n");
 125:Core/Src/camera.c **** 
 126:Core/Src/camera.c ****     }
 127:Core/Src/camera.c **** }
 756              		.loc 1 127 1 is_stmt 0 view .LVU138
 757 0028 05B0     		add	sp, sp, #20
 758              	.LCFI30:
 759              		.cfi_remember_state
 760              		.cfi_def_cfa_offset 4
 761              		@ sp needed
 762 002a 5DF804FB 		ldr	pc, [sp], #4
 763              	.L53:
 764              	.LCFI31:
 765              		.cfi_restore_state
 124:Core/Src/camera.c **** 
 766              		.loc 1 124 9 is_stmt 1 view .LVU139
 767 002e 0448     		ldr	r0, .L56+8
 768 0030 FFF7FEFF 		bl	puts
 769              	.LVL52:
 770              		.loc 1 127 1 is_stmt 0 view .LVU140
 771 0034 F8E7     		b	.L52
 772              	.L57:
 773 0036 00BF     		.align	2
 774              	.L56:
 775 0038 00000000 		.word	hi2c2
 776 003c 00000000 		.word	.LC19
 777 0040 10000000 		.word	.LC20
 778              		.cfi_endproc
 779              	.LFE75:
 781              		.section	.rodata.set_saturation_.str1.4,"aMS",%progbits,1
 782              		.align	2
 783              	.LC21:
 784 0000 73617475 		.ascii	"saturation set.\015\000"
 784      72617469 
 784      6F6E2073 
 784      65742E0D 
 784      00
 785 0011 000000   		.align	2
 786              	.LC22:
 787 0014 4661696C 		.ascii	"Failed to set saturation.\015\000"
 787      65642074 
 787      6F207365 
 787      74207361 
 787      74757261 
ARM GAS  /tmp/ccQXKsqi.s 			page 19


 788              		.section	.text.set_saturation_,"ax",%progbits
 789              		.align	1
 790              		.global	set_saturation_
 791              		.syntax unified
 792              		.thumb
 793              		.thumb_func
 794              		.fpu softvfp
 796              	set_saturation_:
 797              	.LVL53:
 798              	.LFB76:
 128:Core/Src/camera.c **** 
 129:Core/Src/camera.c **** void set_saturation_(CAM_STAURATION_LEVEL level )
 130:Core/Src/camera.c ****  {
 799              		.loc 1 130 2 is_stmt 1 view -0
 800              		.cfi_startproc
 801              		@ args = 0, pretend = 0, frame = 8
 802              		@ frame_needed = 0, uses_anonymous_args = 0
 803              		.loc 1 130 2 is_stmt 0 view .LVU142
 804 0000 00B5     		push	{lr}
 805              	.LCFI32:
 806              		.cfi_def_cfa_offset 4
 807              		.cfi_offset 14, -4
 808 0002 85B0     		sub	sp, sp, #20
 809              	.LCFI33:
 810              		.cfi_def_cfa_offset 24
 131:Core/Src/camera.c ****     uint8_t cmd[2];
 811              		.loc 1 131 5 is_stmt 1 view .LVU143
 132:Core/Src/camera.c ****     cmd[0] = CAM_STAURATION_LEVEL_CMD;
 812              		.loc 1 132 5 view .LVU144
 813              		.loc 1 132 12 is_stmt 0 view .LVU145
 814 0004 7023     		movs	r3, #112
 815 0006 8DF80C30 		strb	r3, [sp, #12]
 133:Core/Src/camera.c ****     cmd [1] = level ;
 816              		.loc 1 133 5 is_stmt 1 view .LVU146
 817              		.loc 1 133 13 is_stmt 0 view .LVU147
 818 000a 8DF80D00 		strb	r0, [sp, #13]
 134:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 819              		.loc 1 134 5 is_stmt 1 view .LVU148
 820              		.loc 1 134 9 is_stmt 0 view .LVU149
 821 000e 4FF0FF33 		mov	r3, #-1
 822 0012 0093     		str	r3, [sp]
 823 0014 0223     		movs	r3, #2
 824 0016 03AA     		add	r2, sp, #12
 825 0018 2421     		movs	r1, #36
 826 001a 0748     		ldr	r0, .L62
 827              	.LVL54:
 828              		.loc 1 134 9 view .LVU150
 829 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 830              	.LVL55:
 831              		.loc 1 134 8 view .LVU151
 832 0020 28B9     		cbnz	r0, .L59
 135:Core/Src/camera.c ****         printf("saturation set.\r\n");
 833              		.loc 1 135 9 is_stmt 1 view .LVU152
 834 0022 0648     		ldr	r0, .L62+4
 835 0024 FFF7FEFF 		bl	puts
 836              	.LVL56:
 837              	.L58:
ARM GAS  /tmp/ccQXKsqi.s 			page 20


 136:Core/Src/camera.c ****     } else {
 137:Core/Src/camera.c ****         printf("Failed to set saturation.\r\n");
 138:Core/Src/camera.c **** 
 139:Core/Src/camera.c ****     }
 140:Core/Src/camera.c **** }
 838              		.loc 1 140 1 is_stmt 0 view .LVU153
 839 0028 05B0     		add	sp, sp, #20
 840              	.LCFI34:
 841              		.cfi_remember_state
 842              		.cfi_def_cfa_offset 4
 843              		@ sp needed
 844 002a 5DF804FB 		ldr	pc, [sp], #4
 845              	.L59:
 846              	.LCFI35:
 847              		.cfi_restore_state
 137:Core/Src/camera.c **** 
 848              		.loc 1 137 9 is_stmt 1 view .LVU154
 849 002e 0448     		ldr	r0, .L62+8
 850 0030 FFF7FEFF 		bl	puts
 851              	.LVL57:
 852              		.loc 1 140 1 is_stmt 0 view .LVU155
 853 0034 F8E7     		b	.L58
 854              	.L63:
 855 0036 00BF     		.align	2
 856              	.L62:
 857 0038 00000000 		.word	hi2c2
 858 003c 00000000 		.word	.LC21
 859 0040 14000000 		.word	.LC22
 860              		.cfi_endproc
 861              	.LFE76:
 863              		.section	.rodata.set_effect_.str1.4,"aMS",%progbits,1
 864              		.align	2
 865              	.LC23:
 866 0000 65666665 		.ascii	"effect set.\015\000"
 866      63742073 
 866      65742E0D 
 866      00
 867 000d 000000   		.align	2
 868              	.LC24:
 869 0010 4661696C 		.ascii	"Failed to set effect.\015\000"
 869      65642074 
 869      6F207365 
 869      74206566 
 869      66656374 
 870              		.section	.text.set_effect_,"ax",%progbits
 871              		.align	1
 872              		.global	set_effect_
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 876              		.fpu softvfp
 878              	set_effect_:
 879              	.LVL58:
 880              	.LFB77:
 141:Core/Src/camera.c **** 
 142:Core/Src/camera.c **** void set_effect_(CAM_COLOR_FX effect )
 143:Core/Src/camera.c ****  {
ARM GAS  /tmp/ccQXKsqi.s 			page 21


 881              		.loc 1 143 2 is_stmt 1 view -0
 882              		.cfi_startproc
 883              		@ args = 0, pretend = 0, frame = 8
 884              		@ frame_needed = 0, uses_anonymous_args = 0
 885              		.loc 1 143 2 is_stmt 0 view .LVU157
 886 0000 00B5     		push	{lr}
 887              	.LCFI36:
 888              		.cfi_def_cfa_offset 4
 889              		.cfi_offset 14, -4
 890 0002 85B0     		sub	sp, sp, #20
 891              	.LCFI37:
 892              		.cfi_def_cfa_offset 24
 144:Core/Src/camera.c ****     uint8_t cmd[2];
 893              		.loc 1 144 5 is_stmt 1 view .LVU158
 145:Core/Src/camera.c ****     cmd[0] = CAM_COLOR_FX_CMD;
 894              		.loc 1 145 5 view .LVU159
 895              		.loc 1 145 12 is_stmt 0 view .LVU160
 896 0004 8023     		movs	r3, #128
 897 0006 8DF80C30 		strb	r3, [sp, #12]
 146:Core/Src/camera.c ****     cmd [1] = effect ;
 898              		.loc 1 146 5 is_stmt 1 view .LVU161
 899              		.loc 1 146 13 is_stmt 0 view .LVU162
 900 000a 8DF80D00 		strb	r0, [sp, #13]
 147:Core/Src/camera.c ****     if (HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY) == HAL_OK) {
 901              		.loc 1 147 5 is_stmt 1 view .LVU163
 902              		.loc 1 147 9 is_stmt 0 view .LVU164
 903 000e 4FF0FF33 		mov	r3, #-1
 904 0012 0093     		str	r3, [sp]
 905 0014 0223     		movs	r3, #2
 906 0016 03AA     		add	r2, sp, #12
 907 0018 2421     		movs	r1, #36
 908 001a 0748     		ldr	r0, .L68
 909              	.LVL59:
 910              		.loc 1 147 9 view .LVU165
 911 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 912              	.LVL60:
 913              		.loc 1 147 8 view .LVU166
 914 0020 28B9     		cbnz	r0, .L65
 148:Core/Src/camera.c ****         printf("effect set.\r\n");
 915              		.loc 1 148 9 is_stmt 1 view .LVU167
 916 0022 0648     		ldr	r0, .L68+4
 917 0024 FFF7FEFF 		bl	puts
 918              	.LVL61:
 919              	.L64:
 149:Core/Src/camera.c ****     } else {
 150:Core/Src/camera.c ****         printf("Failed to set effect.\r\n");
 151:Core/Src/camera.c **** 
 152:Core/Src/camera.c ****     }
 153:Core/Src/camera.c **** }
 920              		.loc 1 153 1 is_stmt 0 view .LVU168
 921 0028 05B0     		add	sp, sp, #20
 922              	.LCFI38:
 923              		.cfi_remember_state
 924              		.cfi_def_cfa_offset 4
 925              		@ sp needed
 926 002a 5DF804FB 		ldr	pc, [sp], #4
 927              	.L65:
ARM GAS  /tmp/ccQXKsqi.s 			page 22


 928              	.LCFI39:
 929              		.cfi_restore_state
 150:Core/Src/camera.c **** 
 930              		.loc 1 150 9 is_stmt 1 view .LVU169
 931 002e 0448     		ldr	r0, .L68+8
 932 0030 FFF7FEFF 		bl	puts
 933              	.LVL62:
 934              		.loc 1 153 1 is_stmt 0 view .LVU170
 935 0034 F8E7     		b	.L64
 936              	.L69:
 937 0036 00BF     		.align	2
 938              	.L68:
 939 0038 00000000 		.word	hi2c2
 940 003c 00000000 		.word	.LC23
 941 0040 10000000 		.word	.LC24
 942              		.cfi_endproc
 943              	.LFE77:
 945              		.section	.rodata.request_prestored_image.str1.4,"aMS",%progbits,1
 946              		.align	2
 947              	.LC25:
 948 0000 4661696C 		.ascii	"Failed to send prestored command\000"
 948      65642074 
 948      6F207365 
 948      6E642070 
 948      72657374 
 949              		.section	.text.request_prestored_image,"ax",%progbits
 950              		.align	1
 951              		.global	request_prestored_image
 952              		.syntax unified
 953              		.thumb
 954              		.thumb_func
 955              		.fpu softvfp
 957              	request_prestored_image:
 958              	.LFB78:
 154:Core/Src/camera.c **** 
 155:Core/Src/camera.c **** 
 156:Core/Src/camera.c **** 
 157:Core/Src/camera.c **** void request_prestored_image(void)
 158:Core/Src/camera.c **** {
 959              		.loc 1 158 1 is_stmt 1 view -0
 960              		.cfi_startproc
 961              		@ args = 0, pretend = 0, frame = 8
 962              		@ frame_needed = 0, uses_anonymous_args = 0
 963 0000 00B5     		push	{lr}
 964              	.LCFI40:
 965              		.cfi_def_cfa_offset 4
 966              		.cfi_offset 14, -4
 967 0002 85B0     		sub	sp, sp, #20
 968              	.LCFI41:
 969              		.cfi_def_cfa_offset 24
 159:Core/Src/camera.c ****      last_i2c_activity = HAL_GetTick();
 970              		.loc 1 159 6 view .LVU172
 971              		.loc 1 159 26 is_stmt 0 view .LVU173
 972 0004 FFF7FEFF 		bl	HAL_GetTick
 973              	.LVL63:
 974              		.loc 1 159 24 view .LVU174
 975 0008 0B4B     		ldr	r3, .L75
ARM GAS  /tmp/ccQXKsqi.s 			page 23


 976 000a 1860     		str	r0, [r3]
 160:Core/Src/camera.c ****     HAL_StatusTypeDef res;
 977              		.loc 1 160 5 is_stmt 1 view .LVU175
 161:Core/Src/camera.c **** 
 162:Core/Src/camera.c ****     // Step 1: Send 0x90 command to request prestored image
 163:Core/Src/camera.c ****     uint8_t cmd[2] = {0x90, 0x00}; // second byte is ignored
 978              		.loc 1 163 5 view .LVU176
 979              		.loc 1 163 13 is_stmt 0 view .LVU177
 980 000c 9023     		movs	r3, #144
 981 000e ADF80C30 		strh	r3, [sp, #12]	@ movhi
 164:Core/Src/camera.c ****     res = HAL_I2C_Master_Transmit(&hi2c2, SSDV_SLAVE_ADDR, cmd, 2, HAL_MAX_DELAY);
 982              		.loc 1 164 5 is_stmt 1 view .LVU178
 983              		.loc 1 164 11 is_stmt 0 view .LVU179
 984 0012 4FF0FF33 		mov	r3, #-1
 985 0016 0093     		str	r3, [sp]
 986 0018 0223     		movs	r3, #2
 987 001a 03AA     		add	r2, sp, #12
 988 001c 2421     		movs	r1, #36
 989 001e 0748     		ldr	r0, .L75+4
 990 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 991              	.LVL64:
 165:Core/Src/camera.c ****     if (res != HAL_OK) {
 992              		.loc 1 165 5 is_stmt 1 view .LVU180
 993              		.loc 1 165 8 is_stmt 0 view .LVU181
 994 0024 20B9     		cbnz	r0, .L74
 166:Core/Src/camera.c ****         printf("Failed to send prestored command\n");
 167:Core/Src/camera.c ****         return;
 168:Core/Src/camera.c ****     }
 169:Core/Src/camera.c **** 
 170:Core/Src/camera.c ****     read_ssdv_stream();
 995              		.loc 1 170 5 is_stmt 1 view .LVU182
 996 0026 FFF7FEFF 		bl	read_ssdv_stream
 997              	.LVL65:
 998              	.L70:
 171:Core/Src/camera.c **** }
 999              		.loc 1 171 1 is_stmt 0 view .LVU183
 1000 002a 05B0     		add	sp, sp, #20
 1001              	.LCFI42:
 1002              		.cfi_remember_state
 1003              		.cfi_def_cfa_offset 4
 1004              		@ sp needed
 1005 002c 5DF804FB 		ldr	pc, [sp], #4
 1006              	.LVL66:
 1007              	.L74:
 1008              	.LCFI43:
 1009              		.cfi_restore_state
 166:Core/Src/camera.c ****         printf("Failed to send prestored command\n");
 1010              		.loc 1 166 9 is_stmt 1 view .LVU184
 1011 0030 0348     		ldr	r0, .L75+8
 1012              	.LVL67:
 166:Core/Src/camera.c ****         printf("Failed to send prestored command\n");
 1013              		.loc 1 166 9 is_stmt 0 view .LVU185
 1014 0032 FFF7FEFF 		bl	puts
 1015              	.LVL68:
 167:Core/Src/camera.c ****     }
 1016              		.loc 1 167 9 is_stmt 1 view .LVU186
 1017 0036 F8E7     		b	.L70
ARM GAS  /tmp/ccQXKsqi.s 			page 24


 1018              	.L76:
 1019              		.align	2
 1020              	.L75:
 1021 0038 00000000 		.word	.LANCHOR0
 1022 003c 00000000 		.word	hi2c2
 1023 0040 00000000 		.word	.LC25
 1024              		.cfi_endproc
 1025              	.LFE78:
 1027              		.section	.text.camera_on,"ax",%progbits
 1028              		.align	1
 1029              		.global	camera_on
 1030              		.syntax unified
 1031              		.thumb
 1032              		.thumb_func
 1033              		.fpu softvfp
 1035              	camera_on:
 1036              	.LFB79:
 172:Core/Src/camera.c **** 
 173:Core/Src/camera.c **** 
 174:Core/Src/camera.c **** void camera_on()
 175:Core/Src/camera.c **** {
 1037              		.loc 1 175 1 view -0
 1038              		.cfi_startproc
 1039              		@ args = 0, pretend = 0, frame = 0
 1040              		@ frame_needed = 0, uses_anonymous_args = 0
 1041 0000 08B5     		push	{r3, lr}
 1042              	.LCFI44:
 1043              		.cfi_def_cfa_offset 8
 1044              		.cfi_offset 3, -8
 1045              		.cfi_offset 14, -4
 176:Core/Src/camera.c ****     HAL_GPIO_WritePin(Payload_switch_GPIO_Port,Payload_switch_Pin,SET);
 1046              		.loc 1 176 5 view .LVU188
 1047 0002 0122     		movs	r2, #1
 1048 0004 4021     		movs	r1, #64
 1049 0006 0248     		ldr	r0, .L79
 1050 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1051              	.LVL69:
 177:Core/Src/camera.c **** }
 1052              		.loc 1 177 1 is_stmt 0 view .LVU189
 1053 000c 08BD     		pop	{r3, pc}
 1054              	.L80:
 1055 000e 00BF     		.align	2
 1056              	.L79:
 1057 0010 00080140 		.word	1073809408
 1058              		.cfi_endproc
 1059              	.LFE79:
 1061              		.section	.text.camera_off,"ax",%progbits
 1062              		.align	1
 1063              		.global	camera_off
 1064              		.syntax unified
 1065              		.thumb
 1066              		.thumb_func
 1067              		.fpu softvfp
 1069              	camera_off:
 1070              	.LFB80:
 178:Core/Src/camera.c **** 
 179:Core/Src/camera.c **** void camera_off()
ARM GAS  /tmp/ccQXKsqi.s 			page 25


 180:Core/Src/camera.c **** {
 1071              		.loc 1 180 1 is_stmt 1 view -0
 1072              		.cfi_startproc
 1073              		@ args = 0, pretend = 0, frame = 0
 1074              		@ frame_needed = 0, uses_anonymous_args = 0
 1075 0000 08B5     		push	{r3, lr}
 1076              	.LCFI45:
 1077              		.cfi_def_cfa_offset 8
 1078              		.cfi_offset 3, -8
 1079              		.cfi_offset 14, -4
 181:Core/Src/camera.c ****     HAL_GPIO_WritePin(Payload_switch_GPIO_Port,Payload_switch_Pin,RESET);
 1080              		.loc 1 181 5 view .LVU191
 1081 0002 0022     		movs	r2, #0
 1082 0004 4021     		movs	r1, #64
 1083 0006 0248     		ldr	r0, .L83
 1084 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1085              	.LVL70:
 182:Core/Src/camera.c **** 
 183:Core/Src/camera.c **** 
 184:Core/Src/camera.c **** }
 1086              		.loc 1 184 1 is_stmt 0 view .LVU192
 1087 000c 08BD     		pop	{r3, pc}
 1088              	.L84:
 1089 000e 00BF     		.align	2
 1090              	.L83:
 1091 0010 00080140 		.word	1073809408
 1092              		.cfi_endproc
 1093              	.LFE80:
 1095              		.section	.rodata.check_i2c_timeout.str1.4,"aMS",%progbits,1
 1096              		.align	2
 1097              	.LC26:
 1098 0000 49324320 		.ascii	"I2C bus stuck, resetting...\015\000"
 1098      62757320 
 1098      73747563 
 1098      6B2C2072 
 1098      65736574 
 1099              		.section	.text.check_i2c_timeout,"ax",%progbits
 1100              		.align	1
 1101              		.global	check_i2c_timeout
 1102              		.syntax unified
 1103              		.thumb
 1104              		.thumb_func
 1105              		.fpu softvfp
 1107              	check_i2c_timeout:
 1108              	.LFB81:
 185:Core/Src/camera.c **** 
 186:Core/Src/camera.c **** 
 187:Core/Src/camera.c **** 
 188:Core/Src/camera.c **** 
 189:Core/Src/camera.c **** 
 190:Core/Src/camera.c **** 
 191:Core/Src/camera.c **** 
 192:Core/Src/camera.c **** void check_i2c_timeout()
 193:Core/Src/camera.c **** {
 1109              		.loc 1 193 1 is_stmt 1 view -0
 1110              		.cfi_startproc
 1111              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccQXKsqi.s 			page 26


 1112              		@ frame_needed = 0, uses_anonymous_args = 0
 1113 0000 10B5     		push	{r4, lr}
 1114              	.LCFI46:
 1115              		.cfi_def_cfa_offset 8
 1116              		.cfi_offset 4, -8
 1117              		.cfi_offset 14, -4
 194:Core/Src/camera.c ****     if (HAL_GetTick() - last_i2c_activity > 3000) // 3 seconds no I2C activity
 1118              		.loc 1 194 5 view .LVU194
 1119              		.loc 1 194 9 is_stmt 0 view .LVU195
 1120 0002 FFF7FEFF 		bl	HAL_GetTick
 1121              	.LVL71:
 1122              		.loc 1 194 23 view .LVU196
 1123 0006 134B     		ldr	r3, .L90
 1124 0008 1B68     		ldr	r3, [r3]
 1125 000a C01A     		subs	r0, r0, r3
 1126              		.loc 1 194 8 view .LVU197
 1127 000c 40F6B833 		movw	r3, #3000
 1128 0010 9842     		cmp	r0, r3
 1129 0012 09D9     		bls	.L85
 195:Core/Src/camera.c ****     {
 196:Core/Src/camera.c ****         if (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY))
 1130              		.loc 1 196 9 is_stmt 1 view .LVU198
 1131              		.loc 1 196 13 is_stmt 0 view .LVU199
 1132 0014 104B     		ldr	r3, .L90+4
 1133 0016 1B68     		ldr	r3, [r3]
 1134 0018 9B69     		ldr	r3, [r3, #24]
 1135              		.loc 1 196 12 view .LVU200
 1136 001a 13F0020F 		tst	r3, #2
 1137 001e 04D1     		bne	.L89
 1138              	.L87:
 197:Core/Src/camera.c ****         {
 198:Core/Src/camera.c ****             printf("I2C bus stuck, resetting...\r\n");
 199:Core/Src/camera.c ****             __HAL_RCC_I2C2_FORCE_RESET();
 200:Core/Src/camera.c ****             HAL_Delay(1);
 201:Core/Src/camera.c ****             __HAL_RCC_I2C2_RELEASE_RESET();
 202:Core/Src/camera.c ****             MX_I2C2_Init();  // Your re-init function
 203:Core/Src/camera.c ****             HAL_I2C_EnableListen_IT(&hi2c2);
 204:Core/Src/camera.c **** 
 205:Core/Src/camera.c ****         }
 206:Core/Src/camera.c ****         last_i2c_activity = HAL_GetTick(); // Prevent repeated reset
 1139              		.loc 1 206 9 is_stmt 1 view .LVU201
 1140              		.loc 1 206 29 is_stmt 0 view .LVU202
 1141 0020 FFF7FEFF 		bl	HAL_GetTick
 1142              	.LVL72:
 1143              		.loc 1 206 27 view .LVU203
 1144 0024 0B4B     		ldr	r3, .L90
 1145 0026 1860     		str	r0, [r3]
 1146              	.L85:
 207:Core/Src/camera.c ****     }
 208:Core/Src/camera.c **** }
 1147              		.loc 1 208 1 view .LVU204
 1148 0028 10BD     		pop	{r4, pc}
 1149              	.L89:
 1150              	.LBB3:
 198:Core/Src/camera.c ****             __HAL_RCC_I2C2_FORCE_RESET();
 1151              		.loc 1 198 13 is_stmt 1 view .LVU205
 1152 002a 0C48     		ldr	r0, .L90+8
ARM GAS  /tmp/ccQXKsqi.s 			page 27


 1153 002c FFF7FEFF 		bl	puts
 1154              	.LVL73:
 199:Core/Src/camera.c ****             HAL_Delay(1);
 1155              		.loc 1 199 13 view .LVU206
 1156 0030 0B4C     		ldr	r4, .L90+12
 1157 0032 2369     		ldr	r3, [r4, #16]
 1158 0034 43F48003 		orr	r3, r3, #4194304
 1159 0038 2361     		str	r3, [r4, #16]
 200:Core/Src/camera.c ****             __HAL_RCC_I2C2_RELEASE_RESET();
 1160              		.loc 1 200 13 view .LVU207
 1161 003a 0120     		movs	r0, #1
 1162 003c FFF7FEFF 		bl	HAL_Delay
 1163              	.LVL74:
 201:Core/Src/camera.c ****             MX_I2C2_Init();  // Your re-init function
 1164              		.loc 1 201 13 view .LVU208
 1165 0040 2369     		ldr	r3, [r4, #16]
 1166 0042 23F48003 		bic	r3, r3, #4194304
 1167 0046 2361     		str	r3, [r4, #16]
 202:Core/Src/camera.c ****             HAL_I2C_EnableListen_IT(&hi2c2);
 1168              		.loc 1 202 13 view .LVU209
 1169 0048 FFF7FEFF 		bl	MX_I2C2_Init
 1170              	.LVL75:
 203:Core/Src/camera.c **** 
 1171              		.loc 1 203 13 view .LVU210
 1172 004c 0248     		ldr	r0, .L90+4
 1173 004e FFF7FEFF 		bl	HAL_I2C_EnableListen_IT
 1174              	.LVL76:
 1175 0052 E5E7     		b	.L87
 1176              	.L91:
 1177              		.align	2
 1178              	.L90:
 1179 0054 00000000 		.word	.LANCHOR0
 1180 0058 00000000 		.word	hi2c2
 1181 005c 00000000 		.word	.LC26
 1182 0060 00100240 		.word	1073876992
 1183              	.LBE3:
 1184              		.cfi_endproc
 1185              	.LFE81:
 1187              		.section	.rodata.i2c_check.str1.4,"aMS",%progbits,1
 1188              		.align	2
 1189              	.LC27:
 1190 0000 49324320 		.ascii	"I2C timeout detected! Resetting I2C2...\015\000"
 1190      74696D65 
 1190      6F757420 
 1190      64657465 
 1190      63746564 
 1191              		.section	.text.i2c_check,"ax",%progbits
 1192              		.align	1
 1193              		.global	i2c_check
 1194              		.syntax unified
 1195              		.thumb
 1196              		.thumb_func
 1197              		.fpu softvfp
 1199              	i2c_check:
 1200              	.LFB82:
 209:Core/Src/camera.c **** 
 210:Core/Src/camera.c **** 
ARM GAS  /tmp/ccQXKsqi.s 			page 28


 211:Core/Src/camera.c ****  uint32_t last_i2c_check_time = 0;
 212:Core/Src/camera.c **** 
 213:Core/Src/camera.c **** void i2c_check()
 214:Core/Src/camera.c **** {
 1201              		.loc 1 214 1 view -0
 1202              		.cfi_startproc
 1203              		@ args = 0, pretend = 0, frame = 0
 1204              		@ frame_needed = 0, uses_anonymous_args = 0
 1205 0000 10B5     		push	{r4, lr}
 1206              	.LCFI47:
 1207              		.cfi_def_cfa_offset 8
 1208              		.cfi_offset 4, -8
 1209              		.cfi_offset 14, -4
 215:Core/Src/camera.c ****     if (HAL_GetTick() - last_i2c_check_time > 1000)  // every 1s
 1210              		.loc 1 215 5 view .LVU212
 1211              		.loc 1 215 9 is_stmt 0 view .LVU213
 1212 0002 FFF7FEFF 		bl	HAL_GetTick
 1213              	.LVL77:
 1214              		.loc 1 215 23 view .LVU214
 1215 0006 164B     		ldr	r3, .L96
 1216 0008 1B68     		ldr	r3, [r3]
 1217 000a C01A     		subs	r0, r0, r3
 1218              		.loc 1 215 8 view .LVU215
 1219 000c B0F57A7F 		cmp	r0, #1000
 1220 0010 00D8     		bhi	.L95
 1221              	.L92:
 216:Core/Src/camera.c ****     {
 217:Core/Src/camera.c ****     last_i2c_check_time = HAL_GetTick();
 218:Core/Src/camera.c **** 
 219:Core/Src/camera.c ****     // Timeout: if no I2C activity in 3s, and BUSY flag still set
 220:Core/Src/camera.c ****     if ((HAL_GetTick() - last_i2c_activity > 3000) &&                    // uint32_t last_i2c_check
 221:Core/Src/camera.c ****         (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 222:Core/Src/camera.c ****     {
 223:Core/Src/camera.c ****         printf("I2C timeout detected! Resetting I2C2...\r\n");
 224:Core/Src/camera.c **** 
 225:Core/Src/camera.c ****         // Reset I2C2 peripheral safely
 226:Core/Src/camera.c ****         __HAL_RCC_I2C2_FORCE_RESET();
 227:Core/Src/camera.c ****         HAL_Delay(2);
 228:Core/Src/camera.c ****         __HAL_RCC_I2C2_RELEASE_RESET();
 229:Core/Src/camera.c ****         MX_I2C2_Init();  // Reinitialize I2C2
 230:Core/Src/camera.c ****     
 231:Core/Src/camera.c **** 
 232:Core/Src/camera.c ****     }
 233:Core/Src/camera.c ****     }
 234:Core/Src/camera.c **** }
 1222              		.loc 1 234 1 view .LVU216
 1223 0012 10BD     		pop	{r4, pc}
 1224              	.L95:
 217:Core/Src/camera.c **** 
 1225              		.loc 1 217 5 is_stmt 1 view .LVU217
 217:Core/Src/camera.c **** 
 1226              		.loc 1 217 27 is_stmt 0 view .LVU218
 1227 0014 FFF7FEFF 		bl	HAL_GetTick
 1228              	.LVL78:
 217:Core/Src/camera.c **** 
 1229              		.loc 1 217 25 view .LVU219
 1230 0018 114B     		ldr	r3, .L96
ARM GAS  /tmp/ccQXKsqi.s 			page 29


 1231 001a 1860     		str	r0, [r3]
 220:Core/Src/camera.c ****         (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1232              		.loc 1 220 5 is_stmt 1 view .LVU220
 220:Core/Src/camera.c ****         (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1233              		.loc 1 220 10 is_stmt 0 view .LVU221
 1234 001c FFF7FEFF 		bl	HAL_GetTick
 1235              	.LVL79:
 220:Core/Src/camera.c ****         (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1236              		.loc 1 220 24 view .LVU222
 1237 0020 104B     		ldr	r3, .L96+4
 1238 0022 1B68     		ldr	r3, [r3]
 1239 0024 C01A     		subs	r0, r0, r3
 220:Core/Src/camera.c ****         (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1240              		.loc 1 220 8 view .LVU223
 1241 0026 40F6B833 		movw	r3, #3000
 1242 002a 9842     		cmp	r0, r3
 1243 002c F1D9     		bls	.L92
 221:Core/Src/camera.c ****     {
 1244              		.loc 1 221 10 discriminator 1 view .LVU224
 1245 002e 0E4B     		ldr	r3, .L96+8
 1246 0030 1B68     		ldr	r3, [r3]
 1247 0032 9B69     		ldr	r3, [r3, #24]
 220:Core/Src/camera.c ****         (__HAL_I2C_GET_FLAG(&hi2c2, I2C_FLAG_BUSY)))
 1248              		.loc 1 220 52 discriminator 1 view .LVU225
 1249 0034 13F0020F 		tst	r3, #2
 1250 0038 EBD0     		beq	.L92
 1251              	.LBB4:
 223:Core/Src/camera.c **** 
 1252              		.loc 1 223 9 is_stmt 1 view .LVU226
 1253 003a 0C48     		ldr	r0, .L96+12
 1254 003c FFF7FEFF 		bl	puts
 1255              	.LVL80:
 226:Core/Src/camera.c ****         HAL_Delay(2);
 1256              		.loc 1 226 9 view .LVU227
 1257 0040 0B4C     		ldr	r4, .L96+16
 1258 0042 2369     		ldr	r3, [r4, #16]
 1259 0044 43F48003 		orr	r3, r3, #4194304
 1260 0048 2361     		str	r3, [r4, #16]
 227:Core/Src/camera.c ****         __HAL_RCC_I2C2_RELEASE_RESET();
 1261              		.loc 1 227 9 view .LVU228
 1262 004a 0220     		movs	r0, #2
 1263 004c FFF7FEFF 		bl	HAL_Delay
 1264              	.LVL81:
 228:Core/Src/camera.c ****         MX_I2C2_Init();  // Reinitialize I2C2
 1265              		.loc 1 228 9 view .LVU229
 1266 0050 2369     		ldr	r3, [r4, #16]
 1267 0052 23F48003 		bic	r3, r3, #4194304
 1268 0056 2361     		str	r3, [r4, #16]
 229:Core/Src/camera.c ****     
 1269              		.loc 1 229 9 view .LVU230
 1270 0058 FFF7FEFF 		bl	MX_I2C2_Init
 1271              	.LVL82:
 1272              	.LBE4:
 1273              		.loc 1 234 1 is_stmt 0 view .LVU231
 1274 005c D9E7     		b	.L92
 1275              	.L97:
 1276 005e 00BF     		.align	2
ARM GAS  /tmp/ccQXKsqi.s 			page 30


 1277              	.L96:
 1278 0060 00000000 		.word	.LANCHOR1
 1279 0064 00000000 		.word	.LANCHOR0
 1280 0068 00000000 		.word	hi2c2
 1281 006c 00000000 		.word	.LC27
 1282 0070 00100240 		.word	1073876992
 1283              		.cfi_endproc
 1284              	.LFE82:
 1286              		.section	.rodata.camera_request_payload.str1.4,"aMS",%progbits,1
 1287              		.align	2
 1288              	.LC28:
 1289 0000 2F2A2000 		.ascii	"/* \000"
 1290              		.align	2
 1291              	.LC29:
 1292 0004 2100     		.ascii	"!\000"
 1293 0006 0000     		.align	2
 1294              	.LC30:
 1295 0008 202A2F0A 		.ascii	" */\012\000"
 1295      00
 1296              		.section	.text.camera_request_payload,"ax",%progbits
 1297              		.align	1
 1298              		.global	camera_request_payload
 1299              		.syntax unified
 1300              		.thumb
 1301              		.thumb_func
 1302              		.fpu softvfp
 1304              	camera_request_payload:
 1305              	.LFB83:
 235:Core/Src/camera.c **** 
 236:Core/Src/camera.c **** void camera_request_payload()
 237:Core/Src/camera.c **** {
 1306              		.loc 1 237 1 is_stmt 1 view -0
 1307              		.cfi_startproc
 1308              		@ args = 0, pretend = 0, frame = 0
 1309              		@ frame_needed = 0, uses_anonymous_args = 0
 1310 0000 10B5     		push	{r4, lr}
 1311              	.LCFI48:
 1312              		.cfi_def_cfa_offset 8
 1313              		.cfi_offset 4, -8
 1314              		.cfi_offset 14, -4
 238:Core/Src/camera.c ****     request_image_capture();
 1315              		.loc 1 238 5 view .LVU233
 1316 0002 FFF7FEFF 		bl	request_image_capture
 1317              	.LVL83:
 239:Core/Src/camera.c ****     i2c_check();
 1318              		.loc 1 239 5 view .LVU234
 1319 0006 FFF7FEFF 		bl	i2c_check
 1320              	.LVL84:
 240:Core/Src/camera.c ****     // Wait
 241:Core/Src/camera.c ****     HAL_UART_Transmit(&huart1, (uint8_t*)"/* ", 3, HAL_MAX_DELAY);
 1321              		.loc 1 241 5 view .LVU235
 1322 000a 4FF0FF33 		mov	r3, #-1
 1323 000e 0322     		movs	r2, #3
 1324 0010 1149     		ldr	r1, .L102
 1325 0012 1248     		ldr	r0, .L102+4
 1326 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 1327              	.LVL85:
ARM GAS  /tmp/ccQXKsqi.s 			page 31


 242:Core/Src/camera.c ****     for (uint8_t i = 0; i < 8; i++)
 1328              		.loc 1 242 5 view .LVU236
 1329              	.LBB5:
 1330              		.loc 1 242 10 view .LVU237
 1331              		.loc 1 242 18 is_stmt 0 view .LVU238
 1332 0018 0024     		movs	r4, #0
 1333              		.loc 1 242 5 view .LVU239
 1334 001a 0CE0     		b	.L99
 1335              	.LVL86:
 1336              	.L100:
 243:Core/Src/camera.c ****     {
 244:Core/Src/camera.c ****         HAL_UART_Transmit(&huart1, (uint8_t*)"!", 1, HAL_MAX_DELAY);
 1337              		.loc 1 244 9 is_stmt 1 discriminator 3 view .LVU240
 1338 001c 4FF0FF33 		mov	r3, #-1
 1339 0020 0122     		movs	r2, #1
 1340 0022 0F49     		ldr	r1, .L102+8
 1341 0024 0D48     		ldr	r0, .L102+4
 1342 0026 FFF7FEFF 		bl	HAL_UART_Transmit
 1343              	.LVL87:
 245:Core/Src/camera.c ****         HAL_Delay(1000);
 1344              		.loc 1 245 9 discriminator 3 view .LVU241
 1345 002a 4FF47A70 		mov	r0, #1000
 1346 002e FFF7FEFF 		bl	HAL_Delay
 1347              	.LVL88:
 242:Core/Src/camera.c ****     for (uint8_t i = 0; i < 8; i++)
 1348              		.loc 1 242 32 discriminator 3 view .LVU242
 242:Core/Src/camera.c ****     for (uint8_t i = 0; i < 8; i++)
 1349              		.loc 1 242 33 is_stmt 0 discriminator 3 view .LVU243
 1350 0032 0134     		adds	r4, r4, #1
 1351              	.LVL89:
 242:Core/Src/camera.c ****     for (uint8_t i = 0; i < 8; i++)
 1352              		.loc 1 242 33 discriminator 3 view .LVU244
 1353 0034 E4B2     		uxtb	r4, r4
 1354              	.LVL90:
 1355              	.L99:
 242:Core/Src/camera.c ****     for (uint8_t i = 0; i < 8; i++)
 1356              		.loc 1 242 25 is_stmt 1 discriminator 1 view .LVU245
 242:Core/Src/camera.c ****     for (uint8_t i = 0; i < 8; i++)
 1357              		.loc 1 242 5 is_stmt 0 discriminator 1 view .LVU246
 1358 0036 072C     		cmp	r4, #7
 1359 0038 F0D9     		bls	.L100
 1360              	.LBE5:
 246:Core/Src/camera.c ****     }
 247:Core/Src/camera.c ****     HAL_UART_Transmit(&huart1, (uint8_t*)" */\n", 4, HAL_MAX_DELAY);
 1361              		.loc 1 247 5 is_stmt 1 view .LVU247
 1362 003a 4FF0FF33 		mov	r3, #-1
 1363 003e 0422     		movs	r2, #4
 1364 0040 0849     		ldr	r1, .L102+12
 1365 0042 0648     		ldr	r0, .L102+4
 1366 0044 FFF7FEFF 		bl	HAL_UART_Transmit
 1367              	.LVL91:
 248:Core/Src/camera.c **** 
 249:Core/Src/camera.c ****     // Step 2: Request SSDV Stream
 250:Core/Src/camera.c ****     request_ssdv_stream();
 1368              		.loc 1 250 5 view .LVU248
 1369 0048 FFF7FEFF 		bl	request_ssdv_stream
 1370              	.LVL92:
ARM GAS  /tmp/ccQXKsqi.s 			page 32


 251:Core/Src/camera.c ****     HAL_Delay(200);
 1371              		.loc 1 251 5 view .LVU249
 1372 004c C820     		movs	r0, #200
 1373 004e FFF7FEFF 		bl	HAL_Delay
 1374              	.LVL93:
 252:Core/Src/camera.c **** 
 253:Core/Src/camera.c ****     // Step 3: Read All SSDV Packets
 254:Core/Src/camera.c ****     read_ssdv_stream();
 1375              		.loc 1 254 5 view .LVU250
 1376 0052 FFF7FEFF 		bl	read_ssdv_stream
 1377              	.LVL94:
 255:Core/Src/camera.c ****     // camera_off();
 256:Core/Src/camera.c **** 
 257:Core/Src/camera.c **** }
 1378              		.loc 1 257 1 is_stmt 0 view .LVU251
 1379 0056 10BD     		pop	{r4, pc}
 1380              	.LVL95:
 1381              	.L103:
 1382              		.loc 1 257 1 view .LVU252
 1383              		.align	2
 1384              	.L102:
 1385 0058 00000000 		.word	.LC28
 1386 005c 00000000 		.word	huart1
 1387 0060 04000000 		.word	.LC29
 1388 0064 08000000 		.word	.LC30
 1389              		.cfi_endproc
 1390              	.LFE83:
 1392              		.global	last_i2c_check_time
 1393              		.global	last_i2c_activity
 1394              		.section	.bss.last_i2c_activity,"aw",%nobits
 1395              		.align	2
 1396              		.set	.LANCHOR0,. + 0
 1399              	last_i2c_activity:
 1400 0000 00000000 		.space	4
 1401              		.section	.bss.last_i2c_check_time,"aw",%nobits
 1402              		.align	2
 1403              		.set	.LANCHOR1,. + 0
 1406              	last_i2c_check_time:
 1407 0000 00000000 		.space	4
 1408              		.text
 1409              	.Letext0:
 1410              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 1411              		.file 3 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1412              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 1413              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1414              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1415              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 1416              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1417              		.file 9 "Core/Inc/camera.h"
 1418              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1419              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1420              		.file 12 "/usr/include/newlib/stdio.h"
 1421              		.file 13 "<built-in>"
ARM GAS  /tmp/ccQXKsqi.s 			page 33


DEFINED SYMBOLS
                            *ABS*:0000000000000000 camera.c
     /tmp/ccQXKsqi.s:16     .rodata.request_image_capture.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:23     .text.request_image_capture:0000000000000000 $t
     /tmp/ccQXKsqi.s:31     .text.request_image_capture:0000000000000000 request_image_capture
     /tmp/ccQXKsqi.s:92     .text.request_image_capture:000000000000003c $d
     /tmp/ccQXKsqi.s:100    .rodata.request_prestored.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:107    .text.request_prestored:0000000000000000 $t
     /tmp/ccQXKsqi.s:114    .text.request_prestored:0000000000000000 request_prestored
     /tmp/ccQXKsqi.s:174    .text.request_prestored:000000000000003c $d
     /tmp/ccQXKsqi.s:182    .rodata.request_ssdv_stream.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:189    .text.request_ssdv_stream:0000000000000000 $t
     /tmp/ccQXKsqi.s:196    .text.request_ssdv_stream:0000000000000000 request_ssdv_stream
     /tmp/ccQXKsqi.s:249    .text.request_ssdv_stream:0000000000000034 $d
     /tmp/ccQXKsqi.s:256    .rodata.read_ssdv_stream.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:278    .text.read_ssdv_stream:0000000000000000 $t
     /tmp/ccQXKsqi.s:285    .text.read_ssdv_stream:0000000000000000 read_ssdv_stream
     /tmp/ccQXKsqi.s:441    .text.read_ssdv_stream:000000000000009c $d
     /tmp/ccQXKsqi.s:454    .rodata.set_brightness_.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:461    .text.set_brightness_:0000000000000000 $t
     /tmp/ccQXKsqi.s:468    .text.set_brightness_:0000000000000000 set_brightness_
     /tmp/ccQXKsqi.s:529    .text.set_brightness_:0000000000000038 $d
     /tmp/ccQXKsqi.s:536    .rodata.set_sharpness_.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:543    .text.set_sharpness_:0000000000000000 $t
     /tmp/ccQXKsqi.s:550    .text.set_sharpness_:0000000000000000 set_sharpness_
     /tmp/ccQXKsqi.s:611    .text.set_sharpness_:0000000000000038 $d
     /tmp/ccQXKsqi.s:618    .rodata.set_contrast_.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:625    .text.set_contrast_:0000000000000000 $t
     /tmp/ccQXKsqi.s:632    .text.set_contrast_:0000000000000000 set_contrast_
     /tmp/ccQXKsqi.s:693    .text.set_contrast_:0000000000000038 $d
     /tmp/ccQXKsqi.s:700    .rodata.set_exposure_.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:707    .text.set_exposure_:0000000000000000 $t
     /tmp/ccQXKsqi.s:714    .text.set_exposure_:0000000000000000 set_exposure_
     /tmp/ccQXKsqi.s:775    .text.set_exposure_:0000000000000038 $d
     /tmp/ccQXKsqi.s:782    .rodata.set_saturation_.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:789    .text.set_saturation_:0000000000000000 $t
     /tmp/ccQXKsqi.s:796    .text.set_saturation_:0000000000000000 set_saturation_
     /tmp/ccQXKsqi.s:857    .text.set_saturation_:0000000000000038 $d
     /tmp/ccQXKsqi.s:864    .rodata.set_effect_.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:871    .text.set_effect_:0000000000000000 $t
     /tmp/ccQXKsqi.s:878    .text.set_effect_:0000000000000000 set_effect_
     /tmp/ccQXKsqi.s:939    .text.set_effect_:0000000000000038 $d
     /tmp/ccQXKsqi.s:946    .rodata.request_prestored_image.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:950    .text.request_prestored_image:0000000000000000 $t
     /tmp/ccQXKsqi.s:957    .text.request_prestored_image:0000000000000000 request_prestored_image
     /tmp/ccQXKsqi.s:1021   .text.request_prestored_image:0000000000000038 $d
     /tmp/ccQXKsqi.s:1028   .text.camera_on:0000000000000000 $t
     /tmp/ccQXKsqi.s:1035   .text.camera_on:0000000000000000 camera_on
     /tmp/ccQXKsqi.s:1057   .text.camera_on:0000000000000010 $d
     /tmp/ccQXKsqi.s:1062   .text.camera_off:0000000000000000 $t
     /tmp/ccQXKsqi.s:1069   .text.camera_off:0000000000000000 camera_off
     /tmp/ccQXKsqi.s:1091   .text.camera_off:0000000000000010 $d
     /tmp/ccQXKsqi.s:1096   .rodata.check_i2c_timeout.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:1100   .text.check_i2c_timeout:0000000000000000 $t
     /tmp/ccQXKsqi.s:1107   .text.check_i2c_timeout:0000000000000000 check_i2c_timeout
     /tmp/ccQXKsqi.s:1179   .text.check_i2c_timeout:0000000000000054 $d
     /tmp/ccQXKsqi.s:1188   .rodata.i2c_check.str1.4:0000000000000000 $d
ARM GAS  /tmp/ccQXKsqi.s 			page 34


     /tmp/ccQXKsqi.s:1192   .text.i2c_check:0000000000000000 $t
     /tmp/ccQXKsqi.s:1199   .text.i2c_check:0000000000000000 i2c_check
     /tmp/ccQXKsqi.s:1278   .text.i2c_check:0000000000000060 $d
     /tmp/ccQXKsqi.s:1287   .rodata.camera_request_payload.str1.4:0000000000000000 $d
     /tmp/ccQXKsqi.s:1297   .text.camera_request_payload:0000000000000000 $t
     /tmp/ccQXKsqi.s:1304   .text.camera_request_payload:0000000000000000 camera_request_payload
     /tmp/ccQXKsqi.s:1385   .text.camera_request_payload:0000000000000058 $d
     /tmp/ccQXKsqi.s:1406   .bss.last_i2c_check_time:0000000000000000 last_i2c_check_time
     /tmp/ccQXKsqi.s:1399   .bss.last_i2c_activity:0000000000000000 last_i2c_activity
     /tmp/ccQXKsqi.s:1395   .bss.last_i2c_activity:0000000000000000 $d
     /tmp/ccQXKsqi.s:1402   .bss.last_i2c_check_time:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GetTick
HAL_I2C_Master_Transmit
puts
hi2c2
printf
HAL_I2C_Master_Receive
HAL_Delay
putchar
HAL_GPIO_WritePin
MX_I2C2_Init
HAL_I2C_EnableListen_IT
HAL_UART_Transmit
huart1
