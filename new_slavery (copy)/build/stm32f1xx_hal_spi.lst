ARM GAS  /tmp/cc0VKmst.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f1xx_hal_spi.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	SPI_AbortRx_ISR:
  24              	.LVL0:
  25              	.LFB118:
  26              		.file 1 "Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c"
   1:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
   2:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @file    stm32f1xx_hal_spi.c
   4:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
  13:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @attention
  14:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  15:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * Copyright (c) 2016 STMicroelectronics.
  16:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * All rights reserved.
  17:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  18:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  19:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * in the root directory of this software component.
  20:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  21:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  22:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
  23:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   @verbatim
  24:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
  25:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                         ##### How to use this driver #####
  26:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
  27:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]
  28:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  29:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  30:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  31:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  32:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 2


  33:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  34:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  35:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) SPI pins configuration
  36:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  37:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  38:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  39:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  40:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
  41:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  42:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Stream
  43:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the DMAx clock
  44:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  45:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream/Channel
  46:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx(or _rx)  handle to the hspi DMA Tx or Rx hand
  47:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  48:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                     or Rx Stream/Channel
  49:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  50:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  51:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  52:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  53:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  54:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  55:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  56:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  57:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Circular mode restriction:
  58:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  59:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  60:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Master 1Line Rx
  61:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  62:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  63:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  64:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  65:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Master Receive mode restriction:
  66:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=1) or
  67:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  68:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  69:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  70:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) HAL_SPI_Init()
  71:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  72:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Callback registration:
  73:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  74:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The compilation flag USE_HAL_SPI_REGISTER_CALLBACKS when set to 1U
  75:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           allows the user to configure dynamically the driver callbacks.
  76:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           Use Functions HAL_SPI_RegisterCallback() to register an interrupt callback.
  77:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  78:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           Function HAL_SPI_RegisterCallback() allows to register following callbacks:
  79:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  80:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  81:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  82:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  83:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  84:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  85:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  86:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  87:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  88:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  89:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           This function takes as parameters the HAL peripheral handle, the Callback ID
ARM GAS  /tmp/cc0VKmst.s 			page 3


  90:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           and a pointer to the user callback function.
  91:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  92:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  93:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Use function HAL_SPI_UnRegisterCallback to reset a callback to the default
  94:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           weak function.
  95:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_SPI_UnRegisterCallback takes as parameters the HAL peripheral handle,
  96:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           and the Callback ID.
  97:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           This function allows to reset following callbacks:
  98:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  99:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
 100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
 101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
 102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
 103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
 104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
 105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
 106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
 107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
 108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        [..]
 110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        By default, after the HAL_SPI_Init() and when the state is HAL_SPI_STATE_RESET
 111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        all callbacks are set to the corresponding weak functions:
 112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        examples HAL_SPI_MasterTxCpltCallback(), HAL_SPI_MasterRxCpltCallback().
 113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Exception done for MspInit and MspDeInit functions that are
 114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        reset to the legacy weak functions in the HAL_SPI_Init()/ HAL_SPI_DeInit() only when
 115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        these callbacks are null (not registered beforehand).
 116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        If MspInit or MspDeInit are not null, the HAL_SPI_Init()/ HAL_SPI_DeInit()
 117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        keep and use the user MspInit/MspDeInit callbacks (registered beforehand) whatever the state
 118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        [..]
 120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Callbacks can be registered/unregistered in HAL_SPI_STATE_READY state only.
 121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Exception done MspInit/MspDeInit functions that can be registered/unregistered
 122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        in HAL_SPI_STATE_READY or HAL_SPI_STATE_RESET state,
 123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Then, the user first registers the MspInit/MspDeInit user callbacks
 125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        using HAL_SPI_RegisterCallback() before calling HAL_SPI_DeInit()
 126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        or HAL_SPI_Init() function.
 127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        [..]
 129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        When the compilation define USE_HAL_PPP_REGISTER_CALLBACKS is set to 0 or
 130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        not defined, the callback registering feature is not available
 131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        and weak (surcharged) callbacks are used.
 132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
 134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Using the HAL it is not possible to reach all supported SPI frequency with the different SPI
 135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        the following table resume the max SPI frequency reached with data size 8bits/16bits,
 136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          according to frequency of the APBx Peripheral Clock (fPCLK) used by the SPI instance.
 137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   @endverbatim
 139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   Additional table :
 141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        DataSize = SPI_DATASIZE_8BIT:
 143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
ARM GAS  /tmp/cc0VKmst.s 			page 4


 147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |===========================================================================================
 148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/8  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/
 159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/
 161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/
 163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        DataSize = SPI_DATASIZE_16BIT:
 168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |===========================================================================================
 173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/4  |    NA     |    NA    |    NA     |   NA  
 176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/32  | Fpclk/
 180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/4  | Fpclk/4  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        @note The max SPI frequency depend on SPI data size (8bits, 16bits),
 192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****              SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, 
 193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        @note
 194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (#) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and
 195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                 HAL_SPI_TransmitReceive_DMA()
 196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (#) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (#) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DMA
 198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
 202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #include "stm32f1xx_hal.h"
 203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 5


 204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup STM32F1xx_HAL_Driver
 205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI SPI
 209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief SPI HAL module driver
 210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U) && defined(SPI_CRC_ERROR_WORKAROUND_FEATURE)
 217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* CRC WORKAROUND FEATURE: Variable used to determine if device is impacted by implementation
 218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * of workaround related to wrong CRC errors detection on SPI2. Conditions in which this workaround
 219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * has to be applied, are:
 220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - STM32F101CDE/STM32F103CDE
 221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - Revision ID : Z
 222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - SPI2
 223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - In receive only mode, with CRC calculation enabled, at the end of the CRC reception,
 224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *     the software needs to check the CRCERR flag. If it is found set, read back the SPI_RXCRC:
 225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *       + If the value is 0, the complete data transfer is successful.
 226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *       + Otherwise, one or more errors have been detected during the data transfer by CPU or DMA.
 227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *    If CRCERR is found reset, the complete data transfer is considered successful.
 228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *
 229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * Check RevisionID value for identifying if Device is Rev Z (0x0001) in order to enable workaround
 230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * CRC errors wrongly detected
 231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  */
 232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Pb is that ES_STM32F10xxCDE also identify an issue in Debug registers access while not in Debug 
 233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * Revision ID information is only available in Debug mode, so Workaround could not be implemented
 234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * to distinguish Rev Z devices (issue present) from more recent version (issue fixed).
 235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * So, in case of Revision Z F101 or F103 devices, below define should be assigned to 1.
 236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  */
 237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #define  USE_SPI_CRC_ERROR_WORKAROUND   0U
 238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Private_Functions SPI Private Functions
 251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
ARM GAS  /tmp/cc0VKmst.s 			page 6


 261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
 264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t T
 285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
 286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *  @brief    Initialization and Configuration functions
 297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
 299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           the selected configuration:
 310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Mode
 311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Direction
 312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Data Size
 313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Clock Polarity and Phase
 314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) NSS Management
 315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) BaudRate Prescaler
 316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) FirstBit
 317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) TIMode
ARM GAS  /tmp/cc0VKmst.s 			page 7


 318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) CRC Calculation
 319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           of the selected SPIx peripheral.
 323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
 325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi == NULL)
 339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the parameters */
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* TI mode is not supported on this device.
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      TIMode parameter is mandatory equal to SPI_TIMODE_DISABLE */
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.Mode == SPI_MODE_MASTER)
 360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
 364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Baudrate prescaler not use in Motoraola Slave mode. force to default value */
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
 367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Force polarity and phase to TI protocaol requirements */
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
ARM GAS  /tmp/cc0VKmst.s 			page 8


 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_RESET)
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the SPI Callback settings */
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxCpltCallback       = HAL_SPI_TxCpltCallback;       /* Legacy weak TxCpltCallback       
 395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxCpltCallback       = HAL_SPI_RxCpltCallback;       /* Legacy weak RxCpltCallback       
 396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxRxCpltCallback     = HAL_SPI_TxRxCpltCallback;     /* Legacy weak TxRxCpltCallback     
 397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxHalfCpltCallback   = HAL_SPI_TxHalfCpltCallback;   /* Legacy weak TxHalfCpltCallback   
 398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxHalfCpltCallback   = HAL_SPI_RxHalfCpltCallback;   /* Legacy weak RxHalfCpltCallback   
 399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallback 
 400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCallback        = HAL_SPI_ErrorCallback;        /* Legacy weak ErrorCallback        
 401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->AbortCpltCallback    = HAL_SPI_AbortCpltCallback;    /* Legacy weak AbortCpltCallback    
 402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->MspInitCallback == NULL)
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->MspInitCallback = HAL_SPI_MspInit; /* Legacy weak MspInit  */
 406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->MspInitCallback(hspi);
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Data size, Clock polarity and phase, NSS management,
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, ((hspi->Init.Mode & (SPI_CR1_MSTR | SPI_CR1_SSI)) |
 425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.DataSize & SPI_CR1_DFF) |
 427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.CLKPolarity & SPI_CR1_CPOL) |
 428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.CLKPhase & SPI_CR1_CPHA) |
 429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.NSS & SPI_CR1_SSM) |
 430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.BaudRatePrescaler & SPI_CR1_BR_Msk) |
 431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.FirstBit  & SPI_CR1_LSBFIRST) |
ARM GAS  /tmp/cc0VKmst.s 			page 9


 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.CRCCalculation & SPI_CR1_CRCEN)));
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : NSS management */
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, ((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE));
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, (hspi->Init.CRCPolynomial & SPI_CRCPR_CRCPOLY_Msk));
 443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  De-Initialize the SPI peripheral.
 459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi == NULL)
 467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check SPI Instance parameter */
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->MspDeInitCallback == NULL)
 481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->MspDeInitCallback = HAL_SPI_MspDeInit; /* Legacy weak MspDeInit  */
 483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->MspDeInitCallback(hspi);
 487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
ARM GAS  /tmp/cc0VKmst.s 			page 10


 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
 506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
 511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
 522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
 527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Register a User SPI Callback
 536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         To be used instead of the weak predefined callback
 537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be registered
 540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pCallback pointer to the Callback function
 541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_RegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Callb
 544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                            pSPI_CallbackTypeDef pCallback)
 545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/cc0VKmst.s 			page 11


 546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (pCallback == NULL)
 549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update the error code */
 551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_INVALID_CALLBACK;
 552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
 556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
 561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxCpltCallback = pCallback;
 564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxCpltCallback = pCallback;
 568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxCpltCallback = pCallback;
 572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxHalfCpltCallback = pCallback;
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxHalfCpltCallback = pCallback;
 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = pCallback;
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCallback = pCallback;
 588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->AbortCpltCallback = pCallback;
 592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
ARM GAS  /tmp/cc0VKmst.s 			page 12


 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
 614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update the error code */
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Return error status */
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     status =  HAL_ERROR;
 639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return status;
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Unregister an SPI Callback
 648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         SPI callback is redirected to the weak predefined callback
 649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be unregistered
 652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_UnRegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Cal
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
ARM GAS  /tmp/cc0VKmst.s 			page 13


 660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxCpltCallback = HAL_SPI_TxCpltCallback;             /* Legacy weak TxCpltCallback   
 667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxCpltCallback = HAL_SPI_RxCpltCallback;             /* Legacy weak RxCpltCallback   
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxCpltCallback = HAL_SPI_TxRxCpltCallback;         /* Legacy weak TxRxCpltCallback 
 675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxHalfCpltCallback = HAL_SPI_TxHalfCpltCallback;     /* Legacy weak TxHalfCpltCallbac
 679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxHalfCpltCallback = HAL_SPI_RxHalfCpltCallback;     /* Legacy weak RxHalfCpltCallbac
 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallb
 687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCallback = HAL_SPI_ErrorCallback;               /* Legacy weak ErrorCallback    
 691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->AbortCpltCallback = HAL_SPI_AbortCpltCallback;       /* Legacy weak AbortCpltCallback
 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
ARM GAS  /tmp/cc0VKmst.s 			page 14


 717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
 727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update the error code */
 738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Return error status */
 741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     status =  HAL_ERROR;
 742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return status;
 747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *  @brief   Data transfers functions
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
 757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
 758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                       ##### IO operation functions #####
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  [..]
 761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     data transfers.
 763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     (#) There are two modes of transfer:
 767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             after finishing transfer.
 770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The end of the data processing will be indicated through the
 773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
ARM GAS  /tmp/cc0VKmst.s 			page 15


 774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             using DMA mode.
 775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
 783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
 792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size, ui
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
 810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
ARM GAS  /tmp/cc0VKmst.s 			page 16


 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
 844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 17


 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
 920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
ARM GAS  /tmp/cc0VKmst.s 			page 18


 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_OK;
 949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
 954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
 957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be received
 958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
 959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
 971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
ARM GAS  /tmp/cc0VKmst.s 			page 19


1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
1011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount--;
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction: 1Line */
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_8BIT)
1032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transfer loop */
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check the RXNE flag */
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* read the received data */
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (* (uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
1052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transfer loop */
ARM GAS  /tmp/cc0VKmst.s 			page 20


1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check the RXNE flag */
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
1076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Handle the CRC Transmission */
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* freeze the CRC before the latest data */
1086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRCNEXT is well reset by hardware */
1089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (READ_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT))
1090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Workaround to force CRCNEXT bit to zero in case of CRCNEXT is not reset automatically by h
1092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read the latest data */
1095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* the latest data has not been received */
1098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
1108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait the CRC data */
1114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/cc0VKmst.s 			page 21


1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
1123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     tmpreg = READ_REG(hspi->Instance->DR);
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
1125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     UNUSED(tmpreg);
1126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
1137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
1140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
1141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
1145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_OK;
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
1169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
ARM GAS  /tmp/cc0VKmst.s 			page 22


1173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint8_t 
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                           uint16_t Size, uint32_t Timeout)
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tickstart;
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             txallowed = 1U;
1190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
1196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init temporary variables */
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_state           = hspi->State;
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
1204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
ARM GAS  /tmp/cc0VKmst.s 			page 23


1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
1259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
1262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check TXE flag */
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
1277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 0U;
1279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Enable CRC Transmission */
1282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
ARM GAS  /tmp/cc0VKmst.s 			page 24


1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check RXNE flag */
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 1U;
1297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY))
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
1314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
1317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check TXE flag */
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
1331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 0U;
1333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Enable CRC Transmission */
1336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
ARM GAS  /tmp/cc0VKmst.s 			page 25


1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (*(uint8_t *)hspi->pRxBuffPtr) = hspi->Instance->DR;
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 1U;
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((((HAL_GetTick() - tickstart) >=  Timeout) && ((Timeout != HAL_MAX_DELAY))) || (Timeout =
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
1363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait until TXE flag */
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Error on the CRC reception */
1369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
1373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read CRC */
1375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     tmpreg = READ_REG(hspi->Instance->DR);
1376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
1377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     UNUSED(tmpreg);
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
1381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
1384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_ERROR;
1392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
ARM GAS  /tmp/cc0VKmst.s 			page 26


1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
1410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
1412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_OK;
1426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size)
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
ARM GAS  /tmp/cc0VKmst.s 			page 27


1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
1474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
1478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
ARM GAS  /tmp/cc0VKmst.s 			page 28


1515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
1532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
1560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
1564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
ARM GAS  /tmp/cc0VKmst.s 			page 29


1572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             process unlock */
1585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
1597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint8
1611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                              uint16_t Size)
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
1614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init temporary variables */
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_state           = hspi->State;
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 30


1629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
1658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
1663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
1685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 31


1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check tx dma handle */
1701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
ARM GAS  /tmp/cc0VKmst.s 			page 32


1743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
1751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
1754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
1760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel */
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
1763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
1766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Tx DMA Request */
1786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
1793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   In case of MASTER mode and SPI_DIRECTION_2LINES direction, hdmatx shall be defined.
1794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
1798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /tmp/cc0VKmst.s 			page 33


1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx dma handle */
1804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check tx dma handle */
1816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
1820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 34


1857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
1864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
1874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
1876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Rx DMA Request */
1896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
1897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
1903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
1908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint
1912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                               uint16_t Size)
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/cc0VKmst.s 			page 35


1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
1915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx & tx dma handles */
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init temporary variables */
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_state           = hspi->State;
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) ||
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
1930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
ARM GAS  /tmp/cc0VKmst.s 			page 36


1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_BUSY_RX)
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
1976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
1993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
1995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Rx DMA Request */
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
2005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   is performed in DMA reception complete callback  */
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel  */
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
2013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
2027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 37


2028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Tx DMA Request */
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         This procedure performs following operations :
2047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Set handle State to READY
2051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
2059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialized local variable  */
2061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   errorcode = HAL_OK;
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
2064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 38


2085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmatx) != HAL_OK)
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Tx DMA Request */
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
2121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set */
2123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       do
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (count == 0U)
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           break;
2129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         count--;
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
2132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
ARM GAS  /tmp/cc0VKmst.s 			page 39


2142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmarx) != HAL_OK)
2147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable peripheral */
2152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
2153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Rx DMA Request */
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check error during Abort procedure */
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* return HAL_Error in case of error during Abort procedure */
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
2167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
2169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
2176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->state to ready */
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
2185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         This procedure performs following operations :
2189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
2192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Set handle State to READY
2193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
2194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
2196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
ARM GAS  /tmp/cc0VKmst.s 			page 40


2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt ;
2202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
2204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialized local variable  */
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   errorcode = HAL_OK;
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
2210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
2250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      before any call to DMA Abort functions */
2251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Tx Handle is valid */
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
2255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Otherwise, set it to NULL */
ARM GAS  /tmp/cc0VKmst.s 			page 41


2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
2259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
2261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Rx Handle is valid */
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
2269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Otherwise, set it to NULL */
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
2273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
2275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel */
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
2288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
2295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel */
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmarx) !=  HAL_OK)
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
ARM GAS  /tmp/cc0VKmst.s 			page 42


2313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (abortcplt == 1U)
2318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check error during Abort procedure */
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* return HAL_Error in case of error during Abort procedure */
2327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
2328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
2330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset errorCode */
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
2337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Restore hspi->State to Ready */
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
2342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->AbortCpltCallback(hspi);
2344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
2346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
2350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
2354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
ARM GAS  /tmp/cc0VKmst.s 			page 43


2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
2374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
2382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
2384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
2390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Stop the DMA Transfer.
2394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
2401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
2402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
2403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      HAL_SPI_TxRxCpltCallback():
2404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
2405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
2406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      HAL_SPI_TxRxCpltCallback()
2407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      */
2408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream/Channel  */
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmatx))
2413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
2416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream/Channel  */
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmarx))
2422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
2425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 44


2427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
2436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
2444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) == RESET) &&
2447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
2448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR(hspi);
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_TXE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_TXE)
2455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR(hspi);
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (((SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET) || (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) !=
2462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
2463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) != RESET)
2466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (hspi->State != HAL_SPI_STATE_BUSY_TX)
2468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
2476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET)
2481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
ARM GAS  /tmp/cc0VKmst.s 			page 45


2484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
2487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable all interrupts */
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
2492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
2494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)
2496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
2498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (hspi->hdmarx != NULL)
2501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
2506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
2509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (hspi->hdmatx != NULL)
2512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
2517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
2518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
2520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user error callback */
2525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCallback(hspi);
2527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
2529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx Transfer completed callback.
2538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/cc0VKmst.s 			page 46


2541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx Transfer completed callback.
2554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx and Rx Transfer completed callback.
2570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx Half Transfer completed callback.
2586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
ARM GAS  /tmp/cc0VKmst.s 			page 47


2598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx Half Transfer completed callback.
2602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx and Rx Half Transfer callback.
2618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  SPI error callback.
2634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/cc0VKmst.s 			page 48


2655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   SPI control functions
2672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
2673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
2674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
2675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
2677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]
2678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
2682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
2683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Return the SPI handle state.
2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval SPI state
2690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(const SPI_HandleTypeDef *hspi)
2692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI handle state */
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return hspi->State;
2695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Return the SPI error code.
2699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval SPI error code in bitmap format
2702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** uint32_t HAL_SPI_GetError(const SPI_HandleTypeDef *hspi)
2704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI ErrorCode */
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return hspi->ErrorCode;
2707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
ARM GAS  /tmp/cc0VKmst.s 			page 49


2712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
2718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   Private functions
2719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
2720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI transmit process complete callback.
2724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
2732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable ERR interrupt */
2740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Tx DMA Request */
2743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
2753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
2755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
2763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
ARM GAS  /tmp/cc0VKmst.s 			page 50


2769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Tx complete callback */
2772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxCpltCallback(hspi);
2774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
2776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI receive process complete callback.
2781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
2789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
2791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable ERR interrupt */
2800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* CRC handling */
2804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until RXNE flag */
2807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
2808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Error on the CRC reception */
2810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Read CRC */
2813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
2814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
2815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       UNUSED(tmpreg);
2816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if we are in Master RX 2 line mode */
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
2821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines)
2823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
ARM GAS  /tmp/cc0VKmst.s 			page 51


2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Normal case */
2828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
2835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
2842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
2845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
2846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
2850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
2851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Rx complete callback */
2871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxCpltCallback(hspi);
2873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
2875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
2880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/cc0VKmst.s 			page 52


2883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
2888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable ERR interrupt */
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* CRC handling */
2903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait the CRC data */
2906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
2907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Read CRC to Flush DR and RXNE flag */
2911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
2912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
2913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       UNUSED(tmpreg);
2914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
2924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
2932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
2935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
2936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
ARM GAS  /tmp/cc0VKmst.s 			page 53


2940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
2952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user TxRx complete callback */
2961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxRxCpltCallback(hspi);
2963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
2965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
2970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Tx half complete callback */
2979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxHalfCpltCallback(hspi);
2981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
2983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Rx half complete callback */
ARM GAS  /tmp/cc0VKmst.s 			page 54


2997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxHalfCpltCallback(hspi);
2999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
3001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
3006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user TxRx half complete callback */
3015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxRxHalfCpltCallback(hspi);
3017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
3019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
3024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Stop the disable DMA transfer on SPI side */
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
3034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
3038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
3042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
3047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
3048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
ARM GAS  /tmp/cc0VKmst.s 			page 55


3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
3058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
3062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
3067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
3068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
3070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
3071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
3077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable Tx DMA Request */
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
3083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
3097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmarx->XferAbortCallback != NULL)
3099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check no error during Abort procedure */
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 56


3111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Abort complete callback */
3122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
3131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
3132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
3134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
3135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
3143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
3145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable Rx DMA Request */
3147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
3148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Busy flag */
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
3157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmatx->XferAbortCallback != NULL)
3159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 57


3168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check no error during Abort procedure */
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Abort complete callback */
3182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = *((__IO uint8_t *)&hspi->Instance->DR);
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check end of the reception */
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
3209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE  and ERR interrupt */
3214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
ARM GAS  /tmp/cc0VKmst.s 			page 58


3225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg8);
3241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRxTx_ISR(hspi);
3248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
3254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transmission */
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable TXE interrupt */
3273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable TXE interrupt */
3279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
ARM GAS  /tmp/cc0VKmst.s 			page 59


3282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
3290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
3307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE interrupt */
3312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
3324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
3336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE interrupt */
3338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
ARM GAS  /tmp/cc0VKmst.s 			page 60


3339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
3341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
3346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable TXE interrupt */
3366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable TXE interrupt */
3372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
3375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
3384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
ARM GAS  /tmp/cc0VKmst.s 			page 61


3396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg8);
3399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
3406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
3418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRCNEXT is well reset by hardware */
3423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (READ_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT))
3424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Workaround to force CRCNEXT bit to zero in case of CRCNEXT is not reset automatically by har
3426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
3437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
3447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/cc0VKmst.s 			page 62


3453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
3459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
3469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
3481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRCNEXT is well reset by hardware */
3486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (READ_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT))
3487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Workaround to force CRCNEXT bit to zero in case of CRCNEXT is not reset automatically by har
3489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
3500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
3509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /tmp/cc0VKmst.s 			page 63


3510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
3525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
3534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
3551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle SPI Communication Timeout.
3560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *              the configuration information for SPI module.
3562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Flag SPI flag to check
3563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  State flag state to check
3564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
3565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Tickstart tick start value
3566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /tmp/cc0VKmst.s 			page 64


3567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
3569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
3572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_timeout;
3573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_tickstart;
3574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_timeout   = Timeout - (HAL_GetTick() - Tickstart);
3577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
3578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 32U) >> 20U);
3581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while ((__HAL_SPI_GET_FLAG(hspi, Flag) ? SET : RESET) != State)
3583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
3585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
3587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****            and slave for their respective CRC calculation */
3591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
3594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
3597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
3598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Disable SPI peripheral */
3599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
3600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
3601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
3606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
3607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Process Unlocked */
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
3612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
3614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
3617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         tmp_timeout = 0U;
3619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
3621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 65


3624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
3625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the check of the RX transaction complete.
3629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
3632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Tickstart tick start value
3633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
3634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi,  uint32_t Timeout, uint32_t 
3636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
3639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI peripheral */
3641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
3642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXONLY)
3645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait the RXNE reset */
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout, Tickstart) != HAL_OK)
3648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
3651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Control the BSY flag */
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
3657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
3660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
3663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the check of the RXTX or TX transaction complete.
3667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle
3668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
3669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Tickstart tick start value
3670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
3671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
3673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_TXE, SET, Timeout, Tickstart) != HAL_OK)
3676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
3679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 66


3681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Control the BSY flag */
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
3683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
3686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
3688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
3692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
3697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management */
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
3703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable ERR interrupt */
3705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
3711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
3732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
3735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
3736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
ARM GAS  /tmp/cc0VKmst.s 			page 67


3738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
3741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
3742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (hspi->State == HAL_SPI_STATE_BUSY_RX)
3761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user Rx complete callback */
3764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxCpltCallback(hspi);
3766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
3768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
3771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user TxRx complete callback */
3774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxCpltCallback(hspi);
3776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
3778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
3784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
ARM GAS  /tmp/cc0VKmst.s 			page 68


3795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
3798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
3803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
3822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
3825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
3826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
3830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
3831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user Rx complete callback */
3850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxCpltCallback(hspi);
ARM GAS  /tmp/cc0VKmst.s 			page 69


3852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
3854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
3872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
3877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
3883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
3888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
3896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
3897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 70


3909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call user error callback */
3914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
3916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call user Rx complete callback */
3923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxCpltCallback(hspi);
3925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
3927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle abort a Rx transaction.
3933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
3938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
  27              		.loc 1 3938 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              		.loc 1 3938 1 is_stmt 0 view .LVU1
  33 0000 82B0     		sub	sp, sp, #8
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
3939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  36              		.loc 1 3939 3 is_stmt 1 view .LVU2
  37              		.loc 1 3939 17 is_stmt 0 view .LVU3
  38 0002 0023     		movs	r3, #0
  39 0004 0193     		str	r3, [sp, #4]
3940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
  40              		.loc 1 3940 3 is_stmt 1 view .LVU4
  41              		.loc 1 3940 70 is_stmt 0 view .LVU5
  42 0006 164B     		ldr	r3, .L7
  43 0008 1B68     		ldr	r3, [r3]
  44 000a 164A     		ldr	r2, .L7+4
  45 000c A2FB0323 		umull	r2, r3, r2, r3
  46 0010 5B0A     		lsrs	r3, r3, #9
  47              		.loc 1 3940 45 view .LVU6
  48 0012 6422     		movs	r2, #100
  49 0014 02FB03F3 		mul	r3, r2, r3
  50              		.loc 1 3940 17 view .LVU7
  51 0018 0093     		str	r3, [sp]
ARM GAS  /tmp/cc0VKmst.s 			page 71


  52              	.L4:
3941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
  53              		.loc 1 3943 3 is_stmt 1 view .LVU8
3944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
  54              		.loc 1 3945 5 view .LVU9
  55              		.loc 1 3945 15 is_stmt 0 view .LVU10
  56 001a 009B     		ldr	r3, [sp]
  57              		.loc 1 3945 8 view .LVU11
  58 001c 43B1     		cbz	r3, .L6
3946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
  59              		.loc 1 3950 5 is_stmt 1 view .LVU12
  60              		.loc 1 3950 10 is_stmt 0 view .LVU13
  61 001e 009B     		ldr	r3, [sp]
  62 0020 013B     		subs	r3, r3, #1
  63 0022 0093     		str	r3, [sp]
3951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
  64              		.loc 1 3951 11 is_stmt 1 view .LVU14
  65              		.loc 1 3951 17 is_stmt 0 view .LVU15
  66 0024 0368     		ldr	r3, [r0]
  67              		.loc 1 3951 27 view .LVU16
  68 0026 9B68     		ldr	r3, [r3, #8]
  69              		.loc 1 3951 3 view .LVU17
  70 0028 13F0020F 		tst	r3, #2
  71 002c F5D0     		beq	.L4
  72 002e 03E0     		b	.L3
  73              	.L6:
3947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
  74              		.loc 1 3947 7 is_stmt 1 view .LVU18
  75 0030 436D     		ldr	r3, [r0, #84]
  76 0032 43F04003 		orr	r3, r3, #64
  77 0036 4365     		str	r3, [r0, #84]
3948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
  78              		.loc 1 3948 7 view .LVU19
  79              	.L3:
3952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
  80              		.loc 1 3954 3 view .LVU20
  81 0038 0268     		ldr	r2, [r0]
  82 003a 1368     		ldr	r3, [r2]
  83 003c 23F04003 		bic	r3, r3, #64
  84 0040 1360     		str	r3, [r2]
3955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
  85              		.loc 1 3957 3 view .LVU21
  86 0042 0268     		ldr	r2, [r0]
  87 0044 5368     		ldr	r3, [r2, #4]
  88 0046 23F0E003 		bic	r3, r3, #224
  89 004a 5360     		str	r3, [r2, #4]
ARM GAS  /tmp/cc0VKmst.s 			page 72


3958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Flush Data Register by a blank read */
3960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
  90              		.loc 1 3960 3 view .LVU22
  91              		.loc 1 3960 12 is_stmt 0 view .LVU23
  92 004c 0368     		ldr	r3, [r0]
  93 004e DB68     		ldr	r3, [r3, #12]
  94              		.loc 1 3960 10 view .LVU24
  95 0050 0193     		str	r3, [sp, #4]
3961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
  96              		.loc 1 3962 3 is_stmt 1 view .LVU25
  97 0052 019B     		ldr	r3, [sp, #4]
3963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
  98              		.loc 1 3964 3 view .LVU26
  99              		.loc 1 3964 15 is_stmt 0 view .LVU27
 100 0054 0723     		movs	r3, #7
 101 0056 80F85130 		strb	r3, [r0, #81]
3965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 102              		.loc 1 3965 1 view .LVU28
 103 005a 02B0     		add	sp, sp, #8
 104              	.LCFI1:
 105              		.cfi_def_cfa_offset 0
 106              		@ sp needed
 107 005c 7047     		bx	lr
 108              	.L8:
 109 005e 00BF     		.align	2
 110              	.L7:
 111 0060 00000000 		.word	SystemCoreClock
 112 0064 F1197605 		.word	91625969
 113              		.cfi_endproc
 114              	.LFE118:
 116              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 117              		.align	1
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu softvfp
 123              	SPI_AbortTx_ISR:
 124              	.LVL1:
 125              	.LFB119:
3966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx/Tx transaction.
3969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
3974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 126              		.loc 1 3974 1 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130              		@ link register save eliminated.
3975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE interrupt */
ARM GAS  /tmp/cc0VKmst.s 			page 73


3976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE));
 131              		.loc 1 3976 3 view .LVU30
 132 0000 0268     		ldr	r2, [r0]
 133 0002 5368     		ldr	r3, [r2, #4]
 134 0004 23F08003 		bic	r3, r3, #128
 135 0008 5360     		str	r3, [r2, #4]
3977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 136              		.loc 1 3979 3 view .LVU31
 137 000a 0268     		ldr	r2, [r0]
 138 000c 1368     		ldr	r3, [r2]
 139 000e 23F04003 		bic	r3, r3, #64
 140 0012 1360     		str	r3, [r2]
3980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 141              		.loc 1 3981 3 view .LVU32
 142              		.loc 1 3981 15 is_stmt 0 view .LVU33
 143 0014 0723     		movs	r3, #7
 144 0016 80F85130 		strb	r3, [r0, #81]
3982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 145              		.loc 1 3982 1 view .LVU34
 146 001a 7047     		bx	lr
 147              		.cfi_endproc
 148              	.LFE119:
 150              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 151              		.align	1
 152              		.syntax unified
 153              		.thumb
 154              		.thumb_func
 155              		.fpu softvfp
 157              	SPI_WaitFlagStateUntilTimeout:
 158              	.LVL2:
 159              	.LFB112:
3570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 160              		.loc 1 3570 1 is_stmt 1 view -0
 161              		.cfi_startproc
 162              		@ args = 4, pretend = 0, frame = 8
 163              		@ frame_needed = 0, uses_anonymous_args = 0
3570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 164              		.loc 1 3570 1 is_stmt 0 view .LVU36
 165 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 166              	.LCFI2:
 167              		.cfi_def_cfa_offset 32
 168              		.cfi_offset 4, -32
 169              		.cfi_offset 5, -28
 170              		.cfi_offset 6, -24
 171              		.cfi_offset 7, -20
 172              		.cfi_offset 8, -16
 173              		.cfi_offset 9, -12
 174              		.cfi_offset 10, -8
 175              		.cfi_offset 14, -4
 176 0004 82B0     		sub	sp, sp, #8
 177              	.LCFI3:
 178              		.cfi_def_cfa_offset 40
 179 0006 0546     		mov	r5, r0
 180 0008 8846     		mov	r8, r1
ARM GAS  /tmp/cc0VKmst.s 			page 74


 181 000a 1746     		mov	r7, r2
 182 000c 1E46     		mov	r6, r3
3571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_timeout;
 183              		.loc 1 3571 3 is_stmt 1 view .LVU37
3572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_tickstart;
 184              		.loc 1 3572 3 view .LVU38
3573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 185              		.loc 1 3573 3 view .LVU39
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 186              		.loc 1 3576 3 view .LVU40
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 187              		.loc 1 3576 30 is_stmt 0 view .LVU41
 188 000e FFF7FEFF 		bl	HAL_GetTick
 189              	.LVL3:
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 190              		.loc 1 3576 44 view .LVU42
 191 0012 0A9B     		ldr	r3, [sp, #40]
 192 0014 1B1A     		subs	r3, r3, r0
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 193              		.loc 1 3576 17 view .LVU43
 194 0016 03EB0609 		add	r9, r3, r6
 195              	.LVL4:
3577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 196              		.loc 1 3577 3 is_stmt 1 view .LVU44
3577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 197              		.loc 1 3577 19 is_stmt 0 view .LVU45
 198 001a FFF7FEFF 		bl	HAL_GetTick
 199              	.LVL5:
 200 001e 8246     		mov	r10, r0
 201              	.LVL6:
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 202              		.loc 1 3580 3 is_stmt 1 view .LVU46
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 203              		.loc 1 3580 43 is_stmt 0 view .LVU47
 204 0020 2B4B     		ldr	r3, .L25
 205 0022 1B68     		ldr	r3, [r3]
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 206              		.loc 1 3580 50 view .LVU48
 207 0024 C3F3CB33 		ubfx	r3, r3, #15, #12
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 208              		.loc 1 3580 23 view .LVU49
 209 0028 09FB03F3 		mul	r3, r9, r3
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 210              		.loc 1 3580 9 view .LVU50
 211 002c 0193     		str	r3, [sp, #4]
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 212              		.loc 1 3582 3 is_stmt 1 view .LVU51
 213              	.LVL7:
 214              	.L12:
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 215              		.loc 1 3582 9 view .LVU52
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 216              		.loc 1 3582 11 is_stmt 0 view .LVU53
 217 002e 2B68     		ldr	r3, [r5]
 218 0030 9C68     		ldr	r4, [r3, #8]
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 219              		.loc 1 3582 48 view .LVU54
ARM GAS  /tmp/cc0VKmst.s 			page 75


 220 0032 38EA0403 		bics	r3, r8, r4
 221 0036 0CBF     		ite	eq
 222 0038 4FF0010C 		moveq	ip, #1
 223 003c 4FF0000C 		movne	ip, #0
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 224              		.loc 1 3582 9 view .LVU55
 225 0040 BC45     		cmp	ip, r7
 226 0042 40D0     		beq	.L22
3584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 227              		.loc 1 3584 5 is_stmt 1 view .LVU56
3584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 228              		.loc 1 3584 8 is_stmt 0 view .LVU57
 229 0044 B6F1FF3F 		cmp	r6, #-1
 230 0048 F1D0     		beq	.L12
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 231              		.loc 1 3586 7 is_stmt 1 view .LVU58
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 232              		.loc 1 3586 13 is_stmt 0 view .LVU59
 233 004a FFF7FEFF 		bl	HAL_GetTick
 234              	.LVL8:
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 235              		.loc 1 3586 27 view .LVU60
 236 004e A0EB0A00 		sub	r0, r0, r10
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 237              		.loc 1 3586 10 view .LVU61
 238 0052 4845     		cmp	r0, r9
 239 0054 0AD2     		bcs	.L13
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 240              		.loc 1 3586 60 discriminator 1 view .LVU62
 241 0056 B9F1000F 		cmp	r9, #0
 242 005a 07D0     		beq	.L13
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 243              		.loc 1 3616 7 is_stmt 1 view .LVU63
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 244              		.loc 1 3616 17 is_stmt 0 view .LVU64
 245 005c 019A     		ldr	r2, [sp, #4]
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 246              		.loc 1 3616 10 view .LVU65
 247 005e 02B1     		cbz	r2, .L19
 248 0060 4A46     		mov	r2, r9
 249              	.L19:
 250              	.LVL9:
3620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 251              		.loc 1 3620 7 is_stmt 1 view .LVU66
3620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 252              		.loc 1 3620 12 is_stmt 0 view .LVU67
 253 0062 019B     		ldr	r3, [sp, #4]
 254 0064 013B     		subs	r3, r3, #1
 255 0066 0193     		str	r3, [sp, #4]
 256 0068 9146     		mov	r9, r2
 257 006a E0E7     		b	.L12
 258              	.LVL10:
 259              	.L13:
3593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 260              		.loc 1 3593 9 is_stmt 1 view .LVU68
 261 006c 2A68     		ldr	r2, [r5]
 262 006e 5368     		ldr	r3, [r2, #4]
ARM GAS  /tmp/cc0VKmst.s 			page 76


 263 0070 23F0E003 		bic	r3, r3, #224
 264 0074 5360     		str	r3, [r2, #4]
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 265              		.loc 1 3595 9 view .LVU69
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 266              		.loc 1 3595 24 is_stmt 0 view .LVU70
 267 0076 6B68     		ldr	r3, [r5, #4]
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 268              		.loc 1 3595 12 view .LVU71
 269 0078 B3F5827F 		cmp	r3, #260
 270 007c 0BD0     		beq	.L23
 271              	.L15:
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 272              		.loc 1 3603 9 is_stmt 1 view .LVU72
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 273              		.loc 1 3603 23 is_stmt 0 view .LVU73
 274 007e AB6A     		ldr	r3, [r5, #40]
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 275              		.loc 1 3603 12 view .LVU74
 276 0080 B3F5005F 		cmp	r3, #8192
 277 0084 14D0     		beq	.L24
 278              	.L17:
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 279              		.loc 1 3605 11 is_stmt 1 discriminator 1 view .LVU75
3608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 280              		.loc 1 3608 9 discriminator 1 view .LVU76
3608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 281              		.loc 1 3608 21 is_stmt 0 discriminator 1 view .LVU77
 282 0086 0123     		movs	r3, #1
 283 0088 85F85130 		strb	r3, [r5, #81]
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 284              		.loc 1 3611 9 is_stmt 1 discriminator 1 view .LVU78
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 285              		.loc 1 3611 9 discriminator 1 view .LVU79
 286 008c 0023     		movs	r3, #0
 287 008e 85F85030 		strb	r3, [r5, #80]
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 288              		.loc 1 3611 9 discriminator 1 view .LVU80
3613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 289              		.loc 1 3613 9 discriminator 1 view .LVU81
3613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 290              		.loc 1 3613 16 is_stmt 0 discriminator 1 view .LVU82
 291 0092 0320     		movs	r0, #3
 292 0094 18E0     		b	.L18
 293              	.L23:
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 294              		.loc 1 3595 65 discriminator 1 view .LVU83
 295 0096 AB68     		ldr	r3, [r5, #8]
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 296              		.loc 1 3595 50 discriminator 1 view .LVU84
 297 0098 B3F5004F 		cmp	r3, #32768
 298 009c 02D0     		beq	.L16
3596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 299              		.loc 1 3596 54 view .LVU85
 300 009e B3F5806F 		cmp	r3, #1024
 301 00a2 ECD1     		bne	.L15
 302              	.L16:
ARM GAS  /tmp/cc0VKmst.s 			page 77


3599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 303              		.loc 1 3599 11 is_stmt 1 view .LVU86
 304 00a4 2A68     		ldr	r2, [r5]
 305 00a6 1368     		ldr	r3, [r2]
 306 00a8 23F04003 		bic	r3, r3, #64
 307 00ac 1360     		str	r3, [r2]
 308 00ae E6E7     		b	.L15
 309              	.L24:
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 310              		.loc 1 3605 11 view .LVU87
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 311              		.loc 1 3605 11 view .LVU88
 312 00b0 2A68     		ldr	r2, [r5]
 313 00b2 1368     		ldr	r3, [r2]
 314 00b4 23F40053 		bic	r3, r3, #8192
 315 00b8 1360     		str	r3, [r2]
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 316              		.loc 1 3605 11 view .LVU89
 317 00ba 2A68     		ldr	r2, [r5]
 318 00bc 1368     		ldr	r3, [r2]
 319 00be 43F40053 		orr	r3, r3, #8192
 320 00c2 1360     		str	r3, [r2]
 321 00c4 DFE7     		b	.L17
 322              	.L22:
3624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 323              		.loc 1 3624 10 is_stmt 0 view .LVU90
 324 00c6 0020     		movs	r0, #0
 325              	.L18:
3625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 326              		.loc 1 3625 1 view .LVU91
 327 00c8 02B0     		add	sp, sp, #8
 328              	.LCFI4:
 329              		.cfi_def_cfa_offset 32
 330              		@ sp needed
 331 00ca BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 332              	.LVL11:
 333              	.L26:
3625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 334              		.loc 1 3625 1 view .LVU92
 335 00ce 00BF     		.align	2
 336              	.L25:
 337 00d0 00000000 		.word	SystemCoreClock
 338              		.cfi_endproc
 339              	.LFE112:
 341              		.section	.text.SPI_EndRxTxTransaction,"ax",%progbits
 342              		.align	1
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 346              		.fpu softvfp
 348              	SPI_EndRxTxTransaction:
 349              	.LVL12:
 350              	.LFB114:
3673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
 351              		.loc 1 3673 1 is_stmt 1 view -0
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc0VKmst.s 			page 78


 354              		@ frame_needed = 0, uses_anonymous_args = 0
3673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
 355              		.loc 1 3673 1 is_stmt 0 view .LVU94
 356 0000 70B5     		push	{r4, r5, r6, lr}
 357              	.LCFI5:
 358              		.cfi_def_cfa_offset 16
 359              		.cfi_offset 4, -16
 360              		.cfi_offset 5, -12
 361              		.cfi_offset 6, -8
 362              		.cfi_offset 14, -4
 363 0002 82B0     		sub	sp, sp, #8
 364              	.LCFI6:
 365              		.cfi_def_cfa_offset 24
 366 0004 0646     		mov	r6, r0
 367 0006 0C46     		mov	r4, r1
 368 0008 1546     		mov	r5, r2
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 369              		.loc 1 3675 3 is_stmt 1 view .LVU95
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 370              		.loc 1 3675 7 is_stmt 0 view .LVU96
 371 000a 0092     		str	r2, [sp]
 372 000c 0B46     		mov	r3, r1
 373 000e 0122     		movs	r2, #1
 374              	.LVL13:
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 375              		.loc 1 3675 7 view .LVU97
 376 0010 0221     		movs	r1, #2
 377              	.LVL14:
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 378              		.loc 1 3675 7 view .LVU98
 379 0012 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 380              	.LVL15:
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 381              		.loc 1 3675 6 view .LVU99
 382 0016 48B9     		cbnz	r0, .L31
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 383              		.loc 1 3682 3 is_stmt 1 view .LVU100
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 384              		.loc 1 3682 7 is_stmt 0 view .LVU101
 385 0018 0095     		str	r5, [sp]
 386 001a 2346     		mov	r3, r4
 387 001c 0022     		movs	r2, #0
 388 001e 8021     		movs	r1, #128
 389 0020 3046     		mov	r0, r6
 390 0022 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 391              	.LVL16:
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 392              		.loc 1 3682 6 view .LVU102
 393 0026 38B9     		cbnz	r0, .L32
 394              	.L29:
3688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 395              		.loc 1 3688 1 view .LVU103
 396 0028 02B0     		add	sp, sp, #8
 397              	.LCFI7:
 398              		.cfi_remember_state
 399              		.cfi_def_cfa_offset 16
 400              		@ sp needed
ARM GAS  /tmp/cc0VKmst.s 			page 79


 401 002a 70BD     		pop	{r4, r5, r6, pc}
 402              	.LVL17:
 403              	.L31:
 404              	.LCFI8:
 405              		.cfi_restore_state
3677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 406              		.loc 1 3677 5 is_stmt 1 view .LVU104
 407 002c 736D     		ldr	r3, [r6, #84]
 408 002e 43F02003 		orr	r3, r3, #32
 409 0032 7365     		str	r3, [r6, #84]
3678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 410              		.loc 1 3678 5 view .LVU105
3678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 411              		.loc 1 3678 12 is_stmt 0 view .LVU106
 412 0034 0320     		movs	r0, #3
 413 0036 F7E7     		b	.L29
 414              	.L32:
3684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 415              		.loc 1 3684 5 is_stmt 1 view .LVU107
 416 0038 736D     		ldr	r3, [r6, #84]
 417 003a 43F02003 		orr	r3, r3, #32
 418 003e 7365     		str	r3, [r6, #84]
3685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 419              		.loc 1 3685 5 view .LVU108
3685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 420              		.loc 1 3685 12 is_stmt 0 view .LVU109
 421 0040 0320     		movs	r0, #3
 422 0042 F1E7     		b	.L29
 423              		.cfi_endproc
 424              	.LFE114:
 426              		.section	.text.SPI_EndRxTransaction,"ax",%progbits
 427              		.align	1
 428              		.syntax unified
 429              		.thumb
 430              		.thumb_func
 431              		.fpu softvfp
 433              	SPI_EndRxTransaction:
 434              	.LVL18:
 435              	.LFB113:
3636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 436              		.loc 1 3636 1 is_stmt 1 view -0
 437              		.cfi_startproc
 438              		@ args = 0, pretend = 0, frame = 0
 439              		@ frame_needed = 0, uses_anonymous_args = 0
3636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 440              		.loc 1 3636 1 is_stmt 0 view .LVU111
 441 0000 10B5     		push	{r4, lr}
 442              	.LCFI9:
 443              		.cfi_def_cfa_offset 8
 444              		.cfi_offset 4, -8
 445              		.cfi_offset 14, -4
 446 0002 82B0     		sub	sp, sp, #8
 447              	.LCFI10:
 448              		.cfi_def_cfa_offset 16
 449 0004 0446     		mov	r4, r0
 450 0006 0B46     		mov	r3, r1
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
ARM GAS  /tmp/cc0VKmst.s 			page 80


 451              		.loc 1 3637 3 is_stmt 1 view .LVU112
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 452              		.loc 1 3637 18 is_stmt 0 view .LVU113
 453 0008 4168     		ldr	r1, [r0, #4]
 454              	.LVL19:
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 455              		.loc 1 3637 6 view .LVU114
 456 000a B1F5827F 		cmp	r1, #260
 457 000e 10D0     		beq	.L39
 458              	.LVL20:
 459              	.L34:
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 460              		.loc 1 3644 3 is_stmt 1 view .LVU115
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 461              		.loc 1 3644 18 is_stmt 0 view .LVU116
 462 0010 6168     		ldr	r1, [r4, #4]
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 463              		.loc 1 3644 6 view .LVU117
 464 0012 B1F5827F 		cmp	r1, #260
 465 0016 03D1     		bne	.L36
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 466              		.loc 1 3644 58 discriminator 1 view .LVU118
 467 0018 A168     		ldr	r1, [r4, #8]
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 468              		.loc 1 3644 44 discriminator 1 view .LVU119
 469 001a B1F5806F 		cmp	r1, #1024
 470 001e 15D0     		beq	.L40
 471              	.L36:
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 472              		.loc 1 3656 5 is_stmt 1 view .LVU120
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 473              		.loc 1 3656 9 is_stmt 0 view .LVU121
 474 0020 0092     		str	r2, [sp]
 475 0022 0022     		movs	r2, #0
 476              	.LVL21:
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 477              		.loc 1 3656 9 view .LVU122
 478 0024 8021     		movs	r1, #128
 479 0026 2046     		mov	r0, r4
 480 0028 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 481              	.LVL22:
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 482              		.loc 1 3656 8 view .LVU123
 483 002c E0B9     		cbnz	r0, .L41
 484              	.L37:
3663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 485              		.loc 1 3663 1 view .LVU124
 486 002e 02B0     		add	sp, sp, #8
 487              	.LCFI11:
 488              		.cfi_remember_state
 489              		.cfi_def_cfa_offset 8
 490              		@ sp needed
 491 0030 10BD     		pop	{r4, pc}
 492              	.LVL23:
 493              	.L39:
 494              	.LCFI12:
 495              		.cfi_restore_state
ARM GAS  /tmp/cc0VKmst.s 			page 81


3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 496              		.loc 1 3637 59 discriminator 1 view .LVU125
 497 0032 8168     		ldr	r1, [r0, #8]
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 498              		.loc 1 3637 44 discriminator 1 view .LVU126
 499 0034 B1F5004F 		cmp	r1, #32768
 500 0038 02D0     		beq	.L35
3638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 501              		.loc 1 3638 48 view .LVU127
 502 003a B1F5806F 		cmp	r1, #1024
 503 003e E7D1     		bne	.L34
 504              	.L35:
3641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 505              		.loc 1 3641 5 is_stmt 1 view .LVU128
 506 0040 2068     		ldr	r0, [r4]
 507              	.LVL24:
3641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 508              		.loc 1 3641 5 is_stmt 0 view .LVU129
 509 0042 0168     		ldr	r1, [r0]
 510 0044 21F04001 		bic	r1, r1, #64
 511 0048 0160     		str	r1, [r0]
 512 004a E1E7     		b	.L34
 513              	.L40:
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 514              		.loc 1 3647 5 is_stmt 1 view .LVU130
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 515              		.loc 1 3647 9 is_stmt 0 view .LVU131
 516 004c 0092     		str	r2, [sp]
 517 004e 0022     		movs	r2, #0
 518              	.LVL25:
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 519              		.loc 1 3647 9 view .LVU132
 520 0050 0121     		movs	r1, #1
 521 0052 2046     		mov	r0, r4
 522 0054 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 523              	.LVL26:
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 524              		.loc 1 3647 8 view .LVU133
 525 0058 0028     		cmp	r0, #0
 526 005a E8D0     		beq	.L37
3649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
 527              		.loc 1 3649 7 is_stmt 1 view .LVU134
 528 005c 636D     		ldr	r3, [r4, #84]
 529 005e 43F02003 		orr	r3, r3, #32
 530 0062 6365     		str	r3, [r4, #84]
3650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 531              		.loc 1 3650 7 view .LVU135
3650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 532              		.loc 1 3650 14 is_stmt 0 view .LVU136
 533 0064 0320     		movs	r0, #3
 534 0066 E2E7     		b	.L37
 535              	.L41:
3658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
 536              		.loc 1 3658 7 is_stmt 1 view .LVU137
 537 0068 636D     		ldr	r3, [r4, #84]
 538 006a 43F02003 		orr	r3, r3, #32
 539 006e 6365     		str	r3, [r4, #84]
ARM GAS  /tmp/cc0VKmst.s 			page 82


3659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 540              		.loc 1 3659 7 view .LVU138
3659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 541              		.loc 1 3659 14 is_stmt 0 view .LVU139
 542 0070 0320     		movs	r0, #3
 543 0072 DCE7     		b	.L37
 544              		.cfi_endproc
 545              	.LFE113:
 547              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 548              		.align	1
 549              		.weak	HAL_SPI_MspInit
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 553              		.fpu softvfp
 555              	HAL_SPI_MspInit:
 556              	.LVL27:
 557              	.LFB67:
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 558              		.loc 1 508 1 is_stmt 1 view -0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 0
 561              		@ frame_needed = 0, uses_anonymous_args = 0
 562              		@ link register save eliminated.
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 563              		.loc 1 510 3 view .LVU141
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 564              		.loc 1 515 1 is_stmt 0 view .LVU142
 565 0000 7047     		bx	lr
 566              		.cfi_endproc
 567              	.LFE67:
 569              		.section	.text.HAL_SPI_Init,"ax",%progbits
 570              		.align	1
 571              		.global	HAL_SPI_Init
 572              		.syntax unified
 573              		.thumb
 574              		.thumb_func
 575              		.fpu softvfp
 577              	HAL_SPI_Init:
 578              	.LVL28:
 579              	.LFB65:
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 580              		.loc 1 336 1 is_stmt 1 view -0
 581              		.cfi_startproc
 582              		@ args = 0, pretend = 0, frame = 0
 583              		@ frame_needed = 0, uses_anonymous_args = 0
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 584              		.loc 1 338 3 view .LVU144
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 585              		.loc 1 338 6 is_stmt 0 view .LVU145
 586 0000 0028     		cmp	r0, #0
 587 0002 56D0     		beq	.L48
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 588              		.loc 1 336 1 view .LVU146
 589 0004 10B5     		push	{r4, lr}
 590              	.LCFI13:
 591              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc0VKmst.s 			page 83


 592              		.cfi_offset 4, -8
 593              		.cfi_offset 14, -4
 594 0006 0446     		mov	r4, r0
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 595              		.loc 1 344 3 is_stmt 1 view .LVU147
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 596              		.loc 1 345 3 view .LVU148
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 597              		.loc 1 346 3 view .LVU149
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 598              		.loc 1 347 3 view .LVU150
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 599              		.loc 1 348 3 view .LVU151
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 600              		.loc 1 349 3 view .LVU152
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* TI mode is not supported on this device.
 601              		.loc 1 350 3 view .LVU153
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 602              		.loc 1 353 3 view .LVU154
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 603              		.loc 1 354 3 view .LVU155
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 604              		.loc 1 354 17 is_stmt 0 view .LVU156
 605 0008 436A     		ldr	r3, [r0, #36]
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 606              		.loc 1 354 6 view .LVU157
 607 000a 33B9     		cbnz	r3, .L45
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 608              		.loc 1 356 5 is_stmt 1 view .LVU158
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 609              		.loc 1 357 5 view .LVU159
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 610              		.loc 1 359 5 view .LVU160
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 611              		.loc 1 359 19 is_stmt 0 view .LVU161
 612 000c 4368     		ldr	r3, [r0, #4]
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 613              		.loc 1 359 8 view .LVU162
 614 000e B3F5827F 		cmp	r3, #260
 615 0012 05D0     		beq	.L46
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 616              		.loc 1 366 7 is_stmt 1 view .LVU163
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 617              		.loc 1 366 36 is_stmt 0 view .LVU164
 618 0014 0023     		movs	r3, #0
 619 0016 C361     		str	r3, [r0, #28]
 620 0018 02E0     		b	.L46
 621              	.L45:
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 622              		.loc 1 371 5 is_stmt 1 view .LVU165
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 623              		.loc 1 374 5 view .LVU166
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 624              		.loc 1 374 28 is_stmt 0 view .LVU167
 625 001a 0023     		movs	r3, #0
 626 001c 0361     		str	r3, [r0, #16]
 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 84


 627              		.loc 1 375 5 is_stmt 1 view .LVU168
 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 628              		.loc 1 375 28 is_stmt 0 view .LVU169
 629 001e 4361     		str	r3, [r0, #20]
 630              	.L46:
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 631              		.loc 1 384 3 is_stmt 1 view .LVU170
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 632              		.loc 1 384 29 is_stmt 0 view .LVU171
 633 0020 0023     		movs	r3, #0
 634 0022 A362     		str	r3, [r4, #40]
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 635              		.loc 1 387 3 is_stmt 1 view .LVU172
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 636              		.loc 1 387 11 is_stmt 0 view .LVU173
 637 0024 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 638              		.loc 1 387 6 view .LVU174
 639 0028 002B     		cmp	r3, #0
 640 002a 3CD0     		beq	.L53
 641              	.LVL29:
 642              	.L47:
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 643              		.loc 1 416 3 is_stmt 1 view .LVU175
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 644              		.loc 1 416 15 is_stmt 0 view .LVU176
 645 002c 0223     		movs	r3, #2
 646 002e 84F85130 		strb	r3, [r4, #81]
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 647              		.loc 1 419 3 is_stmt 1 view .LVU177
 648 0032 2268     		ldr	r2, [r4]
 649 0034 1368     		ldr	r3, [r2]
 650 0036 23F04003 		bic	r3, r3, #64
 651 003a 1360     		str	r3, [r2]
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 652              		.loc 1 424 3 view .LVU178
 653 003c 6368     		ldr	r3, [r4, #4]
 654 003e 03F48273 		and	r3, r3, #260
 655 0042 A268     		ldr	r2, [r4, #8]
 656 0044 02F40442 		and	r2, r2, #33792
 657 0048 1343     		orrs	r3, r3, r2
 658 004a E268     		ldr	r2, [r4, #12]
 659 004c 02F40062 		and	r2, r2, #2048
 660 0050 1343     		orrs	r3, r3, r2
 661 0052 2269     		ldr	r2, [r4, #16]
 662 0054 02F00202 		and	r2, r2, #2
 663 0058 1343     		orrs	r3, r3, r2
 664 005a 6269     		ldr	r2, [r4, #20]
 665 005c 02F00102 		and	r2, r2, #1
 666 0060 1343     		orrs	r3, r3, r2
 667 0062 A269     		ldr	r2, [r4, #24]
 668 0064 02F40072 		and	r2, r2, #512
 669 0068 1343     		orrs	r3, r3, r2
 670 006a E269     		ldr	r2, [r4, #28]
 671 006c 02F03802 		and	r2, r2, #56
 672 0070 1343     		orrs	r3, r3, r2
 673 0072 226A     		ldr	r2, [r4, #32]
ARM GAS  /tmp/cc0VKmst.s 			page 85


 674 0074 02F08002 		and	r2, r2, #128
 675 0078 1343     		orrs	r3, r3, r2
 676 007a A26A     		ldr	r2, [r4, #40]
 677 007c 02F40052 		and	r2, r2, #8192
 678 0080 2168     		ldr	r1, [r4]
 679 0082 1343     		orrs	r3, r3, r2
 680 0084 0B60     		str	r3, [r1]
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 681              		.loc 1 435 3 view .LVU179
 682 0086 638B     		ldrh	r3, [r4, #26]
 683 0088 2268     		ldr	r2, [r4]
 684 008a 03F00403 		and	r3, r3, #4
 685 008e 5360     		str	r3, [r2, #4]
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 686              		.loc 1 448 3 view .LVU180
 687 0090 2268     		ldr	r2, [r4]
 688 0092 D369     		ldr	r3, [r2, #28]
 689 0094 23F40063 		bic	r3, r3, #2048
 690 0098 D361     		str	r3, [r2, #28]
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 691              		.loc 1 451 3 view .LVU181
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 692              		.loc 1 451 19 is_stmt 0 view .LVU182
 693 009a 0020     		movs	r0, #0
 694 009c 6065     		str	r0, [r4, #84]
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 695              		.loc 1 452 3 is_stmt 1 view .LVU183
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 696              		.loc 1 452 19 is_stmt 0 view .LVU184
 697 009e 0123     		movs	r3, #1
 698 00a0 84F85130 		strb	r3, [r4, #81]
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 699              		.loc 1 454 3 is_stmt 1 view .LVU185
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 700              		.loc 1 455 1 is_stmt 0 view .LVU186
 701 00a4 10BD     		pop	{r4, pc}
 702              	.LVL30:
 703              	.L53:
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 704              		.loc 1 390 5 is_stmt 1 view .LVU187
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 705              		.loc 1 390 16 is_stmt 0 view .LVU188
 706 00a6 84F85030 		strb	r3, [r4, #80]
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 707              		.loc 1 412 5 is_stmt 1 view .LVU189
 708 00aa 2046     		mov	r0, r4
 709              	.LVL31:
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 710              		.loc 1 412 5 is_stmt 0 view .LVU190
 711 00ac FFF7FEFF 		bl	HAL_SPI_MspInit
 712              	.LVL32:
 713 00b0 BCE7     		b	.L47
 714              	.LVL33:
 715              	.L48:
 716              	.LCFI14:
 717              		.cfi_def_cfa_offset 0
 718              		.cfi_restore 4
ARM GAS  /tmp/cc0VKmst.s 			page 86


 719              		.cfi_restore 14
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 720              		.loc 1 340 12 view .LVU191
 721 00b2 0120     		movs	r0, #1
 722              	.LVL34:
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 723              		.loc 1 455 1 view .LVU192
 724 00b4 7047     		bx	lr
 725              		.cfi_endproc
 726              	.LFE65:
 728              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 729              		.align	1
 730              		.weak	HAL_SPI_MspDeInit
 731              		.syntax unified
 732              		.thumb
 733              		.thumb_func
 734              		.fpu softvfp
 736              	HAL_SPI_MspDeInit:
 737              	.LVL35:
 738              	.LFB68:
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 739              		.loc 1 524 1 is_stmt 1 view -0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 0, uses_anonymous_args = 0
 743              		@ link register save eliminated.
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 744              		.loc 1 526 3 view .LVU194
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 745              		.loc 1 531 1 is_stmt 0 view .LVU195
 746 0000 7047     		bx	lr
 747              		.cfi_endproc
 748              	.LFE68:
 750              		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 751              		.align	1
 752              		.global	HAL_SPI_DeInit
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 756              		.fpu softvfp
 758              	HAL_SPI_DeInit:
 759              	.LVL36:
 760              	.LFB66:
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 761              		.loc 1 464 1 is_stmt 1 view -0
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 0
 764              		@ frame_needed = 0, uses_anonymous_args = 0
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 765              		.loc 1 466 3 view .LVU197
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 766              		.loc 1 466 6 is_stmt 0 view .LVU198
 767 0000 90B1     		cbz	r0, .L57
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 768              		.loc 1 464 1 view .LVU199
 769 0002 10B5     		push	{r4, lr}
 770              	.LCFI15:
ARM GAS  /tmp/cc0VKmst.s 			page 87


 771              		.cfi_def_cfa_offset 8
 772              		.cfi_offset 4, -8
 773              		.cfi_offset 14, -4
 774 0004 0446     		mov	r4, r0
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 775              		.loc 1 472 3 is_stmt 1 view .LVU200
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 776              		.loc 1 474 3 view .LVU201
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 777              		.loc 1 474 15 is_stmt 0 view .LVU202
 778 0006 0223     		movs	r3, #2
 779 0008 80F85130 		strb	r3, [r0, #81]
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 780              		.loc 1 477 3 is_stmt 1 view .LVU203
 781 000c 0268     		ldr	r2, [r0]
 782 000e 1368     		ldr	r3, [r2]
 783 0010 23F04003 		bic	r3, r3, #64
 784 0014 1360     		str	r3, [r2]
 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 785              		.loc 1 489 3 view .LVU204
 786 0016 FFF7FEFF 		bl	HAL_SPI_MspDeInit
 787              	.LVL37:
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 788              		.loc 1 492 3 view .LVU205
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 789              		.loc 1 492 19 is_stmt 0 view .LVU206
 790 001a 0020     		movs	r0, #0
 791 001c 6065     		str	r0, [r4, #84]
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 792              		.loc 1 493 3 is_stmt 1 view .LVU207
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 793              		.loc 1 493 15 is_stmt 0 view .LVU208
 794 001e 84F85100 		strb	r0, [r4, #81]
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 795              		.loc 1 496 3 is_stmt 1 view .LVU209
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 796              		.loc 1 496 3 view .LVU210
 797 0022 84F85000 		strb	r0, [r4, #80]
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 798              		.loc 1 496 3 view .LVU211
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 799              		.loc 1 498 3 view .LVU212
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 800              		.loc 1 499 1 is_stmt 0 view .LVU213
 801 0026 10BD     		pop	{r4, pc}
 802              	.LVL38:
 803              	.L57:
 804              	.LCFI16:
 805              		.cfi_def_cfa_offset 0
 806              		.cfi_restore 4
 807              		.cfi_restore 14
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 808              		.loc 1 468 12 view .LVU214
 809 0028 0120     		movs	r0, #1
 810              	.LVL39:
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 811              		.loc 1 499 1 view .LVU215
ARM GAS  /tmp/cc0VKmst.s 			page 88


 812 002a 7047     		bx	lr
 813              		.cfi_endproc
 814              	.LFE66:
 816              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 817              		.align	1
 818              		.global	HAL_SPI_Transmit
 819              		.syntax unified
 820              		.thumb
 821              		.thumb_func
 822              		.fpu softvfp
 824              	HAL_SPI_Transmit:
 825              	.LVL40:
 826              	.LFB69:
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 827              		.loc 1 796 1 is_stmt 1 view -0
 828              		.cfi_startproc
 829              		@ args = 0, pretend = 0, frame = 8
 830              		@ frame_needed = 0, uses_anonymous_args = 0
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 831              		.loc 1 796 1 is_stmt 0 view .LVU217
 832 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 833              	.LCFI17:
 834              		.cfi_def_cfa_offset 28
 835              		.cfi_offset 4, -28
 836              		.cfi_offset 5, -24
 837              		.cfi_offset 6, -20
 838              		.cfi_offset 7, -16
 839              		.cfi_offset 8, -12
 840              		.cfi_offset 9, -8
 841              		.cfi_offset 14, -4
 842 0004 83B0     		sub	sp, sp, #12
 843              	.LCFI18:
 844              		.cfi_def_cfa_offset 40
 845 0006 0446     		mov	r4, r0
 846 0008 8946     		mov	r9, r1
 847 000a 9046     		mov	r8, r2
 848 000c 1D46     		mov	r5, r3
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 849              		.loc 1 797 3 is_stmt 1 view .LVU218
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 850              		.loc 1 798 3 view .LVU219
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 851              		.loc 1 801 3 view .LVU220
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 852              		.loc 1 804 3 view .LVU221
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 853              		.loc 1 804 15 is_stmt 0 view .LVU222
 854 000e FFF7FEFF 		bl	HAL_GetTick
 855              	.LVL41:
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 856              		.loc 1 805 3 is_stmt 1 view .LVU223
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 857              		.loc 1 807 3 view .LVU224
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 858              		.loc 1 807 11 is_stmt 0 view .LVU225
 859 0012 94F85160 		ldrb	r6, [r4, #81]	@ zero_extendqisi2
 860 0016 F6B2     		uxtb	r6, r6
ARM GAS  /tmp/cc0VKmst.s 			page 89


 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 861              		.loc 1 807 6 view .LVU226
 862 0018 012E     		cmp	r6, #1
 863 001a 40F0CC80 		bne	.L86
 864 001e 0746     		mov	r7, r0
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 865              		.loc 1 812 3 is_stmt 1 view .LVU227
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 866              		.loc 1 812 6 is_stmt 0 view .LVU228
 867 0020 B9F1000F 		cmp	r9, #0
 868 0024 00F0C880 		beq	.L63
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 869              		.loc 1 812 23 discriminator 1 view .LVU229
 870 0028 B8F1000F 		cmp	r8, #0
 871 002c 00F0C480 		beq	.L63
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 872              		.loc 1 818 3 is_stmt 1 view .LVU230
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 873              		.loc 1 818 3 view .LVU231
 874 0030 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 875 0034 012B     		cmp	r3, #1
 876 0036 00F0C380 		beq	.L87
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 877              		.loc 1 818 3 discriminator 2 view .LVU232
 878 003a 0123     		movs	r3, #1
 879 003c 84F85030 		strb	r3, [r4, #80]
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 880              		.loc 1 818 3 discriminator 2 view .LVU233
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 881              		.loc 1 821 3 discriminator 2 view .LVU234
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 882              		.loc 1 821 21 is_stmt 0 discriminator 2 view .LVU235
 883 0040 0323     		movs	r3, #3
 884 0042 84F85130 		strb	r3, [r4, #81]
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 885              		.loc 1 822 3 is_stmt 1 discriminator 2 view .LVU236
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 886              		.loc 1 822 21 is_stmt 0 discriminator 2 view .LVU237
 887 0046 0023     		movs	r3, #0
 888 0048 6365     		str	r3, [r4, #84]
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 889              		.loc 1 823 3 is_stmt 1 discriminator 2 view .LVU238
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 890              		.loc 1 823 21 is_stmt 0 discriminator 2 view .LVU239
 891 004a C4F83090 		str	r9, [r4, #48]
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 892              		.loc 1 824 3 is_stmt 1 discriminator 2 view .LVU240
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 893              		.loc 1 824 21 is_stmt 0 discriminator 2 view .LVU241
 894 004e A4F83480 		strh	r8, [r4, #52]	@ movhi
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 895              		.loc 1 825 3 is_stmt 1 discriminator 2 view .LVU242
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 896              		.loc 1 825 21 is_stmt 0 discriminator 2 view .LVU243
 897 0052 A4F83680 		strh	r8, [r4, #54]	@ movhi
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 898              		.loc 1 828 3 is_stmt 1 discriminator 2 view .LVU244
ARM GAS  /tmp/cc0VKmst.s 			page 90


 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 899              		.loc 1 828 21 is_stmt 0 discriminator 2 view .LVU245
 900 0056 A363     		str	r3, [r4, #56]
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 901              		.loc 1 829 3 is_stmt 1 discriminator 2 view .LVU246
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 902              		.loc 1 829 21 is_stmt 0 discriminator 2 view .LVU247
 903 0058 A387     		strh	r3, [r4, #60]	@ movhi
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 904              		.loc 1 830 3 is_stmt 1 discriminator 2 view .LVU248
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 905              		.loc 1 830 21 is_stmt 0 discriminator 2 view .LVU249
 906 005a E387     		strh	r3, [r4, #62]	@ movhi
 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 907              		.loc 1 831 3 is_stmt 1 discriminator 2 view .LVU250
 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 908              		.loc 1 831 21 is_stmt 0 discriminator 2 view .LVU251
 909 005c 6364     		str	r3, [r4, #68]
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 910              		.loc 1 832 3 is_stmt 1 discriminator 2 view .LVU252
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 911              		.loc 1 832 21 is_stmt 0 discriminator 2 view .LVU253
 912 005e 2364     		str	r3, [r4, #64]
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 913              		.loc 1 835 3 is_stmt 1 discriminator 2 view .LVU254
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 914              		.loc 1 835 17 is_stmt 0 discriminator 2 view .LVU255
 915 0060 A368     		ldr	r3, [r4, #8]
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 916              		.loc 1 835 6 discriminator 2 view .LVU256
 917 0062 B3F5004F 		cmp	r3, #32768
 918 0066 1ED0     		beq	.L90
 919              	.L64:
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 920              		.loc 1 851 3 is_stmt 1 view .LVU257
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 921              		.loc 1 851 12 is_stmt 0 view .LVU258
 922 0068 2368     		ldr	r3, [r4]
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 923              		.loc 1 851 22 view .LVU259
 924 006a 1A68     		ldr	r2, [r3]
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 925              		.loc 1 851 6 view .LVU260
 926 006c 12F0400F 		tst	r2, #64
 927 0070 03D1     		bne	.L65
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 928              		.loc 1 854 5 is_stmt 1 view .LVU261
 929 0072 1A68     		ldr	r2, [r3]
 930 0074 42F04002 		orr	r2, r2, #64
 931 0078 1A60     		str	r2, [r3]
 932              	.L65:
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 933              		.loc 1 858 3 view .LVU262
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 934              		.loc 1 858 17 is_stmt 0 view .LVU263
 935 007a E368     		ldr	r3, [r4, #12]
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 91


 936              		.loc 1 858 6 view .LVU264
 937 007c B3F5006F 		cmp	r3, #2048
 938 0080 1CD0     		beq	.L91
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 939              		.loc 1 891 5 is_stmt 1 view .LVU265
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 940              		.loc 1 891 20 is_stmt 0 view .LVU266
 941 0082 6368     		ldr	r3, [r4, #4]
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 942              		.loc 1 891 8 view .LVU267
 943 0084 13B1     		cbz	r3, .L76
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 944              		.loc 1 891 45 discriminator 1 view .LVU268
 945 0086 B8F1010F 		cmp	r8, #1
 946 008a 5FD1     		bne	.L78
 947              	.L76:
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 948              		.loc 1 893 7 is_stmt 1 view .LVU269
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 949              		.loc 1 893 71 is_stmt 0 view .LVU270
 950 008c 226B     		ldr	r2, [r4, #48]
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 951              		.loc 1 893 30 view .LVU271
 952 008e 2368     		ldr	r3, [r4]
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 953              		.loc 1 893 48 view .LVU272
 954 0090 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 955              		.loc 1 893 46 view .LVU273
 956 0092 1A73     		strb	r2, [r3, #12]
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 957              		.loc 1 894 7 is_stmt 1 view .LVU274
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 958              		.loc 1 894 24 is_stmt 0 view .LVU275
 959 0094 236B     		ldr	r3, [r4, #48]
 960 0096 0133     		adds	r3, r3, #1
 961 0098 2363     		str	r3, [r4, #48]
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 962              		.loc 1 895 7 is_stmt 1 view .LVU276
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 963              		.loc 1 895 11 is_stmt 0 view .LVU277
 964 009a E38E     		ldrh	r3, [r4, #54]
 965 009c 9BB2     		uxth	r3, r3
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 966              		.loc 1 895 24 view .LVU278
 967 009e 013B     		subs	r3, r3, #1
 968 00a0 9BB2     		uxth	r3, r3
 969 00a2 E386     		strh	r3, [r4, #54]	@ movhi
 970 00a4 52E0     		b	.L78
 971              	.L90:
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 972              		.loc 1 838 5 is_stmt 1 view .LVU279
 973 00a6 2268     		ldr	r2, [r4]
 974 00a8 1368     		ldr	r3, [r2]
 975 00aa 23F04003 		bic	r3, r3, #64
 976 00ae 1360     		str	r3, [r2]
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 92


 977              		.loc 1 839 5 view .LVU280
 978 00b0 2268     		ldr	r2, [r4]
 979 00b2 1368     		ldr	r3, [r2]
 980 00b4 43F48043 		orr	r3, r3, #16384
 981 00b8 1360     		str	r3, [r2]
 982 00ba D5E7     		b	.L64
 983              	.L91:
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 984              		.loc 1 860 5 view .LVU281
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 985              		.loc 1 860 20 is_stmt 0 view .LVU282
 986 00bc 6368     		ldr	r3, [r4, #4]
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 987              		.loc 1 860 8 view .LVU283
 988 00be 13B1     		cbz	r3, .L67
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 989              		.loc 1 860 45 discriminator 1 view .LVU284
 990 00c0 B8F1010F 		cmp	r8, #1
 991 00c4 15D1     		bne	.L69
 992              	.L67:
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 993              		.loc 1 862 7 is_stmt 1 view .LVU285
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 994              		.loc 1 862 52 is_stmt 0 view .LVU286
 995 00c6 226B     		ldr	r2, [r4, #48]
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 996              		.loc 1 862 11 view .LVU287
 997 00c8 2368     		ldr	r3, [r4]
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 998              		.loc 1 862 28 view .LVU288
 999 00ca 1288     		ldrh	r2, [r2]
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1000              		.loc 1 862 26 view .LVU289
 1001 00cc DA60     		str	r2, [r3, #12]
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1002              		.loc 1 863 7 is_stmt 1 view .LVU290
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1003              		.loc 1 863 24 is_stmt 0 view .LVU291
 1004 00ce 236B     		ldr	r3, [r4, #48]
 1005 00d0 0233     		adds	r3, r3, #2
 1006 00d2 2363     		str	r3, [r4, #48]
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 1007              		.loc 1 864 7 is_stmt 1 view .LVU292
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 1008              		.loc 1 864 11 is_stmt 0 view .LVU293
 1009 00d4 E38E     		ldrh	r3, [r4, #54]
 1010 00d6 9BB2     		uxth	r3, r3
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 1011              		.loc 1 864 24 view .LVU294
 1012 00d8 013B     		subs	r3, r3, #1
 1013 00da 9BB2     		uxth	r3, r3
 1014 00dc E386     		strh	r3, [r4, #54]	@ movhi
 1015 00de 08E0     		b	.L69
 1016              	.LVL42:
 1017              	.L70:
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1018              		.loc 1 879 9 is_stmt 1 view .LVU295
ARM GAS  /tmp/cc0VKmst.s 			page 93


 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1019              		.loc 1 879 16 is_stmt 0 view .LVU296
 1020 00e0 FFF7FEFF 		bl	HAL_GetTick
 1021              	.LVL43:
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1022              		.loc 1 879 30 view .LVU297
 1023 00e4 C01B     		subs	r0, r0, r7
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1024              		.loc 1 879 12 view .LVU298
 1025 00e6 A842     		cmp	r0, r5
 1026 00e8 02D3     		bcc	.L72
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1027              		.loc 1 879 56 discriminator 1 view .LVU299
 1028 00ea B5F1FF3F 		cmp	r5, #-1
 1029 00ee 15D1     		bne	.L73
 1030              	.L72:
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1031              		.loc 1 879 87 discriminator 3 view .LVU300
 1032 00f0 A5B1     		cbz	r5, .L73
 1033              	.L69:
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1034              		.loc 1 867 11 is_stmt 1 view .LVU301
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1035              		.loc 1 867 16 is_stmt 0 view .LVU302
 1036 00f2 E38E     		ldrh	r3, [r4, #54]
 1037 00f4 9BB2     		uxth	r3, r3
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1038              		.loc 1 867 11 view .LVU303
 1039 00f6 002B     		cmp	r3, #0
 1040 00f8 42D0     		beq	.L75
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1041              		.loc 1 870 7 is_stmt 1 view .LVU304
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1042              		.loc 1 870 11 is_stmt 0 view .LVU305
 1043 00fa 2368     		ldr	r3, [r4]
 1044 00fc 9A68     		ldr	r2, [r3, #8]
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1045              		.loc 1 870 10 view .LVU306
 1046 00fe 12F0020F 		tst	r2, #2
 1047 0102 EDD0     		beq	.L70
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1048              		.loc 1 872 9 is_stmt 1 view .LVU307
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1049              		.loc 1 872 54 is_stmt 0 view .LVU308
 1050 0104 226B     		ldr	r2, [r4, #48]
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1051              		.loc 1 872 30 view .LVU309
 1052 0106 1288     		ldrh	r2, [r2]
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1053              		.loc 1 872 28 view .LVU310
 1054 0108 DA60     		str	r2, [r3, #12]
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1055              		.loc 1 873 9 is_stmt 1 view .LVU311
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1056              		.loc 1 873 26 is_stmt 0 view .LVU312
 1057 010a 236B     		ldr	r3, [r4, #48]
 1058 010c 0233     		adds	r3, r3, #2
ARM GAS  /tmp/cc0VKmst.s 			page 94


 1059 010e 2363     		str	r3, [r4, #48]
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1060              		.loc 1 874 9 is_stmt 1 view .LVU313
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1061              		.loc 1 874 13 is_stmt 0 view .LVU314
 1062 0110 E38E     		ldrh	r3, [r4, #54]
 1063 0112 9BB2     		uxth	r3, r3
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1064              		.loc 1 874 26 view .LVU315
 1065 0114 013B     		subs	r3, r3, #1
 1066 0116 9BB2     		uxth	r3, r3
 1067 0118 E386     		strh	r3, [r4, #54]	@ movhi
 1068 011a EAE7     		b	.L69
 1069              	.L73:
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1070              		.loc 1 881 11 is_stmt 1 view .LVU316
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1071              		.loc 1 881 23 is_stmt 0 view .LVU317
 1072 011c 0123     		movs	r3, #1
 1073 011e 84F85130 		strb	r3, [r4, #81]
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1074              		.loc 1 882 11 is_stmt 1 view .LVU318
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1075              		.loc 1 882 11 view .LVU319
 1076 0122 0023     		movs	r3, #0
 1077 0124 84F85030 		strb	r3, [r4, #80]
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1078              		.loc 1 882 11 view .LVU320
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1079              		.loc 1 883 11 view .LVU321
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1080              		.loc 1 883 18 is_stmt 0 view .LVU322
 1081 0128 0326     		movs	r6, #3
 1082 012a 45E0     		b	.L63
 1083              	.L92:
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1084              		.loc 1 902 9 is_stmt 1 view .LVU323
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1085              		.loc 1 902 73 is_stmt 0 view .LVU324
 1086 012c 226B     		ldr	r2, [r4, #48]
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1087              		.loc 1 902 50 view .LVU325
 1088 012e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1089              		.loc 1 902 48 view .LVU326
 1090 0130 1A73     		strb	r2, [r3, #12]
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1091              		.loc 1 903 9 is_stmt 1 view .LVU327
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1092              		.loc 1 903 26 is_stmt 0 view .LVU328
 1093 0132 236B     		ldr	r3, [r4, #48]
 1094 0134 0133     		adds	r3, r3, #1
 1095 0136 2363     		str	r3, [r4, #48]
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1096              		.loc 1 904 9 is_stmt 1 view .LVU329
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1097              		.loc 1 904 13 is_stmt 0 view .LVU330
ARM GAS  /tmp/cc0VKmst.s 			page 95


 1098 0138 B4F836C0 		ldrh	ip, [r4, #54]
 1099 013c 1FFA8CFC 		uxth	ip, ip
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1100              		.loc 1 904 26 view .LVU331
 1101 0140 0CF1FF3C 		add	ip, ip, #-1
 1102 0144 1FFA8CFC 		uxth	ip, ip
 1103 0148 A4F836C0 		strh	ip, [r4, #54]	@ movhi
 1104              	.L78:
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1105              		.loc 1 897 11 is_stmt 1 view .LVU332
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1106              		.loc 1 897 16 is_stmt 0 view .LVU333
 1107 014c E38E     		ldrh	r3, [r4, #54]
 1108 014e 9BB2     		uxth	r3, r3
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1109              		.loc 1 897 11 view .LVU334
 1110 0150 B3B1     		cbz	r3, .L75
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1111              		.loc 1 900 7 is_stmt 1 view .LVU335
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1112              		.loc 1 900 11 is_stmt 0 view .LVU336
 1113 0152 2368     		ldr	r3, [r4]
 1114 0154 9A68     		ldr	r2, [r3, #8]
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1115              		.loc 1 900 10 view .LVU337
 1116 0156 12F0020F 		tst	r2, #2
 1117 015a E7D1     		bne	.L92
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1118              		.loc 1 909 9 is_stmt 1 view .LVU338
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1119              		.loc 1 909 16 is_stmt 0 view .LVU339
 1120 015c FFF7FEFF 		bl	HAL_GetTick
 1121              	.LVL44:
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1122              		.loc 1 909 30 view .LVU340
 1123 0160 C01B     		subs	r0, r0, r7
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1124              		.loc 1 909 12 view .LVU341
 1125 0162 A842     		cmp	r0, r5
 1126 0164 02D3     		bcc	.L81
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1127              		.loc 1 909 56 discriminator 1 view .LVU342
 1128 0166 B5F1FF3F 		cmp	r5, #-1
 1129 016a 01D1     		bne	.L82
 1130              	.L81:
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1131              		.loc 1 909 87 discriminator 3 view .LVU343
 1132 016c 002D     		cmp	r5, #0
 1133 016e EDD1     		bne	.L78
 1134              	.L82:
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1135              		.loc 1 911 11 is_stmt 1 view .LVU344
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1136              		.loc 1 911 23 is_stmt 0 view .LVU345
 1137 0170 0123     		movs	r3, #1
 1138 0172 84F85130 		strb	r3, [r4, #81]
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
ARM GAS  /tmp/cc0VKmst.s 			page 96


 1139              		.loc 1 912 11 is_stmt 1 view .LVU346
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1140              		.loc 1 912 11 view .LVU347
 1141 0176 0023     		movs	r3, #0
 1142 0178 84F85030 		strb	r3, [r4, #80]
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1143              		.loc 1 912 11 view .LVU348
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1144              		.loc 1 913 11 view .LVU349
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1145              		.loc 1 913 18 is_stmt 0 view .LVU350
 1146 017c 0326     		movs	r6, #3
 1147 017e 1BE0     		b	.L63
 1148              	.L75:
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1149              		.loc 1 927 3 is_stmt 1 view .LVU351
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1150              		.loc 1 927 7 is_stmt 0 view .LVU352
 1151 0180 3A46     		mov	r2, r7
 1152 0182 2946     		mov	r1, r5
 1153 0184 2046     		mov	r0, r4
 1154 0186 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 1155              	.LVL45:
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1156              		.loc 1 927 6 view .LVU353
 1157 018a 08B1     		cbz	r0, .L84
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1158              		.loc 1 929 5 is_stmt 1 view .LVU354
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1159              		.loc 1 929 21 is_stmt 0 view .LVU355
 1160 018c 2023     		movs	r3, #32
 1161 018e 6365     		str	r3, [r4, #84]
 1162              	.L84:
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1163              		.loc 1 933 3 is_stmt 1 view .LVU356
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1164              		.loc 1 933 17 is_stmt 0 view .LVU357
 1165 0190 A368     		ldr	r3, [r4, #8]
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1166              		.loc 1 933 6 view .LVU358
 1167 0192 33B9     		cbnz	r3, .L85
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1168              		.loc 1 935 5 is_stmt 1 view .LVU359
 1169              	.LBB2:
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1170              		.loc 1 935 5 view .LVU360
 1171 0194 0193     		str	r3, [sp, #4]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1172              		.loc 1 935 5 view .LVU361
 1173 0196 2368     		ldr	r3, [r4]
 1174 0198 DA68     		ldr	r2, [r3, #12]
 1175 019a 0192     		str	r2, [sp, #4]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1176              		.loc 1 935 5 view .LVU362
 1177 019c 9B68     		ldr	r3, [r3, #8]
 1178 019e 0193     		str	r3, [sp, #4]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 97


 1179              		.loc 1 935 5 view .LVU363
 1180 01a0 019B     		ldr	r3, [sp, #4]
 1181              	.L85:
 1182              	.LBE2:
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1183              		.loc 1 935 5 discriminator 1 view .LVU364
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 1184              		.loc 1 938 3 discriminator 1 view .LVU365
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 1185              		.loc 1 938 15 is_stmt 0 discriminator 1 view .LVU366
 1186 01a2 0123     		movs	r3, #1
 1187 01a4 84F85130 		strb	r3, [r4, #81]
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1188              		.loc 1 940 3 is_stmt 1 discriminator 1 view .LVU367
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1189              		.loc 1 940 3 discriminator 1 view .LVU368
 1190 01a8 0023     		movs	r3, #0
 1191 01aa 84F85030 		strb	r3, [r4, #80]
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1192              		.loc 1 940 3 discriminator 1 view .LVU369
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1193              		.loc 1 942 3 discriminator 1 view .LVU370
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1194              		.loc 1 942 11 is_stmt 0 discriminator 1 view .LVU371
 1195 01ae 636D     		ldr	r3, [r4, #84]
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1196              		.loc 1 942 6 discriminator 1 view .LVU372
 1197 01b0 13B9     		cbnz	r3, .L63
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1198              		.loc 1 948 12 view .LVU373
 1199 01b2 0026     		movs	r6, #0
 1200 01b4 00E0     		b	.L63
 1201              	.LVL46:
 1202              	.L86:
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1203              		.loc 1 809 12 view .LVU374
 1204 01b6 0226     		movs	r6, #2
 1205              	.LVL47:
 1206              	.L63:
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1207              		.loc 1 950 1 view .LVU375
 1208 01b8 3046     		mov	r0, r6
 1209 01ba 03B0     		add	sp, sp, #12
 1210              	.LCFI19:
 1211              		.cfi_remember_state
 1212              		.cfi_def_cfa_offset 28
 1213              		@ sp needed
 1214 01bc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1215              	.LVL48:
 1216              	.L87:
 1217              	.LCFI20:
 1218              		.cfi_restore_state
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1219              		.loc 1 818 3 view .LVU376
 1220 01c0 0226     		movs	r6, #2
 1221 01c2 F9E7     		b	.L63
 1222              		.cfi_endproc
ARM GAS  /tmp/cc0VKmst.s 			page 98


 1223              	.LFE69:
 1225              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 1226              		.align	1
 1227              		.global	HAL_SPI_TransmitReceive
 1228              		.syntax unified
 1229              		.thumb
 1230              		.thumb_func
 1231              		.fpu softvfp
 1233              	HAL_SPI_TransmitReceive:
 1234              	.LVL49:
 1235              	.LFB71:
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
 1236              		.loc 1 1179 1 is_stmt 1 view -0
 1237              		.cfi_startproc
 1238              		@ args = 4, pretend = 0, frame = 8
 1239              		@ frame_needed = 0, uses_anonymous_args = 0
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
 1240              		.loc 1 1179 1 is_stmt 0 view .LVU378
 1241 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1242              	.LCFI21:
 1243              		.cfi_def_cfa_offset 28
 1244              		.cfi_offset 4, -28
 1245              		.cfi_offset 5, -24
 1246              		.cfi_offset 6, -20
 1247              		.cfi_offset 7, -16
 1248              		.cfi_offset 8, -12
 1249              		.cfi_offset 9, -8
 1250              		.cfi_offset 14, -4
 1251 0004 83B0     		sub	sp, sp, #12
 1252              	.LCFI22:
 1253              		.cfi_def_cfa_offset 40
 1254 0006 0446     		mov	r4, r0
 1255 0008 8846     		mov	r8, r1
 1256 000a 9146     		mov	r9, r2
 1257 000c 1F46     		mov	r7, r3
 1258 000e 0A9D     		ldr	r5, [sp, #40]
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 1259              		.loc 1 1180 3 is_stmt 1 view .LVU379
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 1260              		.loc 1 1181 3 view .LVU380
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tickstart;
 1261              		.loc 1 1182 3 view .LVU381
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1262              		.loc 1 1183 3 view .LVU382
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1263              		.loc 1 1189 3 view .LVU383
 1264              	.LVL50:
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1265              		.loc 1 1192 3 view .LVU384
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1266              		.loc 1 1195 3 view .LVU385
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1267              		.loc 1 1195 15 is_stmt 0 view .LVU386
 1268 0010 FFF7FEFF 		bl	HAL_GetTick
 1269              	.LVL51:
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1270              		.loc 1 1195 15 view .LVU387
ARM GAS  /tmp/cc0VKmst.s 			page 99


 1271 0014 0646     		mov	r6, r0
 1272              	.LVL52:
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1273              		.loc 1 1198 3 is_stmt 1 view .LVU388
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1274              		.loc 1 1198 23 is_stmt 0 view .LVU389
 1275 0016 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 1276 001a DBB2     		uxtb	r3, r3
 1277              	.LVL53:
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 1278              		.loc 1 1199 3 is_stmt 1 view .LVU390
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 1279              		.loc 1 1199 23 is_stmt 0 view .LVU391
 1280 001c 6268     		ldr	r2, [r4, #4]
 1281              	.LVL54:
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1282              		.loc 1 1200 3 is_stmt 1 view .LVU392
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1283              		.loc 1 1202 3 view .LVU393
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1284              		.loc 1 1202 6 is_stmt 0 view .LVU394
 1285 001e 012B     		cmp	r3, #1
 1286 0020 0AD0     		beq	.L94
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1287              		.loc 1 1202 7 discriminator 1 view .LVU395
 1288 0022 B2F5827F 		cmp	r2, #260
 1289 0026 40F00581 		bne	.L116
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 1290              		.loc 1 1203 54 view .LVU396
 1291 002a A268     		ldr	r2, [r4, #8]
 1292              	.LVL55:
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 1293              		.loc 1 1203 40 view .LVU397
 1294 002c 002A     		cmp	r2, #0
 1295 002e 40F00581 		bne	.L117
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 1296              		.loc 1 1203 90 discriminator 1 view .LVU398
 1297 0032 042B     		cmp	r3, #4
 1298 0034 40F00481 		bne	.L118
 1299              	.L94:
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1300              		.loc 1 1209 3 is_stmt 1 view .LVU399
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1301              		.loc 1 1209 6 is_stmt 0 view .LVU400
 1302 0038 B8F1000F 		cmp	r8, #0
 1303 003c 00F00281 		beq	.L119
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1304              		.loc 1 1209 25 discriminator 1 view .LVU401
 1305 0040 B9F1000F 		cmp	r9, #0
 1306 0044 00F00081 		beq	.L120
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1307              		.loc 1 1209 46 discriminator 2 view .LVU402
 1308 0048 002F     		cmp	r7, #0
 1309 004a 00F0FF80 		beq	.L121
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1310              		.loc 1 1215 3 is_stmt 1 view .LVU403
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 100


 1311              		.loc 1 1215 3 view .LVU404
 1312 004e 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 1313              	.LVL56:
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1314              		.loc 1 1215 3 is_stmt 0 view .LVU405
 1315 0052 012B     		cmp	r3, #1
 1316 0054 00F0FC80 		beq	.L122
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1317              		.loc 1 1215 3 is_stmt 1 discriminator 2 view .LVU406
 1318 0058 0123     		movs	r3, #1
 1319 005a 84F85030 		strb	r3, [r4, #80]
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1320              		.loc 1 1215 3 discriminator 2 view .LVU407
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1321              		.loc 1 1218 3 discriminator 2 view .LVU408
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1322              		.loc 1 1218 11 is_stmt 0 discriminator 2 view .LVU409
 1323 005e 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 1324 0062 DBB2     		uxtb	r3, r3
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1325              		.loc 1 1218 6 discriminator 2 view .LVU410
 1326 0064 042B     		cmp	r3, #4
 1327 0066 02D0     		beq	.L96
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1328              		.loc 1 1220 5 is_stmt 1 view .LVU411
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1329              		.loc 1 1220 17 is_stmt 0 view .LVU412
 1330 0068 0523     		movs	r3, #5
 1331 006a 84F85130 		strb	r3, [r4, #81]
 1332              	.L96:
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1333              		.loc 1 1224 3 is_stmt 1 view .LVU413
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1334              		.loc 1 1224 21 is_stmt 0 view .LVU414
 1335 006e 0023     		movs	r3, #0
 1336 0070 6365     		str	r3, [r4, #84]
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1337              		.loc 1 1225 3 is_stmt 1 view .LVU415
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1338              		.loc 1 1225 21 is_stmt 0 view .LVU416
 1339 0072 C4F83890 		str	r9, [r4, #56]
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1340              		.loc 1 1226 3 is_stmt 1 view .LVU417
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1341              		.loc 1 1226 21 is_stmt 0 view .LVU418
 1342 0076 E787     		strh	r7, [r4, #62]	@ movhi
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 1343              		.loc 1 1227 3 is_stmt 1 view .LVU419
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 1344              		.loc 1 1227 21 is_stmt 0 view .LVU420
 1345 0078 A787     		strh	r7, [r4, #60]	@ movhi
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1346              		.loc 1 1228 3 is_stmt 1 view .LVU421
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1347              		.loc 1 1228 21 is_stmt 0 view .LVU422
 1348 007a C4F83080 		str	r8, [r4, #48]
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
ARM GAS  /tmp/cc0VKmst.s 			page 101


 1349              		.loc 1 1229 3 is_stmt 1 view .LVU423
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1350              		.loc 1 1229 21 is_stmt 0 view .LVU424
 1351 007e E786     		strh	r7, [r4, #54]	@ movhi
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1352              		.loc 1 1230 3 is_stmt 1 view .LVU425
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1353              		.loc 1 1230 21 is_stmt 0 view .LVU426
 1354 0080 A786     		strh	r7, [r4, #52]	@ movhi
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1355              		.loc 1 1233 3 is_stmt 1 view .LVU427
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1356              		.loc 1 1233 21 is_stmt 0 view .LVU428
 1357 0082 2364     		str	r3, [r4, #64]
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1358              		.loc 1 1234 3 is_stmt 1 view .LVU429
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1359              		.loc 1 1234 21 is_stmt 0 view .LVU430
 1360 0084 6364     		str	r3, [r4, #68]
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1361              		.loc 1 1245 3 is_stmt 1 view .LVU431
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1362              		.loc 1 1245 12 is_stmt 0 view .LVU432
 1363 0086 2368     		ldr	r3, [r4]
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1364              		.loc 1 1245 22 view .LVU433
 1365 0088 1A68     		ldr	r2, [r3]
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1366              		.loc 1 1245 6 view .LVU434
 1367 008a 12F0400F 		tst	r2, #64
 1368 008e 03D1     		bne	.L97
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1369              		.loc 1 1248 5 is_stmt 1 view .LVU435
 1370 0090 1A68     		ldr	r2, [r3]
 1371 0092 42F04002 		orr	r2, r2, #64
 1372 0096 1A60     		str	r2, [r3]
 1373              	.LVL57:
 1374              	.L97:
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1375              		.loc 1 1252 3 view .LVU436
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1376              		.loc 1 1252 17 is_stmt 0 view .LVU437
 1377 0098 E368     		ldr	r3, [r4, #12]
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1378              		.loc 1 1252 6 view .LVU438
 1379 009a B3F5006F 		cmp	r3, #2048
 1380 009e 11D0     		beq	.L124
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1381              		.loc 1 1309 5 is_stmt 1 view .LVU439
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1382              		.loc 1 1309 20 is_stmt 0 view .LVU440
 1383 00a0 6368     		ldr	r3, [r4, #4]
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1384              		.loc 1 1309 8 view .LVU441
 1385 00a2 0BB1     		cbz	r3, .L106
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1386              		.loc 1 1309 45 discriminator 1 view .LVU442
ARM GAS  /tmp/cc0VKmst.s 			page 102


 1387 00a4 012F     		cmp	r7, #1
 1388 00a6 0BD1     		bne	.L107
 1389              	.L106:
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1390              		.loc 1 1311 7 is_stmt 1 view .LVU443
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1391              		.loc 1 1311 71 is_stmt 0 view .LVU444
 1392 00a8 226B     		ldr	r2, [r4, #48]
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1393              		.loc 1 1311 30 view .LVU445
 1394 00aa 2368     		ldr	r3, [r4]
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1395              		.loc 1 1311 48 view .LVU446
 1396 00ac 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1397              		.loc 1 1311 46 view .LVU447
 1398 00ae 1A73     		strb	r2, [r3, #12]
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1399              		.loc 1 1312 7 is_stmt 1 view .LVU448
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1400              		.loc 1 1312 24 is_stmt 0 view .LVU449
 1401 00b0 236B     		ldr	r3, [r4, #48]
 1402 00b2 0133     		adds	r3, r3, #1
 1403 00b4 2363     		str	r3, [r4, #48]
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1404              		.loc 1 1313 7 is_stmt 1 view .LVU450
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1405              		.loc 1 1313 11 is_stmt 0 view .LVU451
 1406 00b6 E38E     		ldrh	r3, [r4, #54]
 1407 00b8 9BB2     		uxth	r3, r3
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1408              		.loc 1 1313 24 view .LVU452
 1409 00ba 013B     		subs	r3, r3, #1
 1410 00bc 9BB2     		uxth	r3, r3
 1411 00be E386     		strh	r3, [r4, #54]	@ movhi
 1412              	.L107:
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1413              		.loc 1 1350 19 view .LVU453
 1414 00c0 0127     		movs	r7, #1
 1415              	.LVL58:
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1416              		.loc 1 1350 19 view .LVU454
 1417 00c2 71E0     		b	.L112
 1418              	.LVL59:
 1419              	.L124:
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1420              		.loc 1 1254 5 is_stmt 1 view .LVU455
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1421              		.loc 1 1254 20 is_stmt 0 view .LVU456
 1422 00c4 6368     		ldr	r3, [r4, #4]
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1423              		.loc 1 1254 8 view .LVU457
 1424 00c6 0BB1     		cbz	r3, .L99
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1425              		.loc 1 1254 45 discriminator 1 view .LVU458
 1426 00c8 012F     		cmp	r7, #1
 1427 00ca 0BD1     		bne	.L100
ARM GAS  /tmp/cc0VKmst.s 			page 103


 1428              	.L99:
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1429              		.loc 1 1256 7 is_stmt 1 view .LVU459
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1430              		.loc 1 1256 52 is_stmt 0 view .LVU460
 1431 00cc 226B     		ldr	r2, [r4, #48]
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1432              		.loc 1 1256 11 view .LVU461
 1433 00ce 2368     		ldr	r3, [r4]
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1434              		.loc 1 1256 28 view .LVU462
 1435 00d0 1288     		ldrh	r2, [r2]
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1436              		.loc 1 1256 26 view .LVU463
 1437 00d2 DA60     		str	r2, [r3, #12]
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1438              		.loc 1 1257 7 is_stmt 1 view .LVU464
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1439              		.loc 1 1257 24 is_stmt 0 view .LVU465
 1440 00d4 236B     		ldr	r3, [r4, #48]
 1441 00d6 0233     		adds	r3, r3, #2
 1442 00d8 2363     		str	r3, [r4, #48]
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1443              		.loc 1 1258 7 is_stmt 1 view .LVU466
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1444              		.loc 1 1258 11 is_stmt 0 view .LVU467
 1445 00da E38E     		ldrh	r3, [r4, #54]
 1446 00dc 9BB2     		uxth	r3, r3
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1447              		.loc 1 1258 24 view .LVU468
 1448 00de 013B     		subs	r3, r3, #1
 1449 00e0 9BB2     		uxth	r3, r3
 1450 00e2 E386     		strh	r3, [r4, #54]	@ movhi
 1451              	.L100:
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1452              		.loc 1 1296 19 view .LVU469
 1453 00e4 0127     		movs	r7, #1
 1454              	.LVL60:
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1455              		.loc 1 1296 19 view .LVU470
 1456 00e6 1BE0     		b	.L101
 1457              	.LVL61:
 1458              	.L102:
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1459              		.loc 1 1290 7 is_stmt 1 view .LVU471
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1460              		.loc 1 1290 12 is_stmt 0 view .LVU472
 1461 00e8 2368     		ldr	r3, [r4]
 1462 00ea 9A68     		ldr	r2, [r3, #8]
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1463              		.loc 1 1290 10 view .LVU473
 1464 00ec 12F0010F 		tst	r2, #1
 1465 00f0 0ED0     		beq	.L103
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1466              		.loc 1 1290 61 discriminator 1 view .LVU474
 1467 00f2 E28F     		ldrh	r2, [r4, #62]
 1468 00f4 92B2     		uxth	r2, r2
ARM GAS  /tmp/cc0VKmst.s 			page 104


1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1469              		.loc 1 1290 53 discriminator 1 view .LVU475
 1470 00f6 5AB1     		cbz	r2, .L103
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1471              		.loc 1 1292 9 is_stmt 1 view .LVU476
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1472              		.loc 1 1292 67 is_stmt 0 view .LVU477
 1473 00f8 DA68     		ldr	r2, [r3, #12]
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1474              		.loc 1 1292 27 view .LVU478
 1475 00fa A36B     		ldr	r3, [r4, #56]
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1476              		.loc 1 1292 41 view .LVU479
 1477 00fc 1A80     		strh	r2, [r3]	@ movhi
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1478              		.loc 1 1293 9 is_stmt 1 view .LVU480
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1479              		.loc 1 1293 26 is_stmt 0 view .LVU481
 1480 00fe A36B     		ldr	r3, [r4, #56]
 1481 0100 0233     		adds	r3, r3, #2
 1482 0102 A363     		str	r3, [r4, #56]
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1483              		.loc 1 1294 9 is_stmt 1 view .LVU482
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1484              		.loc 1 1294 13 is_stmt 0 view .LVU483
 1485 0104 E38F     		ldrh	r3, [r4, #62]
 1486 0106 9BB2     		uxth	r3, r3
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1487              		.loc 1 1294 26 view .LVU484
 1488 0108 013B     		subs	r3, r3, #1
 1489 010a 9BB2     		uxth	r3, r3
 1490 010c E387     		strh	r3, [r4, #62]	@ movhi
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1491              		.loc 1 1296 9 is_stmt 1 view .LVU485
 1492              	.LVL62:
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1493              		.loc 1 1296 19 is_stmt 0 view .LVU486
 1494 010e 0127     		movs	r7, #1
 1495              	.LVL63:
 1496              	.L103:
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1497              		.loc 1 1298 7 is_stmt 1 view .LVU487
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1498              		.loc 1 1298 13 is_stmt 0 view .LVU488
 1499 0110 FFF7FEFF 		bl	HAL_GetTick
 1500              	.LVL64:
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1501              		.loc 1 1298 27 view .LVU489
 1502 0114 801B     		subs	r0, r0, r6
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1503              		.loc 1 1298 10 view .LVU490
 1504 0116 A842     		cmp	r0, r5
 1505 0118 02D3     		bcc	.L101
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1506              		.loc 1 1298 53 discriminator 1 view .LVU491
 1507 011a B5F1FF3F 		cmp	r5, #-1
 1508 011e 1ED1     		bne	.L125
ARM GAS  /tmp/cc0VKmst.s 			page 105


 1509              	.LVL65:
 1510              	.L101:
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1511              		.loc 1 1269 11 is_stmt 1 view .LVU492
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1512              		.loc 1 1269 17 is_stmt 0 view .LVU493
 1513 0120 E38E     		ldrh	r3, [r4, #54]
 1514 0122 9BB2     		uxth	r3, r3
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1515              		.loc 1 1269 11 view .LVU494
 1516 0124 1BB9     		cbnz	r3, .L104
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1517              		.loc 1 1269 45 discriminator 1 view .LVU495
 1518 0126 E38F     		ldrh	r3, [r4, #62]
 1519 0128 9BB2     		uxth	r3, r3
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1520              		.loc 1 1269 37 discriminator 1 view .LVU496
 1521 012a 002B     		cmp	r3, #0
 1522 012c 62D0     		beq	.L105
 1523              	.L104:
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1524              		.loc 1 1272 7 is_stmt 1 view .LVU497
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1525              		.loc 1 1272 12 is_stmt 0 view .LVU498
 1526 012e 2368     		ldr	r3, [r4]
 1527 0130 9A68     		ldr	r2, [r3, #8]
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1528              		.loc 1 1272 10 view .LVU499
 1529 0132 12F0020F 		tst	r2, #2
 1530 0136 D7D0     		beq	.L102
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1531              		.loc 1 1272 60 discriminator 1 view .LVU500
 1532 0138 E28E     		ldrh	r2, [r4, #54]
 1533 013a 92B2     		uxth	r2, r2
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1534              		.loc 1 1272 52 discriminator 1 view .LVU501
 1535 013c 002A     		cmp	r2, #0
 1536 013e D3D0     		beq	.L102
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1537              		.loc 1 1272 80 discriminator 2 view .LVU502
 1538 0140 002F     		cmp	r7, #0
 1539 0142 D1D0     		beq	.L102
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1540              		.loc 1 1274 9 is_stmt 1 view .LVU503
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1541              		.loc 1 1274 54 is_stmt 0 view .LVU504
 1542 0144 226B     		ldr	r2, [r4, #48]
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1543              		.loc 1 1274 30 view .LVU505
 1544 0146 1288     		ldrh	r2, [r2]
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1545              		.loc 1 1274 28 view .LVU506
 1546 0148 DA60     		str	r2, [r3, #12]
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1547              		.loc 1 1275 9 is_stmt 1 view .LVU507
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1548              		.loc 1 1275 26 is_stmt 0 view .LVU508
ARM GAS  /tmp/cc0VKmst.s 			page 106


 1549 014a 236B     		ldr	r3, [r4, #48]
 1550 014c 0233     		adds	r3, r3, #2
 1551 014e 2363     		str	r3, [r4, #48]
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1552              		.loc 1 1276 9 is_stmt 1 view .LVU509
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1553              		.loc 1 1276 13 is_stmt 0 view .LVU510
 1554 0150 E38E     		ldrh	r3, [r4, #54]
 1555 0152 9BB2     		uxth	r3, r3
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1556              		.loc 1 1276 26 view .LVU511
 1557 0154 013B     		subs	r3, r3, #1
 1558 0156 9BB2     		uxth	r3, r3
 1559 0158 E386     		strh	r3, [r4, #54]	@ movhi
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1560              		.loc 1 1278 9 is_stmt 1 view .LVU512
 1561              	.LVL66:
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1562              		.loc 1 1278 19 is_stmt 0 view .LVU513
 1563 015a 0027     		movs	r7, #0
 1564 015c C4E7     		b	.L102
 1565              	.LVL67:
 1566              	.L125:
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1567              		.loc 1 1300 9 is_stmt 1 view .LVU514
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1568              		.loc 1 1300 21 is_stmt 0 view .LVU515
 1569 015e 0123     		movs	r3, #1
 1570 0160 84F85130 		strb	r3, [r4, #81]
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1571              		.loc 1 1301 9 is_stmt 1 view .LVU516
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1572              		.loc 1 1301 9 view .LVU517
 1573 0164 0023     		movs	r3, #0
 1574 0166 84F85030 		strb	r3, [r4, #80]
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1575              		.loc 1 1301 9 view .LVU518
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1576              		.loc 1 1302 9 view .LVU519
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1577              		.loc 1 1302 16 is_stmt 0 view .LVU520
 1578 016a 0320     		movs	r0, #3
 1579 016c 63E0     		b	.L95
 1580              	.LVL68:
 1581              	.L108:
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1582              		.loc 1 1344 7 is_stmt 1 view .LVU521
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1583              		.loc 1 1344 12 is_stmt 0 view .LVU522
 1584 016e 2368     		ldr	r3, [r4]
 1585 0170 9A68     		ldr	r2, [r3, #8]
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1586              		.loc 1 1344 10 view .LVU523
 1587 0172 12F0010F 		tst	r2, #1
 1588 0176 0ED0     		beq	.L109
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1589              		.loc 1 1344 61 discriminator 1 view .LVU524
ARM GAS  /tmp/cc0VKmst.s 			page 107


 1590 0178 E28F     		ldrh	r2, [r4, #62]
 1591 017a 92B2     		uxth	r2, r2
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1592              		.loc 1 1344 53 discriminator 1 view .LVU525
 1593 017c 5AB1     		cbz	r2, .L109
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1594              		.loc 1 1346 9 is_stmt 1 view .LVU526
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1595              		.loc 1 1346 56 is_stmt 0 view .LVU527
 1596 017e DA68     		ldr	r2, [r3, #12]
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1597              		.loc 1 1346 26 view .LVU528
 1598 0180 A36B     		ldr	r3, [r4, #56]
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1599              		.loc 1 1346 40 view .LVU529
 1600 0182 1A70     		strb	r2, [r3]
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1601              		.loc 1 1347 9 is_stmt 1 view .LVU530
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1602              		.loc 1 1347 13 is_stmt 0 view .LVU531
 1603 0184 A36B     		ldr	r3, [r4, #56]
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1604              		.loc 1 1347 25 view .LVU532
 1605 0186 0133     		adds	r3, r3, #1
 1606 0188 A363     		str	r3, [r4, #56]
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1607              		.loc 1 1348 9 is_stmt 1 view .LVU533
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1608              		.loc 1 1348 13 is_stmt 0 view .LVU534
 1609 018a E38F     		ldrh	r3, [r4, #62]
 1610 018c 9BB2     		uxth	r3, r3
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1611              		.loc 1 1348 26 view .LVU535
 1612 018e 013B     		subs	r3, r3, #1
 1613 0190 9BB2     		uxth	r3, r3
 1614 0192 E387     		strh	r3, [r4, #62]	@ movhi
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1615              		.loc 1 1350 9 is_stmt 1 view .LVU536
 1616              	.LVL69:
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1617              		.loc 1 1350 19 is_stmt 0 view .LVU537
 1618 0194 0127     		movs	r7, #1
 1619              	.LVL70:
 1620              	.L109:
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1621              		.loc 1 1352 7 is_stmt 1 view .LVU538
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1622              		.loc 1 1352 14 is_stmt 0 view .LVU539
 1623 0196 FFF7FEFF 		bl	HAL_GetTick
 1624              	.LVL71:
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1625              		.loc 1 1352 28 view .LVU540
 1626 019a 831B     		subs	r3, r0, r6
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1627              		.loc 1 1352 10 view .LVU541
 1628 019c AB42     		cmp	r3, r5
 1629 019e 02D3     		bcc	.L110
ARM GAS  /tmp/cc0VKmst.s 			page 108


1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1630              		.loc 1 1352 54 discriminator 1 view .LVU542
 1631 01a0 B5F1FF3F 		cmp	r5, #-1
 1632 01a4 1ED1     		bne	.L111
 1633              	.L110:
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1634              		.loc 1 1352 87 discriminator 3 view .LVU543
 1635 01a6 EDB1     		cbz	r5, .L111
 1636              	.LVL72:
 1637              	.L112:
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1638              		.loc 1 1323 11 is_stmt 1 view .LVU544
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1639              		.loc 1 1323 17 is_stmt 0 view .LVU545
 1640 01a8 E38E     		ldrh	r3, [r4, #54]
 1641 01aa 9BB2     		uxth	r3, r3
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1642              		.loc 1 1323 11 view .LVU546
 1643 01ac 13B9     		cbnz	r3, .L113
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1644              		.loc 1 1323 45 discriminator 1 view .LVU547
 1645 01ae E38F     		ldrh	r3, [r4, #62]
 1646 01b0 9BB2     		uxth	r3, r3
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1647              		.loc 1 1323 37 discriminator 1 view .LVU548
 1648 01b2 FBB1     		cbz	r3, .L105
 1649              	.L113:
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1650              		.loc 1 1326 7 is_stmt 1 view .LVU549
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1651              		.loc 1 1326 12 is_stmt 0 view .LVU550
 1652 01b4 2368     		ldr	r3, [r4]
 1653 01b6 9A68     		ldr	r2, [r3, #8]
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1654              		.loc 1 1326 10 view .LVU551
 1655 01b8 12F0020F 		tst	r2, #2
 1656 01bc D7D0     		beq	.L108
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1657              		.loc 1 1326 60 discriminator 1 view .LVU552
 1658 01be E28E     		ldrh	r2, [r4, #54]
 1659 01c0 92B2     		uxth	r2, r2
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1660              		.loc 1 1326 52 discriminator 1 view .LVU553
 1661 01c2 002A     		cmp	r2, #0
 1662 01c4 D3D0     		beq	.L108
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1663              		.loc 1 1326 80 discriminator 2 view .LVU554
 1664 01c6 002F     		cmp	r7, #0
 1665 01c8 D1D0     		beq	.L108
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1666              		.loc 1 1328 9 is_stmt 1 view .LVU555
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1667              		.loc 1 1328 71 is_stmt 0 view .LVU556
 1668 01ca 226B     		ldr	r2, [r4, #48]
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1669              		.loc 1 1328 48 view .LVU557
 1670 01cc 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/cc0VKmst.s 			page 109


1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1671              		.loc 1 1328 46 view .LVU558
 1672 01ce 1A73     		strb	r2, [r3, #12]
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1673              		.loc 1 1329 9 is_stmt 1 view .LVU559
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1674              		.loc 1 1329 13 is_stmt 0 view .LVU560
 1675 01d0 236B     		ldr	r3, [r4, #48]
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1676              		.loc 1 1329 25 view .LVU561
 1677 01d2 0133     		adds	r3, r3, #1
 1678 01d4 2363     		str	r3, [r4, #48]
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1679              		.loc 1 1330 9 is_stmt 1 view .LVU562
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1680              		.loc 1 1330 13 is_stmt 0 view .LVU563
 1681 01d6 E38E     		ldrh	r3, [r4, #54]
 1682 01d8 9BB2     		uxth	r3, r3
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1683              		.loc 1 1330 26 view .LVU564
 1684 01da 013B     		subs	r3, r3, #1
 1685 01dc 9BB2     		uxth	r3, r3
 1686 01de E386     		strh	r3, [r4, #54]	@ movhi
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1687              		.loc 1 1332 9 is_stmt 1 view .LVU565
 1688              	.LVL73:
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1689              		.loc 1 1332 19 is_stmt 0 view .LVU566
 1690 01e0 0027     		movs	r7, #0
 1691 01e2 C4E7     		b	.L108
 1692              	.LVL74:
 1693              	.L111:
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1694              		.loc 1 1354 9 is_stmt 1 view .LVU567
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1695              		.loc 1 1354 21 is_stmt 0 view .LVU568
 1696 01e4 0123     		movs	r3, #1
 1697 01e6 84F85130 		strb	r3, [r4, #81]
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1698              		.loc 1 1355 9 is_stmt 1 view .LVU569
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1699              		.loc 1 1355 9 view .LVU570
 1700 01ea 0023     		movs	r3, #0
 1701 01ec 84F85030 		strb	r3, [r4, #80]
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1702              		.loc 1 1355 9 view .LVU571
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1703              		.loc 1 1356 9 view .LVU572
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1704              		.loc 1 1356 16 is_stmt 0 view .LVU573
 1705 01f0 0320     		movs	r0, #3
 1706 01f2 20E0     		b	.L95
 1707              	.L105:
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1708              		.loc 1 1401 3 is_stmt 1 view .LVU574
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1709              		.loc 1 1401 7 is_stmt 0 view .LVU575
ARM GAS  /tmp/cc0VKmst.s 			page 110


 1710 01f4 3246     		mov	r2, r6
 1711 01f6 2946     		mov	r1, r5
 1712 01f8 2046     		mov	r0, r4
 1713 01fa FFF7FEFF 		bl	SPI_EndRxTxTransaction
 1714              	.LVL75:
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1715              		.loc 1 1401 6 view .LVU576
 1716 01fe 90B9     		cbnz	r0, .L126
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1717              		.loc 1 1409 3 is_stmt 1 view .LVU577
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1718              		.loc 1 1409 17 is_stmt 0 view .LVU578
 1719 0200 A368     		ldr	r3, [r4, #8]
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1720              		.loc 1 1409 6 view .LVU579
 1721 0202 33B9     		cbnz	r3, .L115
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1722              		.loc 1 1411 5 is_stmt 1 view .LVU580
 1723              	.LBB3:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1724              		.loc 1 1411 5 view .LVU581
 1725 0204 0193     		str	r3, [sp, #4]
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1726              		.loc 1 1411 5 view .LVU582
 1727 0206 2368     		ldr	r3, [r4]
 1728 0208 DA68     		ldr	r2, [r3, #12]
 1729 020a 0192     		str	r2, [sp, #4]
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1730              		.loc 1 1411 5 view .LVU583
 1731 020c 9B68     		ldr	r3, [r3, #8]
 1732 020e 0193     		str	r3, [sp, #4]
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1733              		.loc 1 1411 5 view .LVU584
 1734 0210 019B     		ldr	r3, [sp, #4]
 1735              	.L115:
 1736              	.LBE3:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1737              		.loc 1 1411 5 discriminator 1 view .LVU585
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 1738              		.loc 1 1415 3 discriminator 1 view .LVU586
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 1739              		.loc 1 1415 15 is_stmt 0 discriminator 1 view .LVU587
 1740 0212 0123     		movs	r3, #1
 1741 0214 84F85130 		strb	r3, [r4, #81]
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1742              		.loc 1 1417 3 is_stmt 1 discriminator 1 view .LVU588
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1743              		.loc 1 1417 3 discriminator 1 view .LVU589
 1744 0218 0023     		movs	r3, #0
 1745 021a 84F85030 		strb	r3, [r4, #80]
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1746              		.loc 1 1417 3 discriminator 1 view .LVU590
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1747              		.loc 1 1419 3 discriminator 1 view .LVU591
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1748              		.loc 1 1419 11 is_stmt 0 discriminator 1 view .LVU592
 1749 021e 636D     		ldr	r3, [r4, #84]
ARM GAS  /tmp/cc0VKmst.s 			page 111


1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1750              		.loc 1 1419 6 discriminator 1 view .LVU593
 1751 0220 4BB1     		cbz	r3, .L95
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1752              		.loc 1 1421 12 view .LVU594
 1753 0222 0120     		movs	r0, #1
 1754 0224 07E0     		b	.L95
 1755              	.L126:
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1756              		.loc 1 1403 5 is_stmt 1 view .LVU595
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1757              		.loc 1 1403 21 is_stmt 0 view .LVU596
 1758 0226 2023     		movs	r3, #32
 1759 0228 6365     		str	r3, [r4, #84]
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 1760              		.loc 1 1404 5 is_stmt 1 view .LVU597
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 1761              		.loc 1 1404 5 view .LVU598
 1762 022a 0023     		movs	r3, #0
 1763 022c 84F85030 		strb	r3, [r4, #80]
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 1764              		.loc 1 1404 5 view .LVU599
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1765              		.loc 1 1405 5 view .LVU600
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1766              		.loc 1 1405 12 is_stmt 0 view .LVU601
 1767 0230 0120     		movs	r0, #1
 1768 0232 00E0     		b	.L95
 1769              	.LVL76:
 1770              	.L116:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1771              		.loc 1 1206 12 view .LVU602
 1772 0234 0220     		movs	r0, #2
 1773              	.LVL77:
 1774              	.L95:
1427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1775              		.loc 1 1427 1 view .LVU603
 1776 0236 03B0     		add	sp, sp, #12
 1777              	.LCFI23:
 1778              		.cfi_remember_state
 1779              		.cfi_def_cfa_offset 28
 1780              		@ sp needed
 1781 0238 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1782              	.LVL78:
 1783              	.L117:
 1784              	.LCFI24:
 1785              		.cfi_restore_state
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1786              		.loc 1 1206 12 view .LVU604
 1787 023c 0220     		movs	r0, #2
 1788              	.LVL79:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1789              		.loc 1 1206 12 view .LVU605
 1790 023e FAE7     		b	.L95
 1791              	.LVL80:
 1792              	.L118:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 112


 1793              		.loc 1 1206 12 view .LVU606
 1794 0240 0220     		movs	r0, #2
 1795              	.LVL81:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1796              		.loc 1 1206 12 view .LVU607
 1797 0242 F8E7     		b	.L95
 1798              	.LVL82:
 1799              	.L119:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1800              		.loc 1 1211 12 view .LVU608
 1801 0244 0120     		movs	r0, #1
 1802              	.LVL83:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1803              		.loc 1 1211 12 view .LVU609
 1804 0246 F6E7     		b	.L95
 1805              	.LVL84:
 1806              	.L120:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1807              		.loc 1 1211 12 view .LVU610
 1808 0248 0120     		movs	r0, #1
 1809              	.LVL85:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1810              		.loc 1 1211 12 view .LVU611
 1811 024a F4E7     		b	.L95
 1812              	.LVL86:
 1813              	.L121:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1814              		.loc 1 1211 12 view .LVU612
 1815 024c 0120     		movs	r0, #1
 1816              	.LVL87:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1817              		.loc 1 1211 12 view .LVU613
 1818 024e F2E7     		b	.L95
 1819              	.LVL88:
 1820              	.L122:
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1821              		.loc 1 1215 3 view .LVU614
 1822 0250 0220     		movs	r0, #2
 1823              	.LVL89:
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1824              		.loc 1 1215 3 view .LVU615
 1825 0252 F0E7     		b	.L95
 1826              		.cfi_endproc
 1827              	.LFE71:
 1829              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 1830              		.align	1
 1831              		.global	HAL_SPI_Receive
 1832              		.syntax unified
 1833              		.thumb
 1834              		.thumb_func
 1835              		.fpu softvfp
 1837              	HAL_SPI_Receive:
 1838              	.LVL90:
 1839              	.LFB70:
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1840              		.loc 1 962 1 is_stmt 1 view -0
 1841              		.cfi_startproc
ARM GAS  /tmp/cc0VKmst.s 			page 113


 1842              		@ args = 0, pretend = 0, frame = 0
 1843              		@ frame_needed = 0, uses_anonymous_args = 0
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1844              		.loc 1 962 1 is_stmt 0 view .LVU617
 1845 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1846              	.LCFI25:
 1847              		.cfi_def_cfa_offset 28
 1848              		.cfi_offset 4, -28
 1849              		.cfi_offset 5, -24
 1850              		.cfi_offset 6, -20
 1851              		.cfi_offset 7, -16
 1852              		.cfi_offset 8, -12
 1853              		.cfi_offset 9, -8
 1854              		.cfi_offset 14, -4
 1855 0004 83B0     		sub	sp, sp, #12
 1856              	.LCFI26:
 1857              		.cfi_def_cfa_offset 40
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1858              		.loc 1 966 3 is_stmt 1 view .LVU618
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1859              		.loc 1 968 3 view .LVU619
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1860              		.loc 1 968 11 is_stmt 0 view .LVU620
 1861 0006 90F85160 		ldrb	r6, [r0, #81]	@ zero_extendqisi2
 1862 000a F6B2     		uxtb	r6, r6
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1863              		.loc 1 968 6 view .LVU621
 1864 000c 012E     		cmp	r6, #1
 1865 000e 40F0B480 		bne	.L146
 1866 0012 0446     		mov	r4, r0
 1867 0014 8946     		mov	r9, r1
 1868 0016 9046     		mov	r8, r2
 1869 0018 1D46     		mov	r5, r3
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1870              		.loc 1 973 3 is_stmt 1 view .LVU622
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1871              		.loc 1 973 18 is_stmt 0 view .LVU623
 1872 001a 4368     		ldr	r3, [r0, #4]
 1873              	.LVL91:
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1874              		.loc 1 973 6 view .LVU624
 1875 001c B3F5827F 		cmp	r3, #260
 1876 0020 01D1     		bne	.L129
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1877              		.loc 1 973 58 discriminator 1 view .LVU625
 1878 0022 8368     		ldr	r3, [r0, #8]
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1879              		.loc 1 973 44 discriminator 1 view .LVU626
 1880 0024 93B3     		cbz	r3, .L150
 1881              	.L129:
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1882              		.loc 1 981 3 is_stmt 1 view .LVU627
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1883              		.loc 1 981 15 is_stmt 0 view .LVU628
 1884 0026 FFF7FEFF 		bl	HAL_GetTick
 1885              	.LVL92:
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 114


 1886              		.loc 1 981 15 view .LVU629
 1887 002a 0746     		mov	r7, r0
 1888              	.LVL93:
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1889              		.loc 1 983 3 is_stmt 1 view .LVU630
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1890              		.loc 1 983 6 is_stmt 0 view .LVU631
 1891 002c B9F1000F 		cmp	r9, #0
 1892 0030 00F0A480 		beq	.L128
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1893              		.loc 1 983 23 discriminator 1 view .LVU632
 1894 0034 B8F1000F 		cmp	r8, #0
 1895 0038 00F0A080 		beq	.L128
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1896              		.loc 1 989 3 is_stmt 1 view .LVU633
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1897              		.loc 1 989 3 view .LVU634
 1898 003c 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 1899 0040 012B     		cmp	r3, #1
 1900 0042 00F09F80 		beq	.L147
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1901              		.loc 1 989 3 discriminator 2 view .LVU635
 1902 0046 0123     		movs	r3, #1
 1903 0048 84F85030 		strb	r3, [r4, #80]
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1904              		.loc 1 989 3 discriminator 2 view .LVU636
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1905              		.loc 1 992 3 discriminator 2 view .LVU637
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1906              		.loc 1 992 21 is_stmt 0 discriminator 2 view .LVU638
 1907 004c 0423     		movs	r3, #4
 1908 004e 84F85130 		strb	r3, [r4, #81]
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1909              		.loc 1 993 3 is_stmt 1 discriminator 2 view .LVU639
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1910              		.loc 1 993 21 is_stmt 0 discriminator 2 view .LVU640
 1911 0052 0023     		movs	r3, #0
 1912 0054 6365     		str	r3, [r4, #84]
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1913              		.loc 1 994 3 is_stmt 1 discriminator 2 view .LVU641
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1914              		.loc 1 994 21 is_stmt 0 discriminator 2 view .LVU642
 1915 0056 C4F83890 		str	r9, [r4, #56]
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1916              		.loc 1 995 3 is_stmt 1 discriminator 2 view .LVU643
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1917              		.loc 1 995 21 is_stmt 0 discriminator 2 view .LVU644
 1918 005a A4F83C80 		strh	r8, [r4, #60]	@ movhi
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1919              		.loc 1 996 3 is_stmt 1 discriminator 2 view .LVU645
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1920              		.loc 1 996 21 is_stmt 0 discriminator 2 view .LVU646
 1921 005e A4F83E80 		strh	r8, [r4, #62]	@ movhi
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1922              		.loc 1 999 3 is_stmt 1 discriminator 2 view .LVU647
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1923              		.loc 1 999 21 is_stmt 0 discriminator 2 view .LVU648
ARM GAS  /tmp/cc0VKmst.s 			page 115


 1924 0062 2363     		str	r3, [r4, #48]
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1925              		.loc 1 1000 3 is_stmt 1 discriminator 2 view .LVU649
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1926              		.loc 1 1000 21 is_stmt 0 discriminator 2 view .LVU650
 1927 0064 A386     		strh	r3, [r4, #52]	@ movhi
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1928              		.loc 1 1001 3 is_stmt 1 discriminator 2 view .LVU651
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1929              		.loc 1 1001 21 is_stmt 0 discriminator 2 view .LVU652
 1930 0066 E386     		strh	r3, [r4, #54]	@ movhi
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1931              		.loc 1 1002 3 is_stmt 1 discriminator 2 view .LVU653
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1932              		.loc 1 1002 21 is_stmt 0 discriminator 2 view .LVU654
 1933 0068 2364     		str	r3, [r4, #64]
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1934              		.loc 1 1003 3 is_stmt 1 discriminator 2 view .LVU655
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1935              		.loc 1 1003 21 is_stmt 0 discriminator 2 view .LVU656
 1936 006a 6364     		str	r3, [r4, #68]
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1937              		.loc 1 1016 3 is_stmt 1 discriminator 2 view .LVU657
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1938              		.loc 1 1016 17 is_stmt 0 discriminator 2 view .LVU658
 1939 006c A368     		ldr	r3, [r4, #8]
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1940              		.loc 1 1016 6 discriminator 2 view .LVU659
 1941 006e B3F5004F 		cmp	r3, #32768
 1942 0072 15D0     		beq	.L151
 1943              	.L130:
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1944              		.loc 1 1024 3 is_stmt 1 view .LVU660
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1945              		.loc 1 1024 12 is_stmt 0 view .LVU661
 1946 0074 2368     		ldr	r3, [r4]
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1947              		.loc 1 1024 22 view .LVU662
 1948 0076 1A68     		ldr	r2, [r3]
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1949              		.loc 1 1024 6 view .LVU663
 1950 0078 12F0400F 		tst	r2, #64
 1951 007c 03D1     		bne	.L131
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1952              		.loc 1 1027 5 is_stmt 1 view .LVU664
 1953 007e 1A68     		ldr	r2, [r3]
 1954 0080 42F04002 		orr	r2, r2, #64
 1955 0084 1A60     		str	r2, [r3]
 1956              	.L131:
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1957              		.loc 1 1031 3 view .LVU665
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1958              		.loc 1 1031 17 is_stmt 0 view .LVU666
 1959 0086 E368     		ldr	r3, [r4, #12]
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1960              		.loc 1 1031 6 view .LVU667
 1961 0088 F3B1     		cbz	r3, .L132
ARM GAS  /tmp/cc0VKmst.s 			page 116


 1962 008a 43E0     		b	.L133
 1963              	.LVL94:
 1964              	.L150:
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 1965              		.loc 1 975 5 is_stmt 1 view .LVU668
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 1966              		.loc 1 975 17 is_stmt 0 view .LVU669
 1967 008c 0423     		movs	r3, #4
 1968 008e 80F85130 		strb	r3, [r0, #81]
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1969              		.loc 1 977 5 is_stmt 1 view .LVU670
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1970              		.loc 1 977 12 is_stmt 0 view .LVU671
 1971 0092 0095     		str	r5, [sp]
 1972 0094 1346     		mov	r3, r2
 1973 0096 0A46     		mov	r2, r1
 1974              	.LVL95:
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1975              		.loc 1 977 12 view .LVU672
 1976 0098 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 1977              	.LVL96:
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1978              		.loc 1 977 12 view .LVU673
 1979 009c 0646     		mov	r6, r0
 1980 009e 6DE0     		b	.L128
 1981              	.LVL97:
 1982              	.L151:
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 1983              		.loc 1 1019 5 is_stmt 1 view .LVU674
 1984 00a0 2268     		ldr	r2, [r4]
 1985 00a2 1368     		ldr	r3, [r2]
 1986 00a4 23F04003 		bic	r3, r3, #64
 1987 00a8 1360     		str	r3, [r2]
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1988              		.loc 1 1020 5 view .LVU675
 1989 00aa 2268     		ldr	r2, [r4]
 1990 00ac 1368     		ldr	r3, [r2]
 1991 00ae 23F48043 		bic	r3, r3, #16384
 1992 00b2 1360     		str	r3, [r2]
 1993 00b4 DEE7     		b	.L130
 1994              	.LVL98:
 1995              	.L134:
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1996              		.loc 1 1047 9 view .LVU676
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1997              		.loc 1 1047 16 is_stmt 0 view .LVU677
 1998 00b6 FFF7FEFF 		bl	HAL_GetTick
 1999              	.LVL99:
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2000              		.loc 1 1047 30 view .LVU678
 2001 00ba C01B     		subs	r0, r0, r7
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2002              		.loc 1 1047 12 view .LVU679
 2003 00bc A842     		cmp	r0, r5
 2004 00be 02D3     		bcc	.L136
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2005              		.loc 1 1047 56 discriminator 1 view .LVU680
ARM GAS  /tmp/cc0VKmst.s 			page 117


 2006 00c0 B5F1FF3F 		cmp	r5, #-1
 2007 00c4 15D1     		bne	.L137
 2008              	.L136:
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2009              		.loc 1 1047 87 discriminator 3 view .LVU681
 2010 00c6 A5B1     		cbz	r5, .L137
 2011              	.L132:
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2012              		.loc 1 1034 11 is_stmt 1 view .LVU682
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2013              		.loc 1 1034 16 is_stmt 0 view .LVU683
 2014 00c8 E38F     		ldrh	r3, [r4, #62]
 2015 00ca 9BB2     		uxth	r3, r3
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2016              		.loc 1 1034 11 view .LVU684
 2017 00cc 002B     		cmp	r3, #0
 2018 00ce 42D0     		beq	.L139
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2019              		.loc 1 1037 7 is_stmt 1 view .LVU685
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2020              		.loc 1 1037 11 is_stmt 0 view .LVU686
 2021 00d0 2368     		ldr	r3, [r4]
 2022 00d2 9A68     		ldr	r2, [r3, #8]
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2023              		.loc 1 1037 10 view .LVU687
 2024 00d4 12F0010F 		tst	r2, #1
 2025 00d8 EDD0     		beq	.L134
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2026              		.loc 1 1040 9 is_stmt 1 view .LVU688
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2027              		.loc 1 1040 27 is_stmt 0 view .LVU689
 2028 00da A26B     		ldr	r2, [r4, #56]
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2029              		.loc 1 1040 43 view .LVU690
 2030 00dc 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2031              		.loc 1 1040 41 view .LVU691
 2032 00de 1370     		strb	r3, [r2]
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2033              		.loc 1 1041 9 is_stmt 1 view .LVU692
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2034              		.loc 1 1041 26 is_stmt 0 view .LVU693
 2035 00e0 A36B     		ldr	r3, [r4, #56]
 2036 00e2 0133     		adds	r3, r3, #1
 2037 00e4 A363     		str	r3, [r4, #56]
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2038              		.loc 1 1042 9 is_stmt 1 view .LVU694
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2039              		.loc 1 1042 13 is_stmt 0 view .LVU695
 2040 00e6 E38F     		ldrh	r3, [r4, #62]
 2041 00e8 9BB2     		uxth	r3, r3
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2042              		.loc 1 1042 26 view .LVU696
 2043 00ea 013B     		subs	r3, r3, #1
 2044 00ec 9BB2     		uxth	r3, r3
 2045 00ee E387     		strh	r3, [r4, #62]	@ movhi
 2046 00f0 EAE7     		b	.L132
ARM GAS  /tmp/cc0VKmst.s 			page 118


 2047              	.L137:
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2048              		.loc 1 1049 11 is_stmt 1 view .LVU697
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2049              		.loc 1 1049 23 is_stmt 0 view .LVU698
 2050 00f2 0123     		movs	r3, #1
 2051 00f4 84F85130 		strb	r3, [r4, #81]
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2052              		.loc 1 1050 11 is_stmt 1 view .LVU699
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2053              		.loc 1 1050 11 view .LVU700
 2054 00f8 0023     		movs	r3, #0
 2055 00fa 84F85030 		strb	r3, [r4, #80]
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2056              		.loc 1 1050 11 view .LVU701
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2057              		.loc 1 1051 11 view .LVU702
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2058              		.loc 1 1051 18 is_stmt 0 view .LVU703
 2059 00fe 0326     		movs	r6, #3
 2060 0100 3CE0     		b	.L128
 2061              	.L140:
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2062              		.loc 1 1071 9 is_stmt 1 view .LVU704
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2063              		.loc 1 1071 16 is_stmt 0 view .LVU705
 2064 0102 FFF7FEFF 		bl	HAL_GetTick
 2065              	.LVL100:
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2066              		.loc 1 1071 30 view .LVU706
 2067 0106 C01B     		subs	r0, r0, r7
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2068              		.loc 1 1071 12 view .LVU707
 2069 0108 A842     		cmp	r0, r5
 2070 010a 02D3     		bcc	.L142
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2071              		.loc 1 1071 56 discriminator 1 view .LVU708
 2072 010c B5F1FF3F 		cmp	r5, #-1
 2073 0110 19D1     		bne	.L143
 2074              	.L142:
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2075              		.loc 1 1071 87 discriminator 3 view .LVU709
 2076 0112 C5B1     		cbz	r5, .L143
 2077              	.L133:
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2078              		.loc 1 1059 11 is_stmt 1 view .LVU710
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2079              		.loc 1 1059 16 is_stmt 0 view .LVU711
 2080 0114 E38F     		ldrh	r3, [r4, #62]
 2081 0116 9BB2     		uxth	r3, r3
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2082              		.loc 1 1059 11 view .LVU712
 2083 0118 EBB1     		cbz	r3, .L139
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2084              		.loc 1 1062 7 is_stmt 1 view .LVU713
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2085              		.loc 1 1062 11 is_stmt 0 view .LVU714
ARM GAS  /tmp/cc0VKmst.s 			page 119


 2086 011a 2368     		ldr	r3, [r4]
 2087 011c 9A68     		ldr	r2, [r3, #8]
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2088              		.loc 1 1062 10 view .LVU715
 2089 011e 12F0010F 		tst	r2, #1
 2090 0122 EED0     		beq	.L140
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2091              		.loc 1 1064 9 is_stmt 1 view .LVU716
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2092              		.loc 1 1064 67 is_stmt 0 view .LVU717
 2093 0124 DA68     		ldr	r2, [r3, #12]
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2094              		.loc 1 1064 27 view .LVU718
 2095 0126 A36B     		ldr	r3, [r4, #56]
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2096              		.loc 1 1064 41 view .LVU719
 2097 0128 1A80     		strh	r2, [r3]	@ movhi
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2098              		.loc 1 1065 9 is_stmt 1 view .LVU720
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2099              		.loc 1 1065 26 is_stmt 0 view .LVU721
 2100 012a A36B     		ldr	r3, [r4, #56]
 2101 012c 0233     		adds	r3, r3, #2
 2102 012e A363     		str	r3, [r4, #56]
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2103              		.loc 1 1066 9 is_stmt 1 view .LVU722
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2104              		.loc 1 1066 13 is_stmt 0 view .LVU723
 2105 0130 B4F83EC0 		ldrh	ip, [r4, #62]
 2106 0134 1FFA8CFC 		uxth	ip, ip
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2107              		.loc 1 1066 26 view .LVU724
 2108 0138 0CF1FF3C 		add	ip, ip, #-1
 2109 013c 1FFA8CFC 		uxth	ip, ip
 2110 0140 A4F83EC0 		strh	ip, [r4, #62]	@ movhi
 2111 0144 E6E7     		b	.L133
 2112              	.L143:
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2113              		.loc 1 1073 11 is_stmt 1 view .LVU725
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2114              		.loc 1 1073 23 is_stmt 0 view .LVU726
 2115 0146 0123     		movs	r3, #1
 2116 0148 84F85130 		strb	r3, [r4, #81]
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2117              		.loc 1 1074 11 is_stmt 1 view .LVU727
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2118              		.loc 1 1074 11 view .LVU728
 2119 014c 0023     		movs	r3, #0
 2120 014e 84F85030 		strb	r3, [r4, #80]
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2121              		.loc 1 1074 11 view .LVU729
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2122              		.loc 1 1075 11 view .LVU730
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2123              		.loc 1 1075 18 is_stmt 0 view .LVU731
 2124 0152 0326     		movs	r6, #3
 2125 0154 12E0     		b	.L128
ARM GAS  /tmp/cc0VKmst.s 			page 120


 2126              	.L139:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2127              		.loc 1 1130 3 is_stmt 1 view .LVU732
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2128              		.loc 1 1130 7 is_stmt 0 view .LVU733
 2129 0156 3A46     		mov	r2, r7
 2130 0158 2946     		mov	r1, r5
 2131 015a 2046     		mov	r0, r4
 2132 015c FFF7FEFF 		bl	SPI_EndRxTransaction
 2133              	.LVL101:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2134              		.loc 1 1130 6 view .LVU734
 2135 0160 08B1     		cbz	r0, .L145
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2136              		.loc 1 1132 5 is_stmt 1 view .LVU735
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2137              		.loc 1 1132 21 is_stmt 0 view .LVU736
 2138 0162 2023     		movs	r3, #32
 2139 0164 6365     		str	r3, [r4, #84]
 2140              	.L145:
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 2141              		.loc 1 1154 3 is_stmt 1 view .LVU737
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 2142              		.loc 1 1154 15 is_stmt 0 view .LVU738
 2143 0166 0123     		movs	r3, #1
 2144 0168 84F85130 		strb	r3, [r4, #81]
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2145              		.loc 1 1156 3 is_stmt 1 view .LVU739
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2146              		.loc 1 1156 3 view .LVU740
 2147 016c 0023     		movs	r3, #0
 2148 016e 84F85030 		strb	r3, [r4, #80]
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2149              		.loc 1 1156 3 view .LVU741
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2150              		.loc 1 1157 3 view .LVU742
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2151              		.loc 1 1157 11 is_stmt 0 view .LVU743
 2152 0172 636D     		ldr	r3, [r4, #84]
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2153              		.loc 1 1157 6 view .LVU744
 2154 0174 13B9     		cbnz	r3, .L128
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2155              		.loc 1 1163 12 view .LVU745
 2156 0176 0026     		movs	r6, #0
 2157 0178 00E0     		b	.L128
 2158              	.LVL102:
 2159              	.L146:
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2160              		.loc 1 970 12 view .LVU746
 2161 017a 0226     		movs	r6, #2
 2162              	.LVL103:
 2163              	.L128:
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2164              		.loc 1 1165 1 view .LVU747
 2165 017c 3046     		mov	r0, r6
 2166 017e 03B0     		add	sp, sp, #12
ARM GAS  /tmp/cc0VKmst.s 			page 121


 2167              	.LCFI27:
 2168              		.cfi_remember_state
 2169              		.cfi_def_cfa_offset 28
 2170              		@ sp needed
 2171 0180 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2172              	.LVL104:
 2173              	.L147:
 2174              	.LCFI28:
 2175              		.cfi_restore_state
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2176              		.loc 1 989 3 view .LVU748
 2177 0184 0226     		movs	r6, #2
 2178 0186 F9E7     		b	.L128
 2179              		.cfi_endproc
 2180              	.LFE70:
 2182              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 2183              		.align	1
 2184              		.global	HAL_SPI_Transmit_IT
 2185              		.syntax unified
 2186              		.thumb
 2187              		.thumb_func
 2188              		.fpu softvfp
 2190              	HAL_SPI_Transmit_IT:
 2191              	.LVL105:
 2192              	.LFB72:
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2193              		.loc 1 1438 1 is_stmt 1 view -0
 2194              		.cfi_startproc
 2195              		@ args = 0, pretend = 0, frame = 0
 2196              		@ frame_needed = 0, uses_anonymous_args = 0
 2197              		@ link register save eliminated.
1441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2198              		.loc 1 1441 3 view .LVU750
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2199              		.loc 1 1444 3 view .LVU751
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2200              		.loc 1 1444 6 is_stmt 0 view .LVU752
 2201 0000 0029     		cmp	r1, #0
 2202 0002 44D0     		beq	.L158
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2203              		.loc 1 1438 1 discriminator 1 view .LVU753
 2204 0004 10B4     		push	{r4}
 2205              	.LCFI29:
 2206              		.cfi_def_cfa_offset 4
 2207              		.cfi_offset 4, -4
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2208              		.loc 1 1444 23 discriminator 1 view .LVU754
 2209 0006 002A     		cmp	r2, #0
 2210 0008 43D0     		beq	.L159
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2211              		.loc 1 1449 3 is_stmt 1 view .LVU755
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2212              		.loc 1 1449 11 is_stmt 0 view .LVU756
 2213 000a 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 2214 000e DBB2     		uxtb	r3, r3
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2215              		.loc 1 1449 6 view .LVU757
ARM GAS  /tmp/cc0VKmst.s 			page 122


 2216 0010 012B     		cmp	r3, #1
 2217 0012 40D1     		bne	.L160
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2218              		.loc 1 1455 3 is_stmt 1 view .LVU758
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2219              		.loc 1 1455 3 view .LVU759
 2220 0014 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2221 0018 012B     		cmp	r3, #1
 2222 001a 3ED0     		beq	.L161
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2223              		.loc 1 1455 3 discriminator 2 view .LVU760
 2224 001c 0123     		movs	r3, #1
 2225 001e 80F85030 		strb	r3, [r0, #80]
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2226              		.loc 1 1455 3 discriminator 2 view .LVU761
1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2227              		.loc 1 1458 3 discriminator 2 view .LVU762
1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2228              		.loc 1 1458 21 is_stmt 0 discriminator 2 view .LVU763
 2229 0022 0323     		movs	r3, #3
 2230 0024 80F85130 		strb	r3, [r0, #81]
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2231              		.loc 1 1459 3 is_stmt 1 discriminator 2 view .LVU764
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2232              		.loc 1 1459 21 is_stmt 0 discriminator 2 view .LVU765
 2233 0028 0023     		movs	r3, #0
 2234 002a 4365     		str	r3, [r0, #84]
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2235              		.loc 1 1460 3 is_stmt 1 discriminator 2 view .LVU766
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2236              		.loc 1 1460 21 is_stmt 0 discriminator 2 view .LVU767
 2237 002c 0163     		str	r1, [r0, #48]
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2238              		.loc 1 1461 3 is_stmt 1 discriminator 2 view .LVU768
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2239              		.loc 1 1461 21 is_stmt 0 discriminator 2 view .LVU769
 2240 002e 8286     		strh	r2, [r0, #52]	@ movhi
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2241              		.loc 1 1462 3 is_stmt 1 discriminator 2 view .LVU770
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2242              		.loc 1 1462 21 is_stmt 0 discriminator 2 view .LVU771
 2243 0030 C286     		strh	r2, [r0, #54]	@ movhi
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2244              		.loc 1 1465 3 is_stmt 1 discriminator 2 view .LVU772
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2245              		.loc 1 1465 21 is_stmt 0 discriminator 2 view .LVU773
 2246 0032 8363     		str	r3, [r0, #56]
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2247              		.loc 1 1466 3 is_stmt 1 discriminator 2 view .LVU774
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2248              		.loc 1 1466 21 is_stmt 0 discriminator 2 view .LVU775
 2249 0034 8387     		strh	r3, [r0, #60]	@ movhi
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2250              		.loc 1 1467 3 is_stmt 1 discriminator 2 view .LVU776
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2251              		.loc 1 1467 21 is_stmt 0 discriminator 2 view .LVU777
 2252 0036 C387     		strh	r3, [r0, #62]	@ movhi
ARM GAS  /tmp/cc0VKmst.s 			page 123


1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2253              		.loc 1 1468 3 is_stmt 1 discriminator 2 view .LVU778
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2254              		.loc 1 1468 21 is_stmt 0 discriminator 2 view .LVU779
 2255 0038 0364     		str	r3, [r0, #64]
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2256              		.loc 1 1471 3 is_stmt 1 discriminator 2 view .LVU780
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2257              		.loc 1 1471 17 is_stmt 0 discriminator 2 view .LVU781
 2258 003a C368     		ldr	r3, [r0, #12]
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2259              		.loc 1 1471 6 discriminator 2 view .LVU782
 2260 003c CBB1     		cbz	r3, .L154
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2261              		.loc 1 1473 5 is_stmt 1 view .LVU783
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2262              		.loc 1 1473 17 is_stmt 0 view .LVU784
 2263 003e 184B     		ldr	r3, .L167
 2264 0040 4364     		str	r3, [r0, #68]
 2265              	.L155:
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2266              		.loc 1 1481 3 is_stmt 1 view .LVU785
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2267              		.loc 1 1481 17 is_stmt 0 view .LVU786
 2268 0042 8368     		ldr	r3, [r0, #8]
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2269              		.loc 1 1481 6 view .LVU787
 2270 0044 B3F5004F 		cmp	r3, #32768
 2271 0048 16D0     		beq	.L166
 2272              	.LVL106:
 2273              	.L156:
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2274              		.loc 1 1497 3 is_stmt 1 view .LVU788
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2275              		.loc 1 1497 12 is_stmt 0 view .LVU789
 2276 004a 0368     		ldr	r3, [r0]
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2277              		.loc 1 1497 22 view .LVU790
 2278 004c 1A68     		ldr	r2, [r3]
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2279              		.loc 1 1497 6 view .LVU791
 2280 004e 12F0400F 		tst	r2, #64
 2281 0052 03D1     		bne	.L157
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2282              		.loc 1 1500 5 is_stmt 1 view .LVU792
 2283 0054 1A68     		ldr	r2, [r3]
 2284 0056 42F04002 		orr	r2, r2, #64
 2285 005a 1A60     		str	r2, [r3]
 2286              	.L157:
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
 2287              		.loc 1 1504 3 view .LVU793
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
 2288              		.loc 1 1504 3 view .LVU794
 2289 005c 0023     		movs	r3, #0
 2290 005e 80F85030 		strb	r3, [r0, #80]
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
 2291              		.loc 1 1504 3 view .LVU795
ARM GAS  /tmp/cc0VKmst.s 			page 124


1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2292              		.loc 1 1506 3 view .LVU796
 2293 0062 0168     		ldr	r1, [r0]
 2294              	.LVL107:
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2295              		.loc 1 1506 3 is_stmt 0 view .LVU797
 2296 0064 4A68     		ldr	r2, [r1, #4]
 2297 0066 42F0A002 		orr	r2, r2, #160
 2298 006a 4A60     		str	r2, [r1, #4]
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2299              		.loc 1 1508 3 is_stmt 1 view .LVU798
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2300              		.loc 1 1508 10 is_stmt 0 view .LVU799
 2301 006c 1846     		mov	r0, r3
 2302              	.LVL108:
 2303              	.L153:
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2304              		.loc 1 1509 1 view .LVU800
 2305 006e 10BC     		pop	{r4}
 2306              	.LCFI30:
 2307              		.cfi_remember_state
 2308              		.cfi_restore 4
 2309              		.cfi_def_cfa_offset 0
 2310 0070 7047     		bx	lr
 2311              	.LVL109:
 2312              	.L154:
 2313              	.LCFI31:
 2314              		.cfi_restore_state
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2315              		.loc 1 1477 5 is_stmt 1 view .LVU801
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2316              		.loc 1 1477 17 is_stmt 0 view .LVU802
 2317 0072 0C4B     		ldr	r3, .L167+4
 2318 0074 4364     		str	r3, [r0, #68]
 2319 0076 E4E7     		b	.L155
 2320              	.L166:
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2321              		.loc 1 1484 5 is_stmt 1 view .LVU803
 2322 0078 0268     		ldr	r2, [r0]
 2323              	.LVL110:
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2324              		.loc 1 1484 5 is_stmt 0 view .LVU804
 2325 007a 1368     		ldr	r3, [r2]
 2326 007c 23F04003 		bic	r3, r3, #64
 2327 0080 1360     		str	r3, [r2]
 2328              	.LVL111:
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2329              		.loc 1 1485 5 is_stmt 1 view .LVU805
 2330 0082 0268     		ldr	r2, [r0]
 2331 0084 1368     		ldr	r3, [r2]
 2332 0086 43F48043 		orr	r3, r3, #16384
 2333 008a 1360     		str	r3, [r2]
 2334 008c DDE7     		b	.L156
 2335              	.LVL112:
 2336              	.L158:
 2337              	.LCFI32:
 2338              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/cc0VKmst.s 			page 125


 2339              		.cfi_restore 4
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2340              		.loc 1 1446 12 is_stmt 0 view .LVU806
 2341 008e 0120     		movs	r0, #1
 2342              	.LVL113:
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2343              		.loc 1 1509 1 view .LVU807
 2344 0090 7047     		bx	lr
 2345              	.LVL114:
 2346              	.L159:
 2347              	.LCFI33:
 2348              		.cfi_def_cfa_offset 4
 2349              		.cfi_offset 4, -4
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2350              		.loc 1 1446 12 view .LVU808
 2351 0092 0120     		movs	r0, #1
 2352              	.LVL115:
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2353              		.loc 1 1446 12 view .LVU809
 2354 0094 EBE7     		b	.L153
 2355              	.LVL116:
 2356              	.L160:
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2357              		.loc 1 1451 12 view .LVU810
 2358 0096 0220     		movs	r0, #2
 2359              	.LVL117:
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2360              		.loc 1 1451 12 view .LVU811
 2361 0098 E9E7     		b	.L153
 2362              	.LVL118:
 2363              	.L161:
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2364              		.loc 1 1455 3 view .LVU812
 2365 009a 0220     		movs	r0, #2
 2366              	.LVL119:
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2367              		.loc 1 1455 3 view .LVU813
 2368 009c E7E7     		b	.L153
 2369              	.L168:
 2370 009e 00BF     		.align	2
 2371              	.L167:
 2372 00a0 00000000 		.word	SPI_TxISR_16BIT
 2373 00a4 00000000 		.word	SPI_TxISR_8BIT
 2374              		.cfi_endproc
 2375              	.LFE72:
 2377              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 2378              		.align	1
 2379              		.global	HAL_SPI_TransmitReceive_IT
 2380              		.syntax unified
 2381              		.thumb
 2382              		.thumb_func
 2383              		.fpu softvfp
 2385              	HAL_SPI_TransmitReceive_IT:
 2386              	.LVL120:
 2387              	.LFB74:
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 2388              		.loc 1 1612 1 is_stmt 1 view -0
ARM GAS  /tmp/cc0VKmst.s 			page 126


 2389              		.cfi_startproc
 2390              		@ args = 0, pretend = 0, frame = 0
 2391              		@ frame_needed = 0, uses_anonymous_args = 0
 2392              		@ link register save eliminated.
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 2393              		.loc 1 1612 1 is_stmt 0 view .LVU815
 2394 0000 10B4     		push	{r4}
 2395              	.LCFI34:
 2396              		.cfi_def_cfa_offset 4
 2397              		.cfi_offset 4, -4
1613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 2398              		.loc 1 1613 3 is_stmt 1 view .LVU816
1614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2399              		.loc 1 1614 3 view .LVU817
1617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2400              		.loc 1 1617 3 view .LVU818
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2401              		.loc 1 1620 3 view .LVU819
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2402              		.loc 1 1620 23 is_stmt 0 view .LVU820
 2403 0002 90F851C0 		ldrb	ip, [r0, #81]	@ zero_extendqisi2
 2404 0006 5FFA8CFC 		uxtb	ip, ip
 2405              	.LVL121:
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2406              		.loc 1 1621 3 is_stmt 1 view .LVU821
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2407              		.loc 1 1621 23 is_stmt 0 view .LVU822
 2408 000a 4468     		ldr	r4, [r0, #4]
 2409              	.LVL122:
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 2410              		.loc 1 1623 3 is_stmt 1 view .LVU823
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 2411              		.loc 1 1623 6 is_stmt 0 view .LVU824
 2412 000c BCF1010F 		cmp	ip, #1
 2413 0010 08D0     		beq	.L170
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 2414              		.loc 1 1623 7 discriminator 1 view .LVU825
 2415 0012 B4F5827F 		cmp	r4, #260
 2416 0016 40D1     		bne	.L176
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 2417              		.loc 1 1624 54 view .LVU826
 2418 0018 8468     		ldr	r4, [r0, #8]
 2419              	.LVL123:
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 2420              		.loc 1 1624 40 view .LVU827
 2421 001a 002C     		cmp	r4, #0
 2422 001c 40D1     		bne	.L177
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 2423              		.loc 1 1624 90 discriminator 1 view .LVU828
 2424 001e BCF1040F 		cmp	ip, #4
 2425 0022 3FD1     		bne	.L178
 2426              	.L170:
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2427              		.loc 1 1630 3 is_stmt 1 view .LVU829
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2428              		.loc 1 1630 6 is_stmt 0 view .LVU830
 2429 0024 0029     		cmp	r1, #0
ARM GAS  /tmp/cc0VKmst.s 			page 127


 2430 0026 3FD0     		beq	.L179
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2431              		.loc 1 1630 25 discriminator 1 view .LVU831
 2432 0028 002A     		cmp	r2, #0
 2433 002a 3FD0     		beq	.L180
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2434              		.loc 1 1630 46 discriminator 2 view .LVU832
 2435 002c 002B     		cmp	r3, #0
 2436 002e 3FD0     		beq	.L181
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2437              		.loc 1 1636 3 is_stmt 1 view .LVU833
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2438              		.loc 1 1636 3 view .LVU834
 2439 0030 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 2440 0034 012C     		cmp	r4, #1
 2441 0036 3DD0     		beq	.L182
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2442              		.loc 1 1636 3 discriminator 2 view .LVU835
 2443 0038 0124     		movs	r4, #1
 2444 003a 80F85040 		strb	r4, [r0, #80]
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2445              		.loc 1 1636 3 discriminator 2 view .LVU836
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2446              		.loc 1 1639 3 discriminator 2 view .LVU837
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2447              		.loc 1 1639 11 is_stmt 0 discriminator 2 view .LVU838
 2448 003e 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
 2449 0042 E4B2     		uxtb	r4, r4
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2450              		.loc 1 1639 6 discriminator 2 view .LVU839
 2451 0044 042C     		cmp	r4, #4
 2452 0046 02D0     		beq	.L172
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2453              		.loc 1 1641 5 is_stmt 1 view .LVU840
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2454              		.loc 1 1641 17 is_stmt 0 view .LVU841
 2455 0048 0524     		movs	r4, #5
 2456 004a 80F85140 		strb	r4, [r0, #81]
 2457              	.L172:
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 2458              		.loc 1 1645 3 is_stmt 1 view .LVU842
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 2459              		.loc 1 1645 21 is_stmt 0 view .LVU843
 2460 004e 0024     		movs	r4, #0
 2461 0050 4465     		str	r4, [r0, #84]
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2462              		.loc 1 1646 3 is_stmt 1 view .LVU844
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2463              		.loc 1 1646 21 is_stmt 0 view .LVU845
 2464 0052 0163     		str	r1, [r0, #48]
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2465              		.loc 1 1647 3 is_stmt 1 view .LVU846
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2466              		.loc 1 1647 21 is_stmt 0 view .LVU847
 2467 0054 8386     		strh	r3, [r0, #52]	@ movhi
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2468              		.loc 1 1648 3 is_stmt 1 view .LVU848
ARM GAS  /tmp/cc0VKmst.s 			page 128


1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2469              		.loc 1 1648 21 is_stmt 0 view .LVU849
 2470 0056 C386     		strh	r3, [r0, #54]	@ movhi
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2471              		.loc 1 1649 3 is_stmt 1 view .LVU850
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2472              		.loc 1 1649 21 is_stmt 0 view .LVU851
 2473 0058 8263     		str	r2, [r0, #56]
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2474              		.loc 1 1650 3 is_stmt 1 view .LVU852
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2475              		.loc 1 1650 21 is_stmt 0 view .LVU853
 2476 005a 8387     		strh	r3, [r0, #60]	@ movhi
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2477              		.loc 1 1651 3 is_stmt 1 view .LVU854
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2478              		.loc 1 1651 21 is_stmt 0 view .LVU855
 2479 005c C387     		strh	r3, [r0, #62]	@ movhi
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2480              		.loc 1 1654 3 is_stmt 1 view .LVU856
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2481              		.loc 1 1654 17 is_stmt 0 view .LVU857
 2482 005e C368     		ldr	r3, [r0, #12]
 2483              	.LVL124:
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2484              		.loc 1 1654 6 view .LVU858
 2485 0060 B3B1     		cbz	r3, .L173
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2486              		.loc 1 1656 5 is_stmt 1 view .LVU859
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2487              		.loc 1 1656 21 is_stmt 0 view .LVU860
 2488 0062 154B     		ldr	r3, .L184
 2489 0064 0364     		str	r3, [r0, #64]
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2490              		.loc 1 1657 5 is_stmt 1 view .LVU861
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2491              		.loc 1 1657 21 is_stmt 0 view .LVU862
 2492 0066 154B     		ldr	r3, .L184+4
 2493 0068 4364     		str	r3, [r0, #68]
 2494              	.L174:
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2495              		.loc 1 1675 3 is_stmt 1 view .LVU863
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2496              		.loc 1 1675 12 is_stmt 0 view .LVU864
 2497 006a 0368     		ldr	r3, [r0]
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2498              		.loc 1 1675 22 view .LVU865
 2499 006c 1A68     		ldr	r2, [r3]
 2500              	.LVL125:
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2501              		.loc 1 1675 6 view .LVU866
 2502 006e 12F0400F 		tst	r2, #64
 2503 0072 03D1     		bne	.L175
1678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2504              		.loc 1 1678 5 is_stmt 1 view .LVU867
 2505 0074 1A68     		ldr	r2, [r3]
 2506 0076 42F04002 		orr	r2, r2, #64
ARM GAS  /tmp/cc0VKmst.s 			page 129


 2507 007a 1A60     		str	r2, [r3]
 2508              	.LVL126:
 2509              	.L175:
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
 2510              		.loc 1 1682 3 view .LVU868
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
 2511              		.loc 1 1682 3 view .LVU869
 2512 007c 0023     		movs	r3, #0
 2513 007e 80F85030 		strb	r3, [r0, #80]
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
 2514              		.loc 1 1682 3 view .LVU870
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2515              		.loc 1 1684 3 view .LVU871
 2516 0082 0168     		ldr	r1, [r0]
 2517              	.LVL127:
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2518              		.loc 1 1684 3 is_stmt 0 view .LVU872
 2519 0084 4A68     		ldr	r2, [r1, #4]
 2520 0086 42F0E002 		orr	r2, r2, #224
 2521 008a 4A60     		str	r2, [r1, #4]
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2522              		.loc 1 1686 3 is_stmt 1 view .LVU873
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2523              		.loc 1 1686 10 is_stmt 0 view .LVU874
 2524 008c 1846     		mov	r0, r3
 2525              	.LVL128:
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2526              		.loc 1 1686 10 view .LVU875
 2527 008e 05E0     		b	.L171
 2528              	.LVL129:
 2529              	.L173:
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2530              		.loc 1 1661 5 is_stmt 1 view .LVU876
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2531              		.loc 1 1661 21 is_stmt 0 view .LVU877
 2532 0090 0B4B     		ldr	r3, .L184+8
 2533 0092 0364     		str	r3, [r0, #64]
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2534              		.loc 1 1662 5 is_stmt 1 view .LVU878
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2535              		.loc 1 1662 21 is_stmt 0 view .LVU879
 2536 0094 0B4B     		ldr	r3, .L184+12
 2537 0096 4364     		str	r3, [r0, #68]
 2538 0098 E7E7     		b	.L174
 2539              	.LVL130:
 2540              	.L176:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2541              		.loc 1 1627 12 view .LVU880
 2542 009a 0220     		movs	r0, #2
 2543              	.LVL131:
 2544              	.L171:
1687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2545              		.loc 1 1687 1 view .LVU881
 2546 009c 10BC     		pop	{r4}
 2547              	.LCFI35:
 2548              		.cfi_remember_state
 2549              		.cfi_restore 4
ARM GAS  /tmp/cc0VKmst.s 			page 130


 2550              		.cfi_def_cfa_offset 0
 2551 009e 7047     		bx	lr
 2552              	.LVL132:
 2553              	.L177:
 2554              	.LCFI36:
 2555              		.cfi_restore_state
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2556              		.loc 1 1627 12 view .LVU882
 2557 00a0 0220     		movs	r0, #2
 2558              	.LVL133:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2559              		.loc 1 1627 12 view .LVU883
 2560 00a2 FBE7     		b	.L171
 2561              	.LVL134:
 2562              	.L178:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2563              		.loc 1 1627 12 view .LVU884
 2564 00a4 0220     		movs	r0, #2
 2565              	.LVL135:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2566              		.loc 1 1627 12 view .LVU885
 2567 00a6 F9E7     		b	.L171
 2568              	.LVL136:
 2569              	.L179:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2570              		.loc 1 1632 12 view .LVU886
 2571 00a8 0120     		movs	r0, #1
 2572              	.LVL137:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2573              		.loc 1 1632 12 view .LVU887
 2574 00aa F7E7     		b	.L171
 2575              	.LVL138:
 2576              	.L180:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2577              		.loc 1 1632 12 view .LVU888
 2578 00ac 0120     		movs	r0, #1
 2579              	.LVL139:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2580              		.loc 1 1632 12 view .LVU889
 2581 00ae F5E7     		b	.L171
 2582              	.LVL140:
 2583              	.L181:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2584              		.loc 1 1632 12 view .LVU890
 2585 00b0 0120     		movs	r0, #1
 2586              	.LVL141:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2587              		.loc 1 1632 12 view .LVU891
 2588 00b2 F3E7     		b	.L171
 2589              	.LVL142:
 2590              	.L182:
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2591              		.loc 1 1636 3 view .LVU892
 2592 00b4 0220     		movs	r0, #2
 2593              	.LVL143:
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2594              		.loc 1 1636 3 view .LVU893
ARM GAS  /tmp/cc0VKmst.s 			page 131


 2595 00b6 F1E7     		b	.L171
 2596              	.L185:
 2597              		.align	2
 2598              	.L184:
 2599 00b8 00000000 		.word	SPI_2linesRxISR_16BIT
 2600 00bc 00000000 		.word	SPI_2linesTxISR_16BIT
 2601 00c0 00000000 		.word	SPI_2linesRxISR_8BIT
 2602 00c4 00000000 		.word	SPI_2linesTxISR_8BIT
 2603              		.cfi_endproc
 2604              	.LFE74:
 2606              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 2607              		.align	1
 2608              		.global	HAL_SPI_Receive_IT
 2609              		.syntax unified
 2610              		.thumb
 2611              		.thumb_func
 2612              		.fpu softvfp
 2614              	HAL_SPI_Receive_IT:
 2615              	.LVL144:
 2616              	.LFB73:
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2617              		.loc 1 1520 1 is_stmt 1 view -0
 2618              		.cfi_startproc
 2619              		@ args = 0, pretend = 0, frame = 0
 2620              		@ frame_needed = 0, uses_anonymous_args = 0
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2621              		.loc 1 1520 1 is_stmt 0 view .LVU895
 2622 0000 8446     		mov	ip, r0
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2623              		.loc 1 1522 3 is_stmt 1 view .LVU896
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2624              		.loc 1 1522 11 is_stmt 0 view .LVU897
 2625 0002 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 2626              	.LVL145:
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2627              		.loc 1 1522 11 view .LVU898
 2628 0006 C0B2     		uxtb	r0, r0
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2629              		.loc 1 1522 6 view .LVU899
 2630 0008 0128     		cmp	r0, #1
 2631 000a 5CD1     		bne	.L193
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2632              		.loc 1 1520 1 view .LVU900
 2633 000c 10B5     		push	{r4, lr}
 2634              	.LCFI37:
 2635              		.cfi_def_cfa_offset 8
 2636              		.cfi_offset 4, -8
 2637              		.cfi_offset 14, -4
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2638              		.loc 1 1527 3 is_stmt 1 view .LVU901
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2639              		.loc 1 1527 18 is_stmt 0 view .LVU902
 2640 000e DCF80840 		ldr	r4, [ip, #8]
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2641              		.loc 1 1527 6 view .LVU903
 2642 0012 24B9     		cbnz	r4, .L188
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 132


 2643              		.loc 1 1527 68 discriminator 1 view .LVU904
 2644 0014 DCF80430 		ldr	r3, [ip, #4]
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2645              		.loc 1 1527 54 discriminator 1 view .LVU905
 2646 0018 B3F5827F 		cmp	r3, #260
 2647 001c 39D0     		beq	.L199
 2648              	.L188:
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2649              		.loc 1 1535 3 is_stmt 1 view .LVU906
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2650              		.loc 1 1535 6 is_stmt 0 view .LVU907
 2651 001e B9B3     		cbz	r1, .L187
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2652              		.loc 1 1535 23 discriminator 1 view .LVU908
 2653 0020 B2B3     		cbz	r2, .L187
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2654              		.loc 1 1541 3 is_stmt 1 view .LVU909
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2655              		.loc 1 1541 3 view .LVU910
 2656 0022 9CF85030 		ldrb	r3, [ip, #80]	@ zero_extendqisi2
 2657 0026 012B     		cmp	r3, #1
 2658 0028 4FD0     		beq	.L194
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2659              		.loc 1 1541 3 discriminator 2 view .LVU911
 2660 002a 0123     		movs	r3, #1
 2661 002c 8CF85030 		strb	r3, [ip, #80]
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2662              		.loc 1 1541 3 discriminator 2 view .LVU912
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2663              		.loc 1 1544 3 discriminator 2 view .LVU913
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2664              		.loc 1 1544 21 is_stmt 0 discriminator 2 view .LVU914
 2665 0030 0423     		movs	r3, #4
 2666 0032 8CF85130 		strb	r3, [ip, #81]
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2667              		.loc 1 1545 3 is_stmt 1 discriminator 2 view .LVU915
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2668              		.loc 1 1545 21 is_stmt 0 discriminator 2 view .LVU916
 2669 0036 0023     		movs	r3, #0
 2670 0038 CCF85430 		str	r3, [ip, #84]
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2671              		.loc 1 1546 3 is_stmt 1 discriminator 2 view .LVU917
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2672              		.loc 1 1546 21 is_stmt 0 discriminator 2 view .LVU918
 2673 003c CCF83810 		str	r1, [ip, #56]
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2674              		.loc 1 1547 3 is_stmt 1 discriminator 2 view .LVU919
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2675              		.loc 1 1547 21 is_stmt 0 discriminator 2 view .LVU920
 2676 0040 ACF83C20 		strh	r2, [ip, #60]	@ movhi
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2677              		.loc 1 1548 3 is_stmt 1 discriminator 2 view .LVU921
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2678              		.loc 1 1548 21 is_stmt 0 discriminator 2 view .LVU922
 2679 0044 ACF83E20 		strh	r2, [ip, #62]	@ movhi
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2680              		.loc 1 1551 3 is_stmt 1 discriminator 2 view .LVU923
ARM GAS  /tmp/cc0VKmst.s 			page 133


1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2681              		.loc 1 1551 21 is_stmt 0 discriminator 2 view .LVU924
 2682 0048 CCF83030 		str	r3, [ip, #48]
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2683              		.loc 1 1552 3 is_stmt 1 discriminator 2 view .LVU925
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2684              		.loc 1 1552 21 is_stmt 0 discriminator 2 view .LVU926
 2685 004c ACF83430 		strh	r3, [ip, #52]	@ movhi
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2686              		.loc 1 1553 3 is_stmt 1 discriminator 2 view .LVU927
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2687              		.loc 1 1553 21 is_stmt 0 discriminator 2 view .LVU928
 2688 0050 ACF83630 		strh	r3, [ip, #54]	@ movhi
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2689              		.loc 1 1554 3 is_stmt 1 discriminator 2 view .LVU929
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2690              		.loc 1 1554 21 is_stmt 0 discriminator 2 view .LVU930
 2691 0054 CCF84430 		str	r3, [ip, #68]
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2692              		.loc 1 1557 3 is_stmt 1 discriminator 2 view .LVU931
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2693              		.loc 1 1557 17 is_stmt 0 discriminator 2 view .LVU932
 2694 0058 DCF80C30 		ldr	r3, [ip, #12]
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2695              		.loc 1 1557 6 discriminator 2 view .LVU933
 2696 005c 13B3     		cbz	r3, .L189
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2697              		.loc 1 1559 5 is_stmt 1 view .LVU934
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2698              		.loc 1 1559 17 is_stmt 0 view .LVU935
 2699 005e 1C4B     		ldr	r3, .L201
 2700 0060 CCF84030 		str	r3, [ip, #64]
 2701              	.L190:
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2702              		.loc 1 1567 3 is_stmt 1 view .LVU936
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2703              		.loc 1 1567 6 is_stmt 0 view .LVU937
 2704 0064 B4F5004F 		cmp	r4, #32768
 2705 0068 20D0     		beq	.L200
 2706              	.LVL146:
 2707              	.L191:
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2708              		.loc 1 1587 3 is_stmt 1 view .LVU938
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2709              		.loc 1 1587 12 is_stmt 0 view .LVU939
 2710 006a DCF80030 		ldr	r3, [ip]
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2711              		.loc 1 1587 22 view .LVU940
 2712 006e 1A68     		ldr	r2, [r3]
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2713              		.loc 1 1587 6 view .LVU941
 2714 0070 12F0400F 		tst	r2, #64
 2715 0074 03D1     		bne	.L192
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2716              		.loc 1 1590 5 is_stmt 1 view .LVU942
 2717 0076 1A68     		ldr	r2, [r3]
 2718 0078 42F04002 		orr	r2, r2, #64
ARM GAS  /tmp/cc0VKmst.s 			page 134


 2719 007c 1A60     		str	r2, [r3]
 2720              	.L192:
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
 2721              		.loc 1 1594 3 view .LVU943
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
 2722              		.loc 1 1594 3 view .LVU944
 2723 007e 0020     		movs	r0, #0
 2724 0080 8CF85000 		strb	r0, [ip, #80]
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
 2725              		.loc 1 1594 3 view .LVU945
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2726              		.loc 1 1596 3 view .LVU946
 2727 0084 DCF80020 		ldr	r2, [ip]
 2728 0088 5368     		ldr	r3, [r2, #4]
 2729 008a 43F06003 		orr	r3, r3, #96
 2730 008e 5360     		str	r3, [r2, #4]
1598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2731              		.loc 1 1598 3 view .LVU947
 2732              	.LVL147:
 2733              	.L187:
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2734              		.loc 1 1599 1 is_stmt 0 view .LVU948
 2735 0090 10BD     		pop	{r4, pc}
 2736              	.LVL148:
 2737              	.L199:
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2738              		.loc 1 1529 5 is_stmt 1 view .LVU949
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2739              		.loc 1 1529 17 is_stmt 0 view .LVU950
 2740 0092 0423     		movs	r3, #4
 2741 0094 8CF85130 		strb	r3, [ip, #81]
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2742              		.loc 1 1531 5 is_stmt 1 view .LVU951
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2743              		.loc 1 1531 12 is_stmt 0 view .LVU952
 2744 0098 1346     		mov	r3, r2
 2745 009a 0A46     		mov	r2, r1
 2746              	.LVL149:
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2747              		.loc 1 1531 12 view .LVU953
 2748 009c 6046     		mov	r0, ip
 2749 009e FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 2750              	.LVL150:
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2751              		.loc 1 1531 12 view .LVU954
 2752 00a2 F5E7     		b	.L187
 2753              	.LVL151:
 2754              	.L189:
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2755              		.loc 1 1563 5 is_stmt 1 view .LVU955
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2756              		.loc 1 1563 17 is_stmt 0 view .LVU956
 2757 00a4 0B4B     		ldr	r3, .L201+4
 2758 00a6 CCF84030 		str	r3, [ip, #64]
 2759 00aa DBE7     		b	.L190
 2760              	.L200:
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
ARM GAS  /tmp/cc0VKmst.s 			page 135


 2761              		.loc 1 1570 5 is_stmt 1 view .LVU957
 2762 00ac DCF80020 		ldr	r2, [ip]
 2763              	.LVL152:
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2764              		.loc 1 1570 5 is_stmt 0 view .LVU958
 2765 00b0 1368     		ldr	r3, [r2]
 2766 00b2 23F04003 		bic	r3, r3, #64
 2767 00b6 1360     		str	r3, [r2]
 2768              	.LVL153:
1571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2769              		.loc 1 1571 5 is_stmt 1 view .LVU959
 2770 00b8 DCF80020 		ldr	r2, [ip]
 2771 00bc 1368     		ldr	r3, [r2]
 2772 00be 23F48043 		bic	r3, r3, #16384
 2773 00c2 1360     		str	r3, [r2]
 2774 00c4 D1E7     		b	.L191
 2775              	.LVL154:
 2776              	.L193:
 2777              	.LCFI38:
 2778              		.cfi_def_cfa_offset 0
 2779              		.cfi_restore 4
 2780              		.cfi_restore 14
1524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2781              		.loc 1 1524 12 is_stmt 0 view .LVU960
 2782 00c6 0220     		movs	r0, #2
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2783              		.loc 1 1599 1 view .LVU961
 2784 00c8 7047     		bx	lr
 2785              	.L194:
 2786              	.LCFI39:
 2787              		.cfi_def_cfa_offset 8
 2788              		.cfi_offset 4, -8
 2789              		.cfi_offset 14, -4
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2790              		.loc 1 1541 3 view .LVU962
 2791 00ca 0220     		movs	r0, #2
 2792 00cc E0E7     		b	.L187
 2793              	.L202:
 2794 00ce 00BF     		.align	2
 2795              	.L201:
 2796 00d0 00000000 		.word	SPI_RxISR_16BIT
 2797 00d4 00000000 		.word	SPI_RxISR_8BIT
 2798              		.cfi_endproc
 2799              	.LFE73:
 2801              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 2802              		.align	1
 2803              		.global	HAL_SPI_Transmit_DMA
 2804              		.syntax unified
 2805              		.thumb
 2806              		.thumb_func
 2807              		.fpu softvfp
 2809              	HAL_SPI_Transmit_DMA:
 2810              	.LVL155:
 2811              	.LFB75:
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2812              		.loc 1 1698 1 is_stmt 1 view -0
 2813              		.cfi_startproc
ARM GAS  /tmp/cc0VKmst.s 			page 136


 2814              		@ args = 0, pretend = 0, frame = 0
 2815              		@ frame_needed = 0, uses_anonymous_args = 0
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2816              		.loc 1 1698 1 is_stmt 0 view .LVU964
 2817 0000 38B5     		push	{r3, r4, r5, lr}
 2818              	.LCFI40:
 2819              		.cfi_def_cfa_offset 16
 2820              		.cfi_offset 3, -16
 2821              		.cfi_offset 4, -12
 2822              		.cfi_offset 5, -8
 2823              		.cfi_offset 14, -4
1701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2824              		.loc 1 1701 3 is_stmt 1 view .LVU965
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2825              		.loc 1 1704 3 view .LVU966
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2826              		.loc 1 1706 3 view .LVU967
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2827              		.loc 1 1706 11 is_stmt 0 view .LVU968
 2828 0002 90F85150 		ldrb	r5, [r0, #81]	@ zero_extendqisi2
 2829 0006 EDB2     		uxtb	r5, r5
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2830              		.loc 1 1706 6 view .LVU969
 2831 0008 012D     		cmp	r5, #1
 2832 000a 5DD1     		bne	.L208
 2833 000c 0446     		mov	r4, r0
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2834              		.loc 1 1711 3 is_stmt 1 view .LVU970
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2835              		.loc 1 1711 6 is_stmt 0 view .LVU971
 2836 000e 0029     		cmp	r1, #0
 2837 0010 5BD0     		beq	.L204
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2838              		.loc 1 1711 23 discriminator 1 view .LVU972
 2839 0012 002A     		cmp	r2, #0
 2840 0014 59D0     		beq	.L204
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2841              		.loc 1 1717 3 is_stmt 1 view .LVU973
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2842              		.loc 1 1717 3 view .LVU974
 2843 0016 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2844 001a 012B     		cmp	r3, #1
 2845 001c 57D0     		beq	.L209
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2846              		.loc 1 1717 3 discriminator 2 view .LVU975
 2847 001e 0123     		movs	r3, #1
 2848 0020 80F85030 		strb	r3, [r0, #80]
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2849              		.loc 1 1717 3 discriminator 2 view .LVU976
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2850              		.loc 1 1720 3 discriminator 2 view .LVU977
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2851              		.loc 1 1720 21 is_stmt 0 discriminator 2 view .LVU978
 2852 0024 0323     		movs	r3, #3
 2853 0026 80F85130 		strb	r3, [r0, #81]
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2854              		.loc 1 1721 3 is_stmt 1 discriminator 2 view .LVU979
ARM GAS  /tmp/cc0VKmst.s 			page 137


1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2855              		.loc 1 1721 21 is_stmt 0 discriminator 2 view .LVU980
 2856 002a 0023     		movs	r3, #0
 2857 002c 4365     		str	r3, [r0, #84]
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2858              		.loc 1 1722 3 is_stmt 1 discriminator 2 view .LVU981
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2859              		.loc 1 1722 21 is_stmt 0 discriminator 2 view .LVU982
 2860 002e 0163     		str	r1, [r0, #48]
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2861              		.loc 1 1723 3 is_stmt 1 discriminator 2 view .LVU983
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2862              		.loc 1 1723 21 is_stmt 0 discriminator 2 view .LVU984
 2863 0030 8286     		strh	r2, [r0, #52]	@ movhi
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2864              		.loc 1 1724 3 is_stmt 1 discriminator 2 view .LVU985
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2865              		.loc 1 1724 21 is_stmt 0 discriminator 2 view .LVU986
 2866 0032 C286     		strh	r2, [r0, #54]	@ movhi
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2867              		.loc 1 1727 3 is_stmt 1 discriminator 2 view .LVU987
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2868              		.loc 1 1727 21 is_stmt 0 discriminator 2 view .LVU988
 2869 0034 8363     		str	r3, [r0, #56]
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2870              		.loc 1 1728 3 is_stmt 1 discriminator 2 view .LVU989
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2871              		.loc 1 1728 21 is_stmt 0 discriminator 2 view .LVU990
 2872 0036 4364     		str	r3, [r0, #68]
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2873              		.loc 1 1729 3 is_stmt 1 discriminator 2 view .LVU991
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2874              		.loc 1 1729 21 is_stmt 0 discriminator 2 view .LVU992
 2875 0038 0364     		str	r3, [r0, #64]
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2876              		.loc 1 1730 3 is_stmt 1 discriminator 2 view .LVU993
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2877              		.loc 1 1730 21 is_stmt 0 discriminator 2 view .LVU994
 2878 003a 8387     		strh	r3, [r0, #60]	@ movhi
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2879              		.loc 1 1731 3 is_stmt 1 discriminator 2 view .LVU995
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2880              		.loc 1 1731 21 is_stmt 0 discriminator 2 view .LVU996
 2881 003c C387     		strh	r3, [r0, #62]	@ movhi
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2882              		.loc 1 1734 3 is_stmt 1 discriminator 2 view .LVU997
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2883              		.loc 1 1734 17 is_stmt 0 discriminator 2 view .LVU998
 2884 003e 8368     		ldr	r3, [r0, #8]
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2885              		.loc 1 1734 6 discriminator 2 view .LVU999
 2886 0040 B3F5004F 		cmp	r3, #32768
 2887 0044 2DD0     		beq	.L211
 2888              	.LVL156:
 2889              	.L205:
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2890              		.loc 1 1750 3 is_stmt 1 view .LVU1000
ARM GAS  /tmp/cc0VKmst.s 			page 138


1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2891              		.loc 1 1750 7 is_stmt 0 view .LVU1001
 2892 0046 A36C     		ldr	r3, [r4, #72]
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2893              		.loc 1 1750 38 view .LVU1002
 2894 0048 224A     		ldr	r2, .L213
 2895 004a DA62     		str	r2, [r3, #44]
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2896              		.loc 1 1753 3 is_stmt 1 view .LVU1003
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2897              		.loc 1 1753 7 is_stmt 0 view .LVU1004
 2898 004c A36C     		ldr	r3, [r4, #72]
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2899              		.loc 1 1753 34 view .LVU1005
 2900 004e 224A     		ldr	r2, .L213+4
 2901 0050 9A62     		str	r2, [r3, #40]
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2902              		.loc 1 1756 3 is_stmt 1 view .LVU1006
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2903              		.loc 1 1756 7 is_stmt 0 view .LVU1007
 2904 0052 A36C     		ldr	r3, [r4, #72]
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2905              		.loc 1 1756 35 view .LVU1008
 2906 0054 214A     		ldr	r2, .L213+8
 2907 0056 1A63     		str	r2, [r3, #48]
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2908              		.loc 1 1759 3 is_stmt 1 view .LVU1009
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2909              		.loc 1 1759 7 is_stmt 0 view .LVU1010
 2910 0058 A36C     		ldr	r3, [r4, #72]
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2911              		.loc 1 1759 35 view .LVU1011
 2912 005a 0022     		movs	r2, #0
 2913 005c 5A63     		str	r2, [r3, #52]
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2914              		.loc 1 1762 3 is_stmt 1 view .LVU1012
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2915              		.loc 1 1762 91 is_stmt 0 view .LVU1013
 2916 005e 2268     		ldr	r2, [r4]
1763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2917              		.loc 1 1763 38 view .LVU1014
 2918 0060 E38E     		ldrh	r3, [r4, #54]
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2919              		.loc 1 1762 17 view .LVU1015
 2920 0062 9BB2     		uxth	r3, r3
 2921 0064 0C32     		adds	r2, r2, #12
 2922 0066 216B     		ldr	r1, [r4, #48]
 2923              	.LVL157:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2924              		.loc 1 1762 17 view .LVU1016
 2925 0068 A06C     		ldr	r0, [r4, #72]
 2926              	.LVL158:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2927              		.loc 1 1762 17 view .LVU1017
 2928 006a FFF7FEFF 		bl	HAL_DMA_Start_IT
 2929              	.LVL159:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
ARM GAS  /tmp/cc0VKmst.s 			page 139


 2930              		.loc 1 1762 6 view .LVU1018
 2931 006e 0146     		mov	r1, r0
 2932 0070 10BB     		cbnz	r0, .L212
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2933              		.loc 1 1773 3 is_stmt 1 view .LVU1019
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2934              		.loc 1 1773 12 is_stmt 0 view .LVU1020
 2935 0072 2368     		ldr	r3, [r4]
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2936              		.loc 1 1773 22 view .LVU1021
 2937 0074 1A68     		ldr	r2, [r3]
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2938              		.loc 1 1773 6 view .LVU1022
 2939 0076 12F0400F 		tst	r2, #64
 2940 007a 03D1     		bne	.L207
1776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2941              		.loc 1 1776 5 is_stmt 1 view .LVU1023
 2942 007c 1A68     		ldr	r2, [r3]
 2943 007e 42F04002 		orr	r2, r2, #64
 2944 0082 1A60     		str	r2, [r3]
 2945              	.L207:
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2946              		.loc 1 1780 3 view .LVU1024
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2947              		.loc 1 1780 3 view .LVU1025
 2948 0084 0023     		movs	r3, #0
 2949 0086 84F85030 		strb	r3, [r4, #80]
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2950              		.loc 1 1780 3 view .LVU1026
1783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2951              		.loc 1 1783 3 view .LVU1027
 2952 008a 2268     		ldr	r2, [r4]
 2953 008c 5368     		ldr	r3, [r2, #4]
 2954 008e 43F02003 		orr	r3, r3, #32
 2955 0092 5360     		str	r3, [r2, #4]
1786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2956              		.loc 1 1786 3 view .LVU1028
 2957 0094 2268     		ldr	r2, [r4]
 2958 0096 5368     		ldr	r3, [r2, #4]
 2959 0098 43F00203 		orr	r3, r3, #2
 2960 009c 5360     		str	r3, [r2, #4]
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2961              		.loc 1 1788 3 view .LVU1029
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2962              		.loc 1 1788 10 is_stmt 0 view .LVU1030
 2963 009e 0D46     		mov	r5, r1
 2964 00a0 13E0     		b	.L204
 2965              	.LVL160:
 2966              	.L211:
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2967              		.loc 1 1737 5 is_stmt 1 view .LVU1031
 2968 00a2 0268     		ldr	r2, [r0]
 2969              	.LVL161:
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2970              		.loc 1 1737 5 is_stmt 0 view .LVU1032
 2971 00a4 1368     		ldr	r3, [r2]
 2972 00a6 23F04003 		bic	r3, r3, #64
ARM GAS  /tmp/cc0VKmst.s 			page 140


 2973 00aa 1360     		str	r3, [r2]
 2974              	.LVL162:
1738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2975              		.loc 1 1738 5 is_stmt 1 view .LVU1033
 2976 00ac 0268     		ldr	r2, [r0]
 2977 00ae 1368     		ldr	r3, [r2]
 2978 00b0 43F48043 		orr	r3, r3, #16384
 2979 00b4 1360     		str	r3, [r2]
 2980 00b6 C6E7     		b	.L205
 2981              	.LVL163:
 2982              	.L212:
1766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 2983              		.loc 1 1766 5 view .LVU1034
 2984 00b8 636D     		ldr	r3, [r4, #84]
 2985 00ba 43F01003 		orr	r3, r3, #16
 2986 00be 6365     		str	r3, [r4, #84]
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 2987              		.loc 1 1768 5 view .LVU1035
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 2988              		.loc 1 1768 5 view .LVU1036
 2989 00c0 0023     		movs	r3, #0
 2990 00c2 84F85030 		strb	r3, [r4, #80]
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 2991              		.loc 1 1768 5 view .LVU1037
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2992              		.loc 1 1769 5 view .LVU1038
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2993              		.loc 1 1769 12 is_stmt 0 view .LVU1039
 2994 00c6 00E0     		b	.L204
 2995              	.LVL164:
 2996              	.L208:
1708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2997              		.loc 1 1708 12 view .LVU1040
 2998 00c8 0225     		movs	r5, #2
 2999              	.LVL165:
 3000              	.L204:
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3001              		.loc 1 1789 1 view .LVU1041
 3002 00ca 2846     		mov	r0, r5
 3003 00cc 38BD     		pop	{r3, r4, r5, pc}
 3004              	.LVL166:
 3005              	.L209:
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3006              		.loc 1 1717 3 view .LVU1042
 3007 00ce 0225     		movs	r5, #2
 3008 00d0 FBE7     		b	.L204
 3009              	.L214:
 3010 00d2 00BF     		.align	2
 3011              	.L213:
 3012 00d4 00000000 		.word	SPI_DMAHalfTransmitCplt
 3013 00d8 00000000 		.word	SPI_DMATransmitCplt
 3014 00dc 00000000 		.word	SPI_DMAError
 3015              		.cfi_endproc
 3016              	.LFE75:
 3018              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 3019              		.align	1
 3020              		.global	HAL_SPI_TransmitReceive_DMA
ARM GAS  /tmp/cc0VKmst.s 			page 141


 3021              		.syntax unified
 3022              		.thumb
 3023              		.thumb_func
 3024              		.fpu softvfp
 3026              	HAL_SPI_TransmitReceive_DMA:
 3027              	.LVL167:
 3028              	.LFB77:
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 3029              		.loc 1 1913 1 is_stmt 1 view -0
 3030              		.cfi_startproc
 3031              		@ args = 0, pretend = 0, frame = 0
 3032              		@ frame_needed = 0, uses_anonymous_args = 0
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 3033              		.loc 1 1913 1 is_stmt 0 view .LVU1044
 3034 0000 38B5     		push	{r3, r4, r5, lr}
 3035              	.LCFI41:
 3036              		.cfi_def_cfa_offset 16
 3037              		.cfi_offset 3, -16
 3038              		.cfi_offset 4, -12
 3039              		.cfi_offset 5, -8
 3040              		.cfi_offset 14, -4
 3041 0002 0446     		mov	r4, r0
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 3042              		.loc 1 1914 3 is_stmt 1 view .LVU1045
1915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3043              		.loc 1 1915 3 view .LVU1046
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 3044              		.loc 1 1918 3 view .LVU1047
1919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3045              		.loc 1 1919 3 view .LVU1048
1922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3046              		.loc 1 1922 3 view .LVU1049
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3047              		.loc 1 1925 3 view .LVU1050
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3048              		.loc 1 1925 23 is_stmt 0 view .LVU1051
 3049 0004 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 3050              	.LVL168:
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3051              		.loc 1 1925 23 view .LVU1052
 3052 0008 C0B2     		uxtb	r0, r0
 3053              	.LVL169:
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3054              		.loc 1 1926 3 is_stmt 1 view .LVU1053
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3055              		.loc 1 1926 23 is_stmt 0 view .LVU1054
 3056 000a 6568     		ldr	r5, [r4, #4]
 3057              	.LVL170:
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3058              		.loc 1 1928 3 is_stmt 1 view .LVU1055
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3059              		.loc 1 1928 6 is_stmt 0 view .LVU1056
 3060 000c 0128     		cmp	r0, #1
 3061 000e 0AD0     		beq	.L216
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3062              		.loc 1 1928 7 discriminator 1 view .LVU1057
 3063 0010 B5F5827F 		cmp	r5, #260
ARM GAS  /tmp/cc0VKmst.s 			page 142


 3064 0014 40F08B80 		bne	.L224
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 3065              		.loc 1 1929 54 view .LVU1058
 3066 0018 A568     		ldr	r5, [r4, #8]
 3067              	.LVL171:
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 3068              		.loc 1 1929 40 view .LVU1059
 3069 001a 002D     		cmp	r5, #0
 3070 001c 40F08980 		bne	.L225
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 3071              		.loc 1 1929 90 discriminator 1 view .LVU1060
 3072 0020 0428     		cmp	r0, #4
 3073 0022 40F08880 		bne	.L226
 3074              	.L216:
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3075              		.loc 1 1935 3 is_stmt 1 view .LVU1061
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3076              		.loc 1 1935 6 is_stmt 0 view .LVU1062
 3077 0026 0029     		cmp	r1, #0
 3078 0028 00F08780 		beq	.L227
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3079              		.loc 1 1935 25 discriminator 1 view .LVU1063
 3080 002c 002A     		cmp	r2, #0
 3081 002e 00F08680 		beq	.L228
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3082              		.loc 1 1935 46 discriminator 2 view .LVU1064
 3083 0032 002B     		cmp	r3, #0
 3084 0034 00F08580 		beq	.L229
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3085              		.loc 1 1941 3 is_stmt 1 view .LVU1065
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3086              		.loc 1 1941 3 view .LVU1066
 3087 0038 94F85000 		ldrb	r0, [r4, #80]	@ zero_extendqisi2
 3088              	.LVL172:
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3089              		.loc 1 1941 3 is_stmt 0 view .LVU1067
 3090 003c 0128     		cmp	r0, #1
 3091 003e 00F08280 		beq	.L230
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3092              		.loc 1 1941 3 is_stmt 1 discriminator 2 view .LVU1068
 3093 0042 0120     		movs	r0, #1
 3094 0044 84F85000 		strb	r0, [r4, #80]
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3095              		.loc 1 1941 3 discriminator 2 view .LVU1069
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3096              		.loc 1 1944 3 discriminator 2 view .LVU1070
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3097              		.loc 1 1944 11 is_stmt 0 discriminator 2 view .LVU1071
 3098 0048 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 3099 004c C0B2     		uxtb	r0, r0
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3100              		.loc 1 1944 6 discriminator 2 view .LVU1072
 3101 004e 0428     		cmp	r0, #4
 3102 0050 02D0     		beq	.L218
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3103              		.loc 1 1946 5 is_stmt 1 view .LVU1073
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/cc0VKmst.s 			page 143


 3104              		.loc 1 1946 17 is_stmt 0 view .LVU1074
 3105 0052 0520     		movs	r0, #5
 3106 0054 84F85100 		strb	r0, [r4, #81]
 3107              	.L218:
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 3108              		.loc 1 1950 3 is_stmt 1 view .LVU1075
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 3109              		.loc 1 1950 21 is_stmt 0 view .LVU1076
 3110 0058 0020     		movs	r0, #0
 3111 005a 6065     		str	r0, [r4, #84]
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3112              		.loc 1 1951 3 is_stmt 1 view .LVU1077
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3113              		.loc 1 1951 21 is_stmt 0 view .LVU1078
 3114 005c 2163     		str	r1, [r4, #48]
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3115              		.loc 1 1952 3 is_stmt 1 view .LVU1079
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3116              		.loc 1 1952 21 is_stmt 0 view .LVU1080
 3117 005e A386     		strh	r3, [r4, #52]	@ movhi
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3118              		.loc 1 1953 3 is_stmt 1 view .LVU1081
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3119              		.loc 1 1953 21 is_stmt 0 view .LVU1082
 3120 0060 E386     		strh	r3, [r4, #54]	@ movhi
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3121              		.loc 1 1954 3 is_stmt 1 view .LVU1083
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3122              		.loc 1 1954 21 is_stmt 0 view .LVU1084
 3123 0062 A263     		str	r2, [r4, #56]
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3124              		.loc 1 1955 3 is_stmt 1 view .LVU1085
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3125              		.loc 1 1955 21 is_stmt 0 view .LVU1086
 3126 0064 A387     		strh	r3, [r4, #60]	@ movhi
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3127              		.loc 1 1956 3 is_stmt 1 view .LVU1087
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3128              		.loc 1 1956 21 is_stmt 0 view .LVU1088
 3129 0066 E387     		strh	r3, [r4, #62]	@ movhi
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3130              		.loc 1 1959 3 is_stmt 1 view .LVU1089
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3131              		.loc 1 1959 21 is_stmt 0 view .LVU1090
 3132 0068 2064     		str	r0, [r4, #64]
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3133              		.loc 1 1960 3 is_stmt 1 view .LVU1091
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3134              		.loc 1 1960 21 is_stmt 0 view .LVU1092
 3135 006a 6064     		str	r0, [r4, #68]
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3136              		.loc 1 1971 3 is_stmt 1 view .LVU1093
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3137              		.loc 1 1971 11 is_stmt 0 view .LVU1094
 3138 006c 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3139              	.LVL173:
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 144


 3140              		.loc 1 1971 11 view .LVU1095
 3141 0070 DBB2     		uxtb	r3, r3
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3142              		.loc 1 1971 6 view .LVU1096
 3143 0072 042B     		cmp	r3, #4
 3144 0074 1DD0     		beq	.L232
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3145              		.loc 1 1980 5 is_stmt 1 view .LVU1097
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3146              		.loc 1 1980 9 is_stmt 0 view .LVU1098
 3147 0076 E36C     		ldr	r3, [r4, #76]
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3148              		.loc 1 1980 40 view .LVU1099
 3149 0078 344A     		ldr	r2, .L234
 3150              	.LVL174:
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3151              		.loc 1 1980 40 view .LVU1100
 3152 007a DA62     		str	r2, [r3, #44]
 3153              	.LVL175:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3154              		.loc 1 1981 5 is_stmt 1 view .LVU1101
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3155              		.loc 1 1981 9 is_stmt 0 view .LVU1102
 3156 007c E36C     		ldr	r3, [r4, #76]
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3157              		.loc 1 1981 40 view .LVU1103
 3158 007e 344A     		ldr	r2, .L234+4
 3159 0080 9A62     		str	r2, [r3, #40]
 3160              	.L220:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3161              		.loc 1 1985 3 is_stmt 1 view .LVU1104
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3162              		.loc 1 1985 7 is_stmt 0 view .LVU1105
 3163 0082 E36C     		ldr	r3, [r4, #76]
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3164              		.loc 1 1985 35 view .LVU1106
 3165 0084 334A     		ldr	r2, .L234+8
 3166 0086 1A63     		str	r2, [r3, #48]
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3167              		.loc 1 1988 3 is_stmt 1 view .LVU1107
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3168              		.loc 1 1988 7 is_stmt 0 view .LVU1108
 3169 0088 E36C     		ldr	r3, [r4, #76]
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3170              		.loc 1 1988 35 view .LVU1109
 3171 008a 0022     		movs	r2, #0
 3172 008c 5A63     		str	r2, [r3, #52]
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3173              		.loc 1 1991 3 is_stmt 1 view .LVU1110
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3174              		.loc 1 1991 63 is_stmt 0 view .LVU1111
 3175 008e 2168     		ldr	r1, [r4]
 3176              	.LVL176:
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3177              		.loc 1 1992 38 view .LVU1112
 3178 0090 E38F     		ldrh	r3, [r4, #62]
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
ARM GAS  /tmp/cc0VKmst.s 			page 145


 3179              		.loc 1 1991 17 view .LVU1113
 3180 0092 9BB2     		uxth	r3, r3
 3181 0094 A26B     		ldr	r2, [r4, #56]
 3182 0096 0C31     		adds	r1, r1, #12
 3183 0098 E06C     		ldr	r0, [r4, #76]
 3184 009a FFF7FEFF 		bl	HAL_DMA_Start_IT
 3185              	.LVL177:
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3186              		.loc 1 1991 6 view .LVU1114
 3187 009e 78B1     		cbz	r0, .L221
1995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 3188              		.loc 1 1995 5 is_stmt 1 view .LVU1115
 3189 00a0 636D     		ldr	r3, [r4, #84]
 3190 00a2 43F01003 		orr	r3, r3, #16
 3191 00a6 6365     		str	r3, [r4, #84]
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3192              		.loc 1 1997 5 view .LVU1116
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3193              		.loc 1 1997 5 view .LVU1117
 3194 00a8 0023     		movs	r3, #0
 3195 00aa 84F85030 		strb	r3, [r4, #80]
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3196              		.loc 1 1997 5 view .LVU1118
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3197              		.loc 1 1998 5 view .LVU1119
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3198              		.loc 1 1998 12 is_stmt 0 view .LVU1120
 3199 00ae 0120     		movs	r0, #1
 3200 00b0 3EE0     		b	.L217
 3201              	.LVL178:
 3202              	.L232:
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3203              		.loc 1 1974 5 is_stmt 1 view .LVU1121
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3204              		.loc 1 1974 9 is_stmt 0 view .LVU1122
 3205 00b2 E36C     		ldr	r3, [r4, #76]
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3206              		.loc 1 1974 40 view .LVU1123
 3207 00b4 284A     		ldr	r2, .L234+12
 3208              	.LVL179:
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3209              		.loc 1 1974 40 view .LVU1124
 3210 00b6 DA62     		str	r2, [r3, #44]
 3211              	.LVL180:
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3212              		.loc 1 1975 5 is_stmt 1 view .LVU1125
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3213              		.loc 1 1975 9 is_stmt 0 view .LVU1126
 3214 00b8 E36C     		ldr	r3, [r4, #76]
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3215              		.loc 1 1975 40 view .LVU1127
 3216 00ba 284A     		ldr	r2, .L234+16
 3217 00bc 9A62     		str	r2, [r3, #40]
 3218 00be E0E7     		b	.L220
 3219              	.LVL181:
 3220              	.L221:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 146


 3221              		.loc 1 2002 3 is_stmt 1 view .LVU1128
 3222 00c0 2268     		ldr	r2, [r4]
 3223 00c2 5368     		ldr	r3, [r2, #4]
 3224 00c4 43F00103 		orr	r3, r3, #1
 3225 00c8 5360     		str	r3, [r2, #4]
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3226              		.loc 1 2006 3 view .LVU1129
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3227              		.loc 1 2006 7 is_stmt 0 view .LVU1130
 3228 00ca A26C     		ldr	r2, [r4, #72]
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3229              		.loc 1 2006 38 view .LVU1131
 3230 00cc 0023     		movs	r3, #0
 3231 00ce D362     		str	r3, [r2, #44]
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3232              		.loc 1 2007 3 is_stmt 1 view .LVU1132
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3233              		.loc 1 2007 7 is_stmt 0 view .LVU1133
 3234 00d0 A26C     		ldr	r2, [r4, #72]
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3235              		.loc 1 2007 38 view .LVU1134
 3236 00d2 9362     		str	r3, [r2, #40]
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3237              		.loc 1 2008 3 is_stmt 1 view .LVU1135
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3238              		.loc 1 2008 7 is_stmt 0 view .LVU1136
 3239 00d4 A26C     		ldr	r2, [r4, #72]
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3240              		.loc 1 2008 38 view .LVU1137
 3241 00d6 1363     		str	r3, [r2, #48]
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3242              		.loc 1 2009 3 is_stmt 1 view .LVU1138
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3243              		.loc 1 2009 7 is_stmt 0 view .LVU1139
 3244 00d8 A26C     		ldr	r2, [r4, #72]
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3245              		.loc 1 2009 38 view .LVU1140
 3246 00da 5363     		str	r3, [r2, #52]
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3247              		.loc 1 2012 3 is_stmt 1 view .LVU1141
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3248              		.loc 1 2012 91 is_stmt 0 view .LVU1142
 3249 00dc 2268     		ldr	r2, [r4]
2013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3250              		.loc 1 2013 38 view .LVU1143
 3251 00de E38E     		ldrh	r3, [r4, #54]
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3252              		.loc 1 2012 17 view .LVU1144
 3253 00e0 9BB2     		uxth	r3, r3
 3254 00e2 0C32     		adds	r2, r2, #12
 3255 00e4 216B     		ldr	r1, [r4, #48]
 3256 00e6 A06C     		ldr	r0, [r4, #72]
 3257 00e8 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3258              	.LVL182:
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3259              		.loc 1 2012 6 view .LVU1145
 3260 00ec B0B9     		cbnz	r0, .L233
ARM GAS  /tmp/cc0VKmst.s 			page 147


2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3261              		.loc 1 2023 3 is_stmt 1 view .LVU1146
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3262              		.loc 1 2023 12 is_stmt 0 view .LVU1147
 3263 00ee 2368     		ldr	r3, [r4]
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3264              		.loc 1 2023 22 view .LVU1148
 3265 00f0 1A68     		ldr	r2, [r3]
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3266              		.loc 1 2023 6 view .LVU1149
 3267 00f2 12F0400F 		tst	r2, #64
 3268 00f6 03D1     		bne	.L223
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3269              		.loc 1 2026 5 is_stmt 1 view .LVU1150
 3270 00f8 1A68     		ldr	r2, [r3]
 3271 00fa 42F04002 		orr	r2, r2, #64
 3272 00fe 1A60     		str	r2, [r3]
 3273              	.L223:
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3274              		.loc 1 2030 3 view .LVU1151
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3275              		.loc 1 2030 3 view .LVU1152
 3276 0100 0023     		movs	r3, #0
 3277 0102 84F85030 		strb	r3, [r4, #80]
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3278              		.loc 1 2030 3 view .LVU1153
2033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3279              		.loc 1 2033 3 view .LVU1154
 3280 0106 2268     		ldr	r2, [r4]
 3281 0108 5368     		ldr	r3, [r2, #4]
 3282 010a 43F02003 		orr	r3, r3, #32
 3283 010e 5360     		str	r3, [r2, #4]
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3284              		.loc 1 2036 3 view .LVU1155
 3285 0110 2268     		ldr	r2, [r4]
 3286 0112 5368     		ldr	r3, [r2, #4]
 3287 0114 43F00203 		orr	r3, r3, #2
 3288 0118 5360     		str	r3, [r2, #4]
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3289              		.loc 1 2038 3 view .LVU1156
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3290              		.loc 1 2038 10 is_stmt 0 view .LVU1157
 3291 011a 09E0     		b	.L217
 3292              	.L233:
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 3293              		.loc 1 2016 5 is_stmt 1 view .LVU1158
 3294 011c 636D     		ldr	r3, [r4, #84]
 3295 011e 43F01003 		orr	r3, r3, #16
 3296 0122 6365     		str	r3, [r4, #84]
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3297              		.loc 1 2018 5 view .LVU1159
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3298              		.loc 1 2018 5 view .LVU1160
 3299 0124 0023     		movs	r3, #0
 3300 0126 84F85030 		strb	r3, [r4, #80]
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3301              		.loc 1 2018 5 view .LVU1161
ARM GAS  /tmp/cc0VKmst.s 			page 148


2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3302              		.loc 1 2019 5 view .LVU1162
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3303              		.loc 1 2019 12 is_stmt 0 view .LVU1163
 3304 012a 0120     		movs	r0, #1
 3305 012c 00E0     		b	.L217
 3306              	.LVL183:
 3307              	.L224:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3308              		.loc 1 1932 12 view .LVU1164
 3309 012e 0220     		movs	r0, #2
 3310              	.LVL184:
 3311              	.L217:
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3312              		.loc 1 2039 1 view .LVU1165
 3313 0130 38BD     		pop	{r3, r4, r5, pc}
 3314              	.LVL185:
 3315              	.L225:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3316              		.loc 1 1932 12 view .LVU1166
 3317 0132 0220     		movs	r0, #2
 3318              	.LVL186:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3319              		.loc 1 1932 12 view .LVU1167
 3320 0134 FCE7     		b	.L217
 3321              	.LVL187:
 3322              	.L226:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3323              		.loc 1 1932 12 view .LVU1168
 3324 0136 0220     		movs	r0, #2
 3325              	.LVL188:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3326              		.loc 1 1932 12 view .LVU1169
 3327 0138 FAE7     		b	.L217
 3328              	.LVL189:
 3329              	.L227:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3330              		.loc 1 1937 12 view .LVU1170
 3331 013a 0120     		movs	r0, #1
 3332              	.LVL190:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3333              		.loc 1 1937 12 view .LVU1171
 3334 013c F8E7     		b	.L217
 3335              	.LVL191:
 3336              	.L228:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3337              		.loc 1 1937 12 view .LVU1172
 3338 013e 0120     		movs	r0, #1
 3339              	.LVL192:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3340              		.loc 1 1937 12 view .LVU1173
 3341 0140 F6E7     		b	.L217
 3342              	.LVL193:
 3343              	.L229:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3344              		.loc 1 1937 12 view .LVU1174
 3345 0142 0120     		movs	r0, #1
ARM GAS  /tmp/cc0VKmst.s 			page 149


 3346              	.LVL194:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3347              		.loc 1 1937 12 view .LVU1175
 3348 0144 F4E7     		b	.L217
 3349              	.L230:
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3350              		.loc 1 1941 3 view .LVU1176
 3351 0146 0220     		movs	r0, #2
 3352 0148 F2E7     		b	.L217
 3353              	.L235:
 3354 014a 00BF     		.align	2
 3355              	.L234:
 3356 014c 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 3357 0150 00000000 		.word	SPI_DMATransmitReceiveCplt
 3358 0154 00000000 		.word	SPI_DMAError
 3359 0158 00000000 		.word	SPI_DMAHalfReceiveCplt
 3360 015c 00000000 		.word	SPI_DMAReceiveCplt
 3361              		.cfi_endproc
 3362              	.LFE77:
 3364              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 3365              		.align	1
 3366              		.global	HAL_SPI_Receive_DMA
 3367              		.syntax unified
 3368              		.thumb
 3369              		.thumb_func
 3370              		.fpu softvfp
 3372              	HAL_SPI_Receive_DMA:
 3373              	.LVL195:
 3374              	.LFB76:
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx dma handle */
 3375              		.loc 1 1802 1 is_stmt 1 view -0
 3376              		.cfi_startproc
 3377              		@ args = 0, pretend = 0, frame = 0
 3378              		@ frame_needed = 0, uses_anonymous_args = 0
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx dma handle */
 3379              		.loc 1 1802 1 is_stmt 0 view .LVU1178
 3380 0000 38B5     		push	{r3, r4, r5, lr}
 3381              	.LCFI42:
 3382              		.cfi_def_cfa_offset 16
 3383              		.cfi_offset 3, -16
 3384              		.cfi_offset 4, -12
 3385              		.cfi_offset 5, -8
 3386              		.cfi_offset 14, -4
1804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3387              		.loc 1 1804 3 is_stmt 1 view .LVU1179
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3388              		.loc 1 1806 3 view .LVU1180
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3389              		.loc 1 1806 11 is_stmt 0 view .LVU1181
 3390 0002 90F85150 		ldrb	r5, [r0, #81]	@ zero_extendqisi2
 3391 0006 EDB2     		uxtb	r5, r5
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3392              		.loc 1 1806 6 view .LVU1182
 3393 0008 012D     		cmp	r5, #1
 3394 000a 6BD1     		bne	.L242
 3395 000c 0446     		mov	r4, r0
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 150


 3396              		.loc 1 1811 3 is_stmt 1 view .LVU1183
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3397              		.loc 1 1811 18 is_stmt 0 view .LVU1184
 3398 000e 8068     		ldr	r0, [r0, #8]
 3399              	.LVL196:
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3400              		.loc 1 1811 6 view .LVU1185
 3401 0010 18B9     		cbnz	r0, .L238
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3402              		.loc 1 1811 68 discriminator 1 view .LVU1186
 3403 0012 6368     		ldr	r3, [r4, #4]
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3404              		.loc 1 1811 54 discriminator 1 view .LVU1187
 3405 0014 B3F5827F 		cmp	r3, #260
 3406 0018 47D0     		beq	.L245
 3407              	.L238:
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3408              		.loc 1 1822 3 is_stmt 1 view .LVU1188
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3409              		.loc 1 1822 6 is_stmt 0 view .LVU1189
 3410 001a 0029     		cmp	r1, #0
 3411 001c 63D0     		beq	.L237
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3412              		.loc 1 1822 23 discriminator 1 view .LVU1190
 3413 001e 002A     		cmp	r2, #0
 3414 0020 61D0     		beq	.L237
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3415              		.loc 1 1828 3 is_stmt 1 view .LVU1191
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3416              		.loc 1 1828 3 view .LVU1192
 3417 0022 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 3418 0026 012B     		cmp	r3, #1
 3419 0028 5FD0     		beq	.L243
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3420              		.loc 1 1828 3 discriminator 2 view .LVU1193
 3421 002a 0123     		movs	r3, #1
 3422 002c 84F85030 		strb	r3, [r4, #80]
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3423              		.loc 1 1828 3 discriminator 2 view .LVU1194
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3424              		.loc 1 1831 3 discriminator 2 view .LVU1195
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3425              		.loc 1 1831 21 is_stmt 0 discriminator 2 view .LVU1196
 3426 0030 0423     		movs	r3, #4
 3427 0032 84F85130 		strb	r3, [r4, #81]
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3428              		.loc 1 1832 3 is_stmt 1 discriminator 2 view .LVU1197
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3429              		.loc 1 1832 21 is_stmt 0 discriminator 2 view .LVU1198
 3430 0036 0023     		movs	r3, #0
 3431 0038 6365     		str	r3, [r4, #84]
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3432              		.loc 1 1833 3 is_stmt 1 discriminator 2 view .LVU1199
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3433              		.loc 1 1833 21 is_stmt 0 discriminator 2 view .LVU1200
 3434 003a A163     		str	r1, [r4, #56]
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
ARM GAS  /tmp/cc0VKmst.s 			page 151


 3435              		.loc 1 1834 3 is_stmt 1 discriminator 2 view .LVU1201
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3436              		.loc 1 1834 21 is_stmt 0 discriminator 2 view .LVU1202
 3437 003c A287     		strh	r2, [r4, #60]	@ movhi
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3438              		.loc 1 1835 3 is_stmt 1 discriminator 2 view .LVU1203
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3439              		.loc 1 1835 21 is_stmt 0 discriminator 2 view .LVU1204
 3440 003e E287     		strh	r2, [r4, #62]	@ movhi
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3441              		.loc 1 1838 3 is_stmt 1 discriminator 2 view .LVU1205
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3442              		.loc 1 1838 21 is_stmt 0 discriminator 2 view .LVU1206
 3443 0040 2364     		str	r3, [r4, #64]
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3444              		.loc 1 1839 3 is_stmt 1 discriminator 2 view .LVU1207
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3445              		.loc 1 1839 21 is_stmt 0 discriminator 2 view .LVU1208
 3446 0042 6364     		str	r3, [r4, #68]
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3447              		.loc 1 1840 3 is_stmt 1 discriminator 2 view .LVU1209
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3448              		.loc 1 1840 21 is_stmt 0 discriminator 2 view .LVU1210
 3449 0044 A386     		strh	r3, [r4, #52]	@ movhi
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3450              		.loc 1 1841 3 is_stmt 1 discriminator 2 view .LVU1211
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3451              		.loc 1 1841 21 is_stmt 0 discriminator 2 view .LVU1212
 3452 0046 E386     		strh	r3, [r4, #54]	@ movhi
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3453              		.loc 1 1844 3 is_stmt 1 discriminator 2 view .LVU1213
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3454              		.loc 1 1844 6 is_stmt 0 discriminator 2 view .LVU1214
 3455 0048 B0F5004F 		cmp	r0, #32768
 3456 004c 37D0     		beq	.L246
 3457              	.LVL197:
 3458              	.L239:
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3459              		.loc 1 1860 3 is_stmt 1 view .LVU1215
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3460              		.loc 1 1860 7 is_stmt 0 view .LVU1216
 3461 004e E36C     		ldr	r3, [r4, #76]
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3462              		.loc 1 1860 38 view .LVU1217
 3463 0050 274A     		ldr	r2, .L248
 3464 0052 DA62     		str	r2, [r3, #44]
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3465              		.loc 1 1863 3 is_stmt 1 view .LVU1218
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3466              		.loc 1 1863 7 is_stmt 0 view .LVU1219
 3467 0054 E36C     		ldr	r3, [r4, #76]
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3468              		.loc 1 1863 34 view .LVU1220
 3469 0056 274A     		ldr	r2, .L248+4
 3470 0058 9A62     		str	r2, [r3, #40]
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3471              		.loc 1 1866 3 is_stmt 1 view .LVU1221
ARM GAS  /tmp/cc0VKmst.s 			page 152


1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3472              		.loc 1 1866 7 is_stmt 0 view .LVU1222
 3473 005a E36C     		ldr	r3, [r4, #76]
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3474              		.loc 1 1866 35 view .LVU1223
 3475 005c 264A     		ldr	r2, .L248+8
 3476 005e 1A63     		str	r2, [r3, #48]
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3477              		.loc 1 1869 3 is_stmt 1 view .LVU1224
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3478              		.loc 1 1869 7 is_stmt 0 view .LVU1225
 3479 0060 E36C     		ldr	r3, [r4, #76]
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3480              		.loc 1 1869 35 view .LVU1226
 3481 0062 0022     		movs	r2, #0
 3482 0064 5A63     		str	r2, [r3, #52]
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3483              		.loc 1 1872 3 is_stmt 1 view .LVU1227
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3484              		.loc 1 1872 63 is_stmt 0 view .LVU1228
 3485 0066 2168     		ldr	r1, [r4]
 3486              	.LVL198:
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3487              		.loc 1 1873 38 view .LVU1229
 3488 0068 E38F     		ldrh	r3, [r4, #62]
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3489              		.loc 1 1872 17 view .LVU1230
 3490 006a 9BB2     		uxth	r3, r3
 3491 006c A26B     		ldr	r2, [r4, #56]
 3492 006e 0C31     		adds	r1, r1, #12
 3493 0070 E06C     		ldr	r0, [r4, #76]
 3494 0072 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3495              	.LVL199:
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3496              		.loc 1 1872 6 view .LVU1231
 3497 0076 0146     		mov	r1, r0
 3498 0078 60BB     		cbnz	r0, .L247
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3499              		.loc 1 1883 3 is_stmt 1 view .LVU1232
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3500              		.loc 1 1883 12 is_stmt 0 view .LVU1233
 3501 007a 2368     		ldr	r3, [r4]
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3502              		.loc 1 1883 22 view .LVU1234
 3503 007c 1A68     		ldr	r2, [r3]
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3504              		.loc 1 1883 6 view .LVU1235
 3505 007e 12F0400F 		tst	r2, #64
 3506 0082 03D1     		bne	.L241
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3507              		.loc 1 1886 5 is_stmt 1 view .LVU1236
 3508 0084 1A68     		ldr	r2, [r3]
 3509 0086 42F04002 		orr	r2, r2, #64
 3510 008a 1A60     		str	r2, [r3]
 3511              	.L241:
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3512              		.loc 1 1890 3 view .LVU1237
ARM GAS  /tmp/cc0VKmst.s 			page 153


1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3513              		.loc 1 1890 3 view .LVU1238
 3514 008c 0023     		movs	r3, #0
 3515 008e 84F85030 		strb	r3, [r4, #80]
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3516              		.loc 1 1890 3 view .LVU1239
1893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3517              		.loc 1 1893 3 view .LVU1240
 3518 0092 2268     		ldr	r2, [r4]
 3519 0094 5368     		ldr	r3, [r2, #4]
 3520 0096 43F02003 		orr	r3, r3, #32
 3521 009a 5360     		str	r3, [r2, #4]
1896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3522              		.loc 1 1896 3 view .LVU1241
 3523 009c 2268     		ldr	r2, [r4]
 3524 009e 5368     		ldr	r3, [r2, #4]
 3525 00a0 43F00103 		orr	r3, r3, #1
 3526 00a4 5360     		str	r3, [r2, #4]
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3527              		.loc 1 1898 3 view .LVU1242
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3528              		.loc 1 1898 10 is_stmt 0 view .LVU1243
 3529 00a6 0D46     		mov	r5, r1
 3530 00a8 1DE0     		b	.L237
 3531              	.LVL200:
 3532              	.L245:
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3533              		.loc 1 1813 5 is_stmt 1 view .LVU1244
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3534              		.loc 1 1813 17 is_stmt 0 view .LVU1245
 3535 00aa 0423     		movs	r3, #4
 3536 00ac 84F85130 		strb	r3, [r4, #81]
1816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3537              		.loc 1 1816 5 is_stmt 1 view .LVU1246
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3538              		.loc 1 1819 5 view .LVU1247
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3539              		.loc 1 1819 12 is_stmt 0 view .LVU1248
 3540 00b0 1346     		mov	r3, r2
 3541 00b2 0A46     		mov	r2, r1
 3542              	.LVL201:
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3543              		.loc 1 1819 12 view .LVU1249
 3544 00b4 2046     		mov	r0, r4
 3545 00b6 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 3546              	.LVL202:
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3547              		.loc 1 1819 12 view .LVU1250
 3548 00ba 0546     		mov	r5, r0
 3549 00bc 13E0     		b	.L237
 3550              	.LVL203:
 3551              	.L246:
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3552              		.loc 1 1847 5 is_stmt 1 view .LVU1251
 3553 00be 2268     		ldr	r2, [r4]
 3554              	.LVL204:
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
ARM GAS  /tmp/cc0VKmst.s 			page 154


 3555              		.loc 1 1847 5 is_stmt 0 view .LVU1252
 3556 00c0 1368     		ldr	r3, [r2]
 3557 00c2 23F04003 		bic	r3, r3, #64
 3558 00c6 1360     		str	r3, [r2]
 3559              	.LVL205:
1848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3560              		.loc 1 1848 5 is_stmt 1 view .LVU1253
 3561 00c8 2268     		ldr	r2, [r4]
 3562 00ca 1368     		ldr	r3, [r2]
 3563 00cc 23F48043 		bic	r3, r3, #16384
 3564 00d0 1360     		str	r3, [r2]
 3565 00d2 BCE7     		b	.L239
 3566              	.LVL206:
 3567              	.L247:
1876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 3568              		.loc 1 1876 5 view .LVU1254
 3569 00d4 636D     		ldr	r3, [r4, #84]
 3570 00d6 43F01003 		orr	r3, r3, #16
 3571 00da 6365     		str	r3, [r4, #84]
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3572              		.loc 1 1878 5 view .LVU1255
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3573              		.loc 1 1878 5 view .LVU1256
 3574 00dc 0023     		movs	r3, #0
 3575 00de 84F85030 		strb	r3, [r4, #80]
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3576              		.loc 1 1878 5 view .LVU1257
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3577              		.loc 1 1879 5 view .LVU1258
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3578              		.loc 1 1879 12 is_stmt 0 view .LVU1259
 3579 00e2 00E0     		b	.L237
 3580              	.LVL207:
 3581              	.L242:
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3582              		.loc 1 1808 12 view .LVU1260
 3583 00e4 0225     		movs	r5, #2
 3584              	.LVL208:
 3585              	.L237:
1899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3586              		.loc 1 1899 1 view .LVU1261
 3587 00e6 2846     		mov	r0, r5
 3588 00e8 38BD     		pop	{r3, r4, r5, pc}
 3589              	.LVL209:
 3590              	.L243:
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3591              		.loc 1 1828 3 view .LVU1262
 3592 00ea 0225     		movs	r5, #2
 3593 00ec FBE7     		b	.L237
 3594              	.L249:
 3595 00ee 00BF     		.align	2
 3596              	.L248:
 3597 00f0 00000000 		.word	SPI_DMAHalfReceiveCplt
 3598 00f4 00000000 		.word	SPI_DMAReceiveCplt
 3599 00f8 00000000 		.word	SPI_DMAError
 3600              		.cfi_endproc
 3601              	.LFE76:
ARM GAS  /tmp/cc0VKmst.s 			page 155


 3603              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 3604              		.align	1
 3605              		.global	HAL_SPI_Abort
 3606              		.syntax unified
 3607              		.thumb
 3608              		.thumb_func
 3609              		.fpu softvfp
 3611              	HAL_SPI_Abort:
 3612              	.LVL210:
 3613              	.LFB78:
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 3614              		.loc 1 2055 1 is_stmt 1 view -0
 3615              		.cfi_startproc
 3616              		@ args = 0, pretend = 0, frame = 16
 3617              		@ frame_needed = 0, uses_anonymous_args = 0
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 3618              		.loc 1 2055 1 is_stmt 0 view .LVU1264
 3619 0000 10B5     		push	{r4, lr}
 3620              	.LCFI43:
 3621              		.cfi_def_cfa_offset 8
 3622              		.cfi_offset 4, -8
 3623              		.cfi_offset 14, -4
 3624 0002 84B0     		sub	sp, sp, #16
 3625              	.LCFI44:
 3626              		.cfi_def_cfa_offset 24
 3627 0004 0446     		mov	r4, r0
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 3628              		.loc 1 2056 3 is_stmt 1 view .LVU1265
2057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
 3629              		.loc 1 2057 3 view .LVU1266
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3630              		.loc 1 2058 3 view .LVU1267
2061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 3631              		.loc 1 2061 3 view .LVU1268
 3632              	.LVL211:
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3633              		.loc 1 2062 3 view .LVU1269
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3634              		.loc 1 2062 61 is_stmt 0 view .LVU1270
 3635 0006 494B     		ldr	r3, .L271
 3636 0008 1B68     		ldr	r3, [r3]
 3637 000a 494A     		ldr	r2, .L271+4
 3638 000c A2FB0323 		umull	r2, r3, r2, r3
 3639 0010 5B0A     		lsrs	r3, r3, #9
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3640              		.loc 1 2062 36 view .LVU1271
 3641 0012 6422     		movs	r2, #100
 3642 0014 02FB03F3 		mul	r3, r2, r3
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3643              		.loc 1 2062 14 view .LVU1272
 3644 0018 0293     		str	r3, [sp, #8]
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3645              		.loc 1 2063 3 is_stmt 1 view .LVU1273
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3646              		.loc 1 2063 9 is_stmt 0 view .LVU1274
 3647 001a 029B     		ldr	r3, [sp, #8]
 3648 001c 0393     		str	r3, [sp, #12]
ARM GAS  /tmp/cc0VKmst.s 			page 156


2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3649              		.loc 1 2066 3 is_stmt 1 view .LVU1275
 3650 001e 0268     		ldr	r2, [r0]
 3651 0020 5368     		ldr	r3, [r2, #4]
 3652 0022 23F02003 		bic	r3, r3, #32
 3653 0026 5360     		str	r3, [r2, #4]
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3654              		.loc 1 2069 3 view .LVU1276
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3655              		.loc 1 2069 7 is_stmt 0 view .LVU1277
 3656 0028 0268     		ldr	r2, [r0]
 3657 002a 5368     		ldr	r3, [r2, #4]
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3658              		.loc 1 2069 6 view .LVU1278
 3659 002c 13F0800F 		tst	r3, #128
 3660 0030 12D0     		beq	.L251
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3661              		.loc 1 2071 5 is_stmt 1 view .LVU1279
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3662              		.loc 1 2071 17 is_stmt 0 view .LVU1280
 3663 0032 404B     		ldr	r3, .L271+8
 3664 0034 4364     		str	r3, [r0, #68]
 3665              	.L254:
2073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3666              		.loc 1 2073 5 is_stmt 1 view .LVU1281
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3667              		.loc 1 2075 7 view .LVU1282
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3668              		.loc 1 2075 17 is_stmt 0 view .LVU1283
 3669 0036 039B     		ldr	r3, [sp, #12]
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3670              		.loc 1 2075 10 view .LVU1284
 3671 0038 43B1     		cbz	r3, .L268
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3672              		.loc 1 2080 7 is_stmt 1 view .LVU1285
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3673              		.loc 1 2080 12 is_stmt 0 view .LVU1286
 3674 003a 039B     		ldr	r3, [sp, #12]
 3675 003c 013B     		subs	r3, r3, #1
 3676 003e 0393     		str	r3, [sp, #12]
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3677              		.loc 1 2081 13 is_stmt 1 view .LVU1287
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3678              		.loc 1 2081 18 is_stmt 0 view .LVU1288
 3679 0040 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3680 0044 DBB2     		uxtb	r3, r3
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3681              		.loc 1 2081 5 view .LVU1289
 3682 0046 072B     		cmp	r3, #7
 3683 0048 F5D1     		bne	.L254
 3684 004a 03E0     		b	.L253
 3685              	.L268:
2077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 3686              		.loc 1 2077 9 is_stmt 1 view .LVU1290
 3687 004c 636D     		ldr	r3, [r4, #84]
 3688 004e 43F04003 		orr	r3, r3, #64
 3689 0052 6365     		str	r3, [r4, #84]
ARM GAS  /tmp/cc0VKmst.s 			page 157


2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3690              		.loc 1 2078 9 view .LVU1291
 3691              	.L253:
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3692              		.loc 1 2083 5 view .LVU1292
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3693              		.loc 1 2083 11 is_stmt 0 view .LVU1293
 3694 0054 029B     		ldr	r3, [sp, #8]
 3695 0056 0393     		str	r3, [sp, #12]
 3696              	.L251:
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3697              		.loc 1 2086 3 is_stmt 1 view .LVU1294
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3698              		.loc 1 2086 7 is_stmt 0 view .LVU1295
 3699 0058 5368     		ldr	r3, [r2, #4]
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3700              		.loc 1 2086 6 view .LVU1296
 3701 005a 13F0400F 		tst	r3, #64
 3702 005e 12D0     		beq	.L255
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3703              		.loc 1 2088 5 is_stmt 1 view .LVU1297
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3704              		.loc 1 2088 17 is_stmt 0 view .LVU1298
 3705 0060 354B     		ldr	r3, .L271+12
 3706 0062 2364     		str	r3, [r4, #64]
 3707              	.L258:
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3708              		.loc 1 2090 5 is_stmt 1 view .LVU1299
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3709              		.loc 1 2092 7 view .LVU1300
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3710              		.loc 1 2092 17 is_stmt 0 view .LVU1301
 3711 0064 039B     		ldr	r3, [sp, #12]
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3712              		.loc 1 2092 10 view .LVU1302
 3713 0066 43B1     		cbz	r3, .L269
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3714              		.loc 1 2097 7 is_stmt 1 view .LVU1303
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3715              		.loc 1 2097 12 is_stmt 0 view .LVU1304
 3716 0068 039B     		ldr	r3, [sp, #12]
 3717 006a 013B     		subs	r3, r3, #1
 3718 006c 0393     		str	r3, [sp, #12]
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3719              		.loc 1 2098 13 is_stmt 1 view .LVU1305
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3720              		.loc 1 2098 18 is_stmt 0 view .LVU1306
 3721 006e 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3722 0072 DBB2     		uxtb	r3, r3
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3723              		.loc 1 2098 5 view .LVU1307
 3724 0074 072B     		cmp	r3, #7
 3725 0076 F5D1     		bne	.L258
 3726 0078 03E0     		b	.L257
 3727              	.L269:
2094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 3728              		.loc 1 2094 9 is_stmt 1 view .LVU1308
ARM GAS  /tmp/cc0VKmst.s 			page 158


 3729 007a 636D     		ldr	r3, [r4, #84]
 3730 007c 43F04003 		orr	r3, r3, #64
 3731 0080 6365     		str	r3, [r4, #84]
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3732              		.loc 1 2095 9 view .LVU1309
 3733              	.L257:
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3734              		.loc 1 2100 5 view .LVU1310
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3735              		.loc 1 2100 11 is_stmt 0 view .LVU1311
 3736 0082 029B     		ldr	r3, [sp, #8]
 3737 0084 0393     		str	r3, [sp, #12]
 3738              	.L255:
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3739              		.loc 1 2104 3 is_stmt 1 view .LVU1312
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3740              		.loc 1 2104 7 is_stmt 0 view .LVU1313
 3741 0086 5368     		ldr	r3, [r2, #4]
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3742              		.loc 1 2104 6 view .LVU1314
 3743 0088 13F0020F 		tst	r3, #2
 3744 008c 1DD0     		beq	.L259
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3745              		.loc 1 2107 5 is_stmt 1 view .LVU1315
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3746              		.loc 1 2107 13 is_stmt 0 view .LVU1316
 3747 008e A36C     		ldr	r3, [r4, #72]
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3748              		.loc 1 2107 8 view .LVU1317
 3749 0090 DBB1     		cbz	r3, .L259
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3750              		.loc 1 2111 7 is_stmt 1 view .LVU1318
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3751              		.loc 1 2111 39 is_stmt 0 view .LVU1319
 3752 0092 0022     		movs	r2, #0
 3753 0094 5A63     		str	r2, [r3, #52]
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3754              		.loc 1 2114 7 is_stmt 1 view .LVU1320
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3755              		.loc 1 2114 11 is_stmt 0 view .LVU1321
 3756 0096 A06C     		ldr	r0, [r4, #72]
 3757              	.LVL212:
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3758              		.loc 1 2114 11 view .LVU1322
 3759 0098 FFF7FEFF 		bl	HAL_DMA_Abort
 3760              	.LVL213:
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3761              		.loc 1 2114 10 view .LVU1323
 3762 009c 08B1     		cbz	r0, .L260
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3763              		.loc 1 2116 9 is_stmt 1 view .LVU1324
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3764              		.loc 1 2116 25 is_stmt 0 view .LVU1325
 3765 009e 4023     		movs	r3, #64
 3766 00a0 6365     		str	r3, [r4, #84]
 3767              	.L260:
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 159


 3768              		.loc 1 2120 7 is_stmt 1 view .LVU1326
 3769 00a2 2268     		ldr	r2, [r4]
 3770 00a4 5368     		ldr	r3, [r2, #4]
 3771 00a6 23F00203 		bic	r3, r3, #2
 3772 00aa 5360     		str	r3, [r2, #4]
 3773              	.L262:
2123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3774              		.loc 1 2123 7 view .LVU1327
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3775              		.loc 1 2125 9 view .LVU1328
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3776              		.loc 1 2125 19 is_stmt 0 view .LVU1329
 3777 00ac 039B     		ldr	r3, [sp, #12]
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3778              		.loc 1 2125 12 view .LVU1330
 3779 00ae 43B1     		cbz	r3, .L270
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3780              		.loc 1 2130 9 is_stmt 1 view .LVU1331
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3781              		.loc 1 2130 14 is_stmt 0 view .LVU1332
 3782 00b0 039B     		ldr	r3, [sp, #12]
 3783 00b2 013B     		subs	r3, r3, #1
 3784 00b4 0393     		str	r3, [sp, #12]
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3785              		.loc 1 2131 15 is_stmt 1 view .LVU1333
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3786              		.loc 1 2131 21 is_stmt 0 view .LVU1334
 3787 00b6 2368     		ldr	r3, [r4]
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3788              		.loc 1 2131 31 view .LVU1335
 3789 00b8 9B68     		ldr	r3, [r3, #8]
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3790              		.loc 1 2131 7 view .LVU1336
 3791 00ba 13F0020F 		tst	r3, #2
 3792 00be F5D0     		beq	.L262
 3793 00c0 03E0     		b	.L259
 3794              	.L270:
2127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           break;
 3795              		.loc 1 2127 11 is_stmt 1 view .LVU1337
 3796 00c2 636D     		ldr	r3, [r4, #84]
 3797 00c4 43F04003 		orr	r3, r3, #64
 3798 00c8 6365     		str	r3, [r4, #84]
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 3799              		.loc 1 2128 11 view .LVU1338
 3800              	.L259:
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3801              		.loc 1 2136 3 view .LVU1339
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3802              		.loc 1 2136 7 is_stmt 0 view .LVU1340
 3803 00ca 2368     		ldr	r3, [r4]
 3804 00cc 5B68     		ldr	r3, [r3, #4]
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3805              		.loc 1 2136 6 view .LVU1341
 3806 00ce 13F0010F 		tst	r3, #1
 3807 00d2 13D0     		beq	.L263
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3808              		.loc 1 2139 5 is_stmt 1 view .LVU1342
ARM GAS  /tmp/cc0VKmst.s 			page 160


2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3809              		.loc 1 2139 13 is_stmt 0 view .LVU1343
 3810 00d4 E36C     		ldr	r3, [r4, #76]
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3811              		.loc 1 2139 8 view .LVU1344
 3812 00d6 8BB1     		cbz	r3, .L263
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3813              		.loc 1 2143 7 is_stmt 1 view .LVU1345
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3814              		.loc 1 2143 39 is_stmt 0 view .LVU1346
 3815 00d8 0022     		movs	r2, #0
 3816 00da 5A63     		str	r2, [r3, #52]
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3817              		.loc 1 2146 7 is_stmt 1 view .LVU1347
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3818              		.loc 1 2146 11 is_stmt 0 view .LVU1348
 3819 00dc E06C     		ldr	r0, [r4, #76]
 3820 00de FFF7FEFF 		bl	HAL_DMA_Abort
 3821              	.LVL214:
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3822              		.loc 1 2146 10 view .LVU1349
 3823 00e2 08B1     		cbz	r0, .L264
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3824              		.loc 1 2148 9 is_stmt 1 view .LVU1350
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3825              		.loc 1 2148 25 is_stmt 0 view .LVU1351
 3826 00e4 4023     		movs	r3, #64
 3827 00e6 6365     		str	r3, [r4, #84]
 3828              	.L264:
2152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3829              		.loc 1 2152 7 is_stmt 1 view .LVU1352
 3830 00e8 2268     		ldr	r2, [r4]
 3831 00ea 1368     		ldr	r3, [r2]
 3832 00ec 23F04003 		bic	r3, r3, #64
 3833 00f0 1360     		str	r3, [r2]
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3834              		.loc 1 2155 7 view .LVU1353
 3835 00f2 2268     		ldr	r2, [r4]
 3836 00f4 5368     		ldr	r3, [r2, #4]
 3837 00f6 23F00103 		bic	r3, r3, #1
 3838 00fa 5360     		str	r3, [r2, #4]
 3839              	.L263:
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3840              		.loc 1 2159 3 view .LVU1354
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3841              		.loc 1 2159 21 is_stmt 0 view .LVU1355
 3842 00fc 0023     		movs	r3, #0
 3843 00fe E387     		strh	r3, [r4, #62]	@ movhi
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3844              		.loc 1 2160 3 is_stmt 1 view .LVU1356
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3845              		.loc 1 2160 21 is_stmt 0 view .LVU1357
 3846 0100 E386     		strh	r3, [r4, #54]	@ movhi
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3847              		.loc 1 2163 3 is_stmt 1 view .LVU1358
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3848              		.loc 1 2163 11 is_stmt 0 view .LVU1359
ARM GAS  /tmp/cc0VKmst.s 			page 161


 3849 0102 636D     		ldr	r3, [r4, #84]
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3850              		.loc 1 2163 6 view .LVU1360
 3851 0104 402B     		cmp	r3, #64
 3852 0106 0ED0     		beq	.L266
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3853              		.loc 1 2171 5 is_stmt 1 view .LVU1361
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3854              		.loc 1 2171 21 is_stmt 0 view .LVU1362
 3855 0108 0020     		movs	r0, #0
 3856 010a 6065     		str	r0, [r4, #84]
 3857              	.L265:
 3858              	.LVL215:
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3859              		.loc 1 2175 3 is_stmt 1 view .LVU1363
 3860              	.LBB4:
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3861              		.loc 1 2175 3 view .LVU1364
 3862 010c 0023     		movs	r3, #0
 3863 010e 0193     		str	r3, [sp, #4]
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3864              		.loc 1 2175 3 view .LVU1365
 3865 0110 2368     		ldr	r3, [r4]
 3866 0112 DA68     		ldr	r2, [r3, #12]
 3867 0114 0192     		str	r2, [sp, #4]
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3868              		.loc 1 2175 3 view .LVU1366
 3869 0116 9B68     		ldr	r3, [r3, #8]
 3870 0118 0193     		str	r3, [sp, #4]
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3871              		.loc 1 2175 3 view .LVU1367
 3872 011a 019B     		ldr	r3, [sp, #4]
 3873              	.LBE4:
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3874              		.loc 1 2175 3 view .LVU1368
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3875              		.loc 1 2178 3 view .LVU1369
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3876              		.loc 1 2178 15 is_stmt 0 view .LVU1370
 3877 011c 0123     		movs	r3, #1
 3878 011e 84F85130 		strb	r3, [r4, #81]
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3879              		.loc 1 2180 3 is_stmt 1 view .LVU1371
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3880              		.loc 1 2181 1 is_stmt 0 view .LVU1372
 3881 0122 04B0     		add	sp, sp, #16
 3882              	.LCFI45:
 3883              		.cfi_remember_state
 3884              		.cfi_def_cfa_offset 8
 3885              		@ sp needed
 3886 0124 10BD     		pop	{r4, pc}
 3887              	.LVL216:
 3888              	.L266:
 3889              	.LCFI46:
 3890              		.cfi_restore_state
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3891              		.loc 1 2166 15 view .LVU1373
ARM GAS  /tmp/cc0VKmst.s 			page 162


 3892 0126 0120     		movs	r0, #1
 3893 0128 F0E7     		b	.L265
 3894              	.L272:
 3895 012a 00BF     		.align	2
 3896              	.L271:
 3897 012c 00000000 		.word	SystemCoreClock
 3898 0130 F1197605 		.word	91625969
 3899 0134 00000000 		.word	SPI_AbortTx_ISR
 3900 0138 00000000 		.word	SPI_AbortRx_ISR
 3901              		.cfi_endproc
 3902              	.LFE78:
 3904              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 3905              		.align	1
 3906              		.global	HAL_SPI_DMAPause
 3907              		.syntax unified
 3908              		.thumb
 3909              		.thumb_func
 3910              		.fpu softvfp
 3912              	HAL_SPI_DMAPause:
 3913              	.LVL217:
 3914              	.LFB80:
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 3915              		.loc 1 2359 1 is_stmt 1 view -0
 3916              		.cfi_startproc
 3917              		@ args = 0, pretend = 0, frame = 0
 3918              		@ frame_needed = 0, uses_anonymous_args = 0
 3919              		@ link register save eliminated.
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3920              		.loc 1 2361 3 view .LVU1375
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3921              		.loc 1 2361 3 view .LVU1376
 3922 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 3923 0004 012B     		cmp	r3, #1
 3924 0006 0CD0     		beq	.L275
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3925              		.loc 1 2361 3 discriminator 2 view .LVU1377
 3926 0008 0123     		movs	r3, #1
 3927 000a 80F85030 		strb	r3, [r0, #80]
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3928              		.loc 1 2361 3 discriminator 2 view .LVU1378
2364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3929              		.loc 1 2364 3 discriminator 2 view .LVU1379
 3930 000e 0268     		ldr	r2, [r0]
 3931 0010 5368     		ldr	r3, [r2, #4]
 3932 0012 23F00303 		bic	r3, r3, #3
 3933 0016 5360     		str	r3, [r2, #4]
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3934              		.loc 1 2367 3 discriminator 2 view .LVU1380
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3935              		.loc 1 2367 3 discriminator 2 view .LVU1381
 3936 0018 0023     		movs	r3, #0
 3937 001a 80F85030 		strb	r3, [r0, #80]
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3938              		.loc 1 2367 3 discriminator 2 view .LVU1382
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3939              		.loc 1 2369 3 discriminator 2 view .LVU1383
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
ARM GAS  /tmp/cc0VKmst.s 			page 163


 3940              		.loc 1 2369 10 is_stmt 0 discriminator 2 view .LVU1384
 3941 001e 1846     		mov	r0, r3
 3942              	.LVL218:
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3943              		.loc 1 2369 10 discriminator 2 view .LVU1385
 3944 0020 7047     		bx	lr
 3945              	.LVL219:
 3946              	.L275:
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3947              		.loc 1 2361 3 view .LVU1386
 3948 0022 0220     		movs	r0, #2
 3949              	.LVL220:
2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3950              		.loc 1 2370 1 view .LVU1387
 3951 0024 7047     		bx	lr
 3952              		.cfi_endproc
 3953              	.LFE80:
 3955              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 3956              		.align	1
 3957              		.global	HAL_SPI_DMAResume
 3958              		.syntax unified
 3959              		.thumb
 3960              		.thumb_func
 3961              		.fpu softvfp
 3963              	HAL_SPI_DMAResume:
 3964              	.LVL221:
 3965              	.LFB81:
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 3966              		.loc 1 2379 1 is_stmt 1 view -0
 3967              		.cfi_startproc
 3968              		@ args = 0, pretend = 0, frame = 0
 3969              		@ frame_needed = 0, uses_anonymous_args = 0
 3970              		@ link register save eliminated.
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3971              		.loc 1 2381 3 view .LVU1389
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3972              		.loc 1 2381 3 view .LVU1390
 3973 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 3974 0004 012B     		cmp	r3, #1
 3975 0006 0CD0     		beq	.L278
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3976              		.loc 1 2381 3 discriminator 2 view .LVU1391
 3977 0008 0123     		movs	r3, #1
 3978 000a 80F85030 		strb	r3, [r0, #80]
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3979              		.loc 1 2381 3 discriminator 2 view .LVU1392
2384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3980              		.loc 1 2384 3 discriminator 2 view .LVU1393
 3981 000e 0268     		ldr	r2, [r0]
 3982 0010 5368     		ldr	r3, [r2, #4]
 3983 0012 43F00303 		orr	r3, r3, #3
 3984 0016 5360     		str	r3, [r2, #4]
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3985              		.loc 1 2387 3 discriminator 2 view .LVU1394
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3986              		.loc 1 2387 3 discriminator 2 view .LVU1395
 3987 0018 0023     		movs	r3, #0
ARM GAS  /tmp/cc0VKmst.s 			page 164


 3988 001a 80F85030 		strb	r3, [r0, #80]
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3989              		.loc 1 2387 3 discriminator 2 view .LVU1396
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3990              		.loc 1 2389 3 discriminator 2 view .LVU1397
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3991              		.loc 1 2389 10 is_stmt 0 discriminator 2 view .LVU1398
 3992 001e 1846     		mov	r0, r3
 3993              	.LVL222:
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3994              		.loc 1 2389 10 discriminator 2 view .LVU1399
 3995 0020 7047     		bx	lr
 3996              	.LVL223:
 3997              	.L278:
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3998              		.loc 1 2381 3 view .LVU1400
 3999 0022 0220     		movs	r0, #2
 4000              	.LVL224:
2390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4001              		.loc 1 2390 1 view .LVU1401
 4002 0024 7047     		bx	lr
 4003              		.cfi_endproc
 4004              	.LFE81:
 4006              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 4007              		.align	1
 4008              		.global	HAL_SPI_DMAStop
 4009              		.syntax unified
 4010              		.thumb
 4011              		.thumb_func
 4012              		.fpu softvfp
 4014              	HAL_SPI_DMAStop:
 4015              	.LVL225:
 4016              	.LFB82:
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 4017              		.loc 1 2399 1 is_stmt 1 view -0
 4018              		.cfi_startproc
 4019              		@ args = 0, pretend = 0, frame = 0
 4020              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 4021              		.loc 1 2399 1 is_stmt 0 view .LVU1403
 4022 0000 38B5     		push	{r3, r4, r5, lr}
 4023              	.LCFI47:
 4024              		.cfi_def_cfa_offset 16
 4025              		.cfi_offset 3, -16
 4026              		.cfi_offset 4, -12
 4027              		.cfi_offset 5, -8
 4028              		.cfi_offset 14, -4
 4029 0002 0446     		mov	r4, r0
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 4030              		.loc 1 2400 3 is_stmt 1 view .LVU1404
 4031              	.LVL226:
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4032              		.loc 1 2410 3 view .LVU1405
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4033              		.loc 1 2410 11 is_stmt 0 view .LVU1406
 4034 0004 806C     		ldr	r0, [r0, #72]
 4035              	.LVL227:
ARM GAS  /tmp/cc0VKmst.s 			page 165


2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4036              		.loc 1 2410 6 view .LVU1407
 4037 0006 48B1     		cbz	r0, .L282
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4038              		.loc 1 2412 5 is_stmt 1 view .LVU1408
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4039              		.loc 1 2412 19 is_stmt 0 view .LVU1409
 4040 0008 FFF7FEFF 		bl	HAL_DMA_Abort
 4041              	.LVL228:
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4042              		.loc 1 2412 8 view .LVU1410
 4043 000c 0546     		mov	r5, r0
 4044 000e 30B1     		cbz	r0, .L280
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
 4045              		.loc 1 2414 7 is_stmt 1 view .LVU1411
 4046 0010 636D     		ldr	r3, [r4, #84]
 4047 0012 43F01003 		orr	r3, r3, #16
 4048 0016 6365     		str	r3, [r4, #84]
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4049              		.loc 1 2415 7 view .LVU1412
 4050              	.LVL229:
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4051              		.loc 1 2415 17 is_stmt 0 view .LVU1413
 4052 0018 0125     		movs	r5, #1
 4053 001a 00E0     		b	.L280
 4054              	.LVL230:
 4055              	.L282:
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 4056              		.loc 1 2400 21 view .LVU1414
 4057 001c 0025     		movs	r5, #0
 4058              	.LVL231:
 4059              	.L280:
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4060              		.loc 1 2419 3 is_stmt 1 view .LVU1415
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4061              		.loc 1 2419 11 is_stmt 0 view .LVU1416
 4062 001e E06C     		ldr	r0, [r4, #76]
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4063              		.loc 1 2419 6 view .LVU1417
 4064 0020 38B1     		cbz	r0, .L281
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4065              		.loc 1 2421 5 is_stmt 1 view .LVU1418
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4066              		.loc 1 2421 19 is_stmt 0 view .LVU1419
 4067 0022 FFF7FEFF 		bl	HAL_DMA_Abort
 4068              	.LVL232:
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4069              		.loc 1 2421 8 view .LVU1420
 4070 0026 20B1     		cbz	r0, .L281
2423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
 4071              		.loc 1 2423 7 is_stmt 1 view .LVU1421
 4072 0028 636D     		ldr	r3, [r4, #84]
 4073 002a 43F01003 		orr	r3, r3, #16
 4074 002e 6365     		str	r3, [r4, #84]
2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4075              		.loc 1 2424 7 view .LVU1422
 4076              	.LVL233:
ARM GAS  /tmp/cc0VKmst.s 			page 166


2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4077              		.loc 1 2424 17 is_stmt 0 view .LVU1423
 4078 0030 0125     		movs	r5, #1
 4079              	.LVL234:
 4080              	.L281:
2429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 4081              		.loc 1 2429 3 is_stmt 1 view .LVU1424
 4082 0032 2268     		ldr	r2, [r4]
 4083 0034 5368     		ldr	r3, [r2, #4]
 4084 0036 23F00303 		bic	r3, r3, #3
 4085 003a 5360     		str	r3, [r2, #4]
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4086              		.loc 1 2430 3 view .LVU1425
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4087              		.loc 1 2430 15 is_stmt 0 view .LVU1426
 4088 003c 0123     		movs	r3, #1
 4089 003e 84F85130 		strb	r3, [r4, #81]
2431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 4090              		.loc 1 2431 3 is_stmt 1 view .LVU1427
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4091              		.loc 1 2432 1 is_stmt 0 view .LVU1428
 4092 0042 2846     		mov	r0, r5
 4093 0044 38BD     		pop	{r3, r4, r5, pc}
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4094              		.loc 1 2432 1 view .LVU1429
 4095              		.cfi_endproc
 4096              	.LFE82:
 4098              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 4099              		.align	1
 4100              		.weak	HAL_SPI_TxCpltCallback
 4101              		.syntax unified
 4102              		.thumb
 4103              		.thumb_func
 4104              		.fpu softvfp
 4106              	HAL_SPI_TxCpltCallback:
 4107              	.LVL235:
 4108              	.LFB84:
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4109              		.loc 1 2543 1 is_stmt 1 view -0
 4110              		.cfi_startproc
 4111              		@ args = 0, pretend = 0, frame = 0
 4112              		@ frame_needed = 0, uses_anonymous_args = 0
 4113              		@ link register save eliminated.
2545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4114              		.loc 1 2545 3 view .LVU1431
2550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4115              		.loc 1 2550 1 is_stmt 0 view .LVU1432
 4116 0000 7047     		bx	lr
 4117              		.cfi_endproc
 4118              	.LFE84:
 4120              		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 4121              		.align	1
 4122              		.weak	HAL_SPI_RxCpltCallback
 4123              		.syntax unified
 4124              		.thumb
 4125              		.thumb_func
 4126              		.fpu softvfp
ARM GAS  /tmp/cc0VKmst.s 			page 167


 4128              	HAL_SPI_RxCpltCallback:
 4129              	.LVL236:
 4130              	.LFB85:
2559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4131              		.loc 1 2559 1 is_stmt 1 view -0
 4132              		.cfi_startproc
 4133              		@ args = 0, pretend = 0, frame = 0
 4134              		@ frame_needed = 0, uses_anonymous_args = 0
 4135              		@ link register save eliminated.
2561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4136              		.loc 1 2561 3 view .LVU1434
2566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4137              		.loc 1 2566 1 is_stmt 0 view .LVU1435
 4138 0000 7047     		bx	lr
 4139              		.cfi_endproc
 4140              	.LFE85:
 4142              		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 4143              		.align	1
 4144              		.weak	HAL_SPI_TxRxCpltCallback
 4145              		.syntax unified
 4146              		.thumb
 4147              		.thumb_func
 4148              		.fpu softvfp
 4150              	HAL_SPI_TxRxCpltCallback:
 4151              	.LVL237:
 4152              	.LFB86:
2575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4153              		.loc 1 2575 1 is_stmt 1 view -0
 4154              		.cfi_startproc
 4155              		@ args = 0, pretend = 0, frame = 0
 4156              		@ frame_needed = 0, uses_anonymous_args = 0
 4157              		@ link register save eliminated.
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4158              		.loc 1 2577 3 view .LVU1437
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4159              		.loc 1 2582 1 is_stmt 0 view .LVU1438
 4160 0000 7047     		bx	lr
 4161              		.cfi_endproc
 4162              	.LFE86:
 4164              		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 4165              		.align	1
 4166              		.weak	HAL_SPI_TxHalfCpltCallback
 4167              		.syntax unified
 4168              		.thumb
 4169              		.thumb_func
 4170              		.fpu softvfp
 4172              	HAL_SPI_TxHalfCpltCallback:
 4173              	.LVL238:
 4174              	.LFB87:
2591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4175              		.loc 1 2591 1 is_stmt 1 view -0
 4176              		.cfi_startproc
 4177              		@ args = 0, pretend = 0, frame = 0
 4178              		@ frame_needed = 0, uses_anonymous_args = 0
 4179              		@ link register save eliminated.
2593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4180              		.loc 1 2593 3 view .LVU1440
ARM GAS  /tmp/cc0VKmst.s 			page 168


2598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4181              		.loc 1 2598 1 is_stmt 0 view .LVU1441
 4182 0000 7047     		bx	lr
 4183              		.cfi_endproc
 4184              	.LFE87:
 4186              		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 4187              		.align	1
 4188              		.syntax unified
 4189              		.thumb
 4190              		.thumb_func
 4191              		.fpu softvfp
 4193              	SPI_DMAHalfTransmitCplt:
 4194              	.LVL239:
 4195              	.LFB97:
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4196              		.loc 1 2975 1 is_stmt 1 view -0
 4197              		.cfi_startproc
 4198              		@ args = 0, pretend = 0, frame = 0
 4199              		@ frame_needed = 0, uses_anonymous_args = 0
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4200              		.loc 1 2975 1 is_stmt 0 view .LVU1443
 4201 0000 08B5     		push	{r3, lr}
 4202              	.LCFI48:
 4203              		.cfi_def_cfa_offset 8
 4204              		.cfi_offset 3, -8
 4205              		.cfi_offset 14, -4
2976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4206              		.loc 1 2976 3 is_stmt 1 view .LVU1444
 4207              	.LVL240:
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4208              		.loc 1 2982 3 view .LVU1445
 4209 0002 406A     		ldr	r0, [r0, #36]
 4210              	.LVL241:
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4211              		.loc 1 2982 3 is_stmt 0 view .LVU1446
 4212 0004 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
 4213              	.LVL242:
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4214              		.loc 1 2984 1 view .LVU1447
 4215 0008 08BD     		pop	{r3, pc}
 4216              		.cfi_endproc
 4217              	.LFE97:
 4219              		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 4220              		.align	1
 4221              		.weak	HAL_SPI_RxHalfCpltCallback
 4222              		.syntax unified
 4223              		.thumb
 4224              		.thumb_func
 4225              		.fpu softvfp
 4227              	HAL_SPI_RxHalfCpltCallback:
 4228              	.LVL243:
 4229              	.LFB88:
2607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4230              		.loc 1 2607 1 is_stmt 1 view -0
 4231              		.cfi_startproc
 4232              		@ args = 0, pretend = 0, frame = 0
 4233              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc0VKmst.s 			page 169


 4234              		@ link register save eliminated.
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4235              		.loc 1 2609 3 view .LVU1449
2614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4236              		.loc 1 2614 1 is_stmt 0 view .LVU1450
 4237 0000 7047     		bx	lr
 4238              		.cfi_endproc
 4239              	.LFE88:
 4241              		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 4242              		.align	1
 4243              		.syntax unified
 4244              		.thumb
 4245              		.thumb_func
 4246              		.fpu softvfp
 4248              	SPI_DMAHalfReceiveCplt:
 4249              	.LVL244:
 4250              	.LFB98:
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4251              		.loc 1 2993 1 is_stmt 1 view -0
 4252              		.cfi_startproc
 4253              		@ args = 0, pretend = 0, frame = 0
 4254              		@ frame_needed = 0, uses_anonymous_args = 0
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4255              		.loc 1 2993 1 is_stmt 0 view .LVU1452
 4256 0000 08B5     		push	{r3, lr}
 4257              	.LCFI49:
 4258              		.cfi_def_cfa_offset 8
 4259              		.cfi_offset 3, -8
 4260              		.cfi_offset 14, -4
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4261              		.loc 1 2994 3 is_stmt 1 view .LVU1453
 4262              	.LVL245:
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4263              		.loc 1 3000 3 view .LVU1454
 4264 0002 406A     		ldr	r0, [r0, #36]
 4265              	.LVL246:
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4266              		.loc 1 3000 3 is_stmt 0 view .LVU1455
 4267 0004 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
 4268              	.LVL247:
3002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4269              		.loc 1 3002 1 view .LVU1456
 4270 0008 08BD     		pop	{r3, pc}
 4271              		.cfi_endproc
 4272              	.LFE98:
 4274              		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 4275              		.align	1
 4276              		.weak	HAL_SPI_TxRxHalfCpltCallback
 4277              		.syntax unified
 4278              		.thumb
 4279              		.thumb_func
 4280              		.fpu softvfp
 4282              	HAL_SPI_TxRxHalfCpltCallback:
 4283              	.LVL248:
 4284              	.LFB89:
2623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4285              		.loc 1 2623 1 is_stmt 1 view -0
ARM GAS  /tmp/cc0VKmst.s 			page 170


 4286              		.cfi_startproc
 4287              		@ args = 0, pretend = 0, frame = 0
 4288              		@ frame_needed = 0, uses_anonymous_args = 0
 4289              		@ link register save eliminated.
2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4290              		.loc 1 2625 3 view .LVU1458
2630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4291              		.loc 1 2630 1 is_stmt 0 view .LVU1459
 4292 0000 7047     		bx	lr
 4293              		.cfi_endproc
 4294              	.LFE89:
 4296              		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 4297              		.align	1
 4298              		.syntax unified
 4299              		.thumb
 4300              		.thumb_func
 4301              		.fpu softvfp
 4303              	SPI_DMAHalfTransmitReceiveCplt:
 4304              	.LVL249:
 4305              	.LFB99:
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4306              		.loc 1 3011 1 is_stmt 1 view -0
 4307              		.cfi_startproc
 4308              		@ args = 0, pretend = 0, frame = 0
 4309              		@ frame_needed = 0, uses_anonymous_args = 0
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4310              		.loc 1 3011 1 is_stmt 0 view .LVU1461
 4311 0000 08B5     		push	{r3, lr}
 4312              	.LCFI50:
 4313              		.cfi_def_cfa_offset 8
 4314              		.cfi_offset 3, -8
 4315              		.cfi_offset 14, -4
3012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4316              		.loc 1 3012 3 is_stmt 1 view .LVU1462
 4317              	.LVL250:
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4318              		.loc 1 3018 3 view .LVU1463
 4319 0002 406A     		ldr	r0, [r0, #36]
 4320              	.LVL251:
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4321              		.loc 1 3018 3 is_stmt 0 view .LVU1464
 4322 0004 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
 4323              	.LVL252:
3020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4324              		.loc 1 3020 1 view .LVU1465
 4325 0008 08BD     		pop	{r3, pc}
 4326              		.cfi_endproc
 4327              	.LFE99:
 4329              		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 4330              		.align	1
 4331              		.weak	HAL_SPI_ErrorCallback
 4332              		.syntax unified
 4333              		.thumb
 4334              		.thumb_func
 4335              		.fpu softvfp
 4337              	HAL_SPI_ErrorCallback:
 4338              	.LVL253:
ARM GAS  /tmp/cc0VKmst.s 			page 171


 4339              	.LFB90:
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4340              		.loc 1 2639 1 is_stmt 1 view -0
 4341              		.cfi_startproc
 4342              		@ args = 0, pretend = 0, frame = 0
 4343              		@ frame_needed = 0, uses_anonymous_args = 0
 4344              		@ link register save eliminated.
2641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4345              		.loc 1 2641 3 view .LVU1467
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4346              		.loc 1 2649 1 is_stmt 0 view .LVU1468
 4347 0000 7047     		bx	lr
 4348              		.cfi_endproc
 4349              	.LFE90:
 4351              		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 4352              		.align	1
 4353              		.syntax unified
 4354              		.thumb
 4355              		.thumb_func
 4356              		.fpu softvfp
 4358              	SPI_CloseTx_ISR:
 4359              	.LVL254:
 4360              	.LFB117:
3877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4361              		.loc 1 3877 1 is_stmt 1 view -0
 4362              		.cfi_startproc
 4363              		@ args = 0, pretend = 0, frame = 8
 4364              		@ frame_needed = 0, uses_anonymous_args = 0
3877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4365              		.loc 1 3877 1 is_stmt 0 view .LVU1470
 4366 0000 10B5     		push	{r4, lr}
 4367              	.LCFI51:
 4368              		.cfi_def_cfa_offset 8
 4369              		.cfi_offset 4, -8
 4370              		.cfi_offset 14, -4
 4371 0002 82B0     		sub	sp, sp, #8
 4372              	.LCFI52:
 4373              		.cfi_def_cfa_offset 16
 4374 0004 0446     		mov	r4, r0
3878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4375              		.loc 1 3878 3 is_stmt 1 view .LVU1471
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4376              		.loc 1 3879 3 view .LVU1472
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4377              		.loc 1 3879 70 is_stmt 0 view .LVU1473
 4378 0006 204B     		ldr	r3, .L307
 4379 0008 1B68     		ldr	r3, [r3]
 4380 000a 204A     		ldr	r2, .L307+4
 4381 000c A2FB0323 		umull	r2, r3, r2, r3
 4382 0010 5B0A     		lsrs	r3, r3, #9
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4383              		.loc 1 3879 45 view .LVU1474
 4384 0012 6422     		movs	r2, #100
 4385 0014 02FB03F3 		mul	r3, r2, r3
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4386              		.loc 1 3879 17 view .LVU1475
 4387 0018 0193     		str	r3, [sp, #4]
ARM GAS  /tmp/cc0VKmst.s 			page 172


3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4388              		.loc 1 3882 3 is_stmt 1 view .LVU1476
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4389              		.loc 1 3882 15 is_stmt 0 view .LVU1477
 4390 001a FFF7FEFF 		bl	HAL_GetTick
 4391              	.LVL255:
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4392              		.loc 1 3882 15 view .LVU1478
 4393 001e 0246     		mov	r2, r0
 4394              	.LVL256:
 4395              	.L300:
3885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4396              		.loc 1 3885 3 is_stmt 1 view .LVU1479
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4397              		.loc 1 3887 5 view .LVU1480
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4398              		.loc 1 3887 15 is_stmt 0 view .LVU1481
 4399 0020 019B     		ldr	r3, [sp, #4]
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4400              		.loc 1 3887 8 view .LVU1482
 4401 0022 43B1     		cbz	r3, .L306
3892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4402              		.loc 1 3892 5 is_stmt 1 view .LVU1483
3892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4403              		.loc 1 3892 10 is_stmt 0 view .LVU1484
 4404 0024 019B     		ldr	r3, [sp, #4]
 4405 0026 013B     		subs	r3, r3, #1
 4406 0028 0193     		str	r3, [sp, #4]
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4407              		.loc 1 3893 11 is_stmt 1 view .LVU1485
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4408              		.loc 1 3893 17 is_stmt 0 view .LVU1486
 4409 002a 2368     		ldr	r3, [r4]
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4410              		.loc 1 3893 27 view .LVU1487
 4411 002c 9B68     		ldr	r3, [r3, #8]
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4412              		.loc 1 3893 3 view .LVU1488
 4413 002e 13F0020F 		tst	r3, #2
 4414 0032 F5D0     		beq	.L300
 4415 0034 03E0     		b	.L299
 4416              	.L306:
3889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 4417              		.loc 1 3889 7 is_stmt 1 view .LVU1489
 4418 0036 636D     		ldr	r3, [r4, #84]
 4419 0038 43F02003 		orr	r3, r3, #32
 4420 003c 6365     		str	r3, [r4, #84]
3890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4421              		.loc 1 3890 7 view .LVU1490
 4422              	.L299:
3896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4423              		.loc 1 3896 3 view .LVU1491
 4424 003e 2168     		ldr	r1, [r4]
 4425 0040 4B68     		ldr	r3, [r1, #4]
 4426 0042 23F0A003 		bic	r3, r3, #160
 4427 0046 4B60     		str	r3, [r1, #4]
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 173


 4428              		.loc 1 3899 3 view .LVU1492
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4429              		.loc 1 3899 7 is_stmt 0 view .LVU1493
 4430 0048 6421     		movs	r1, #100
 4431 004a 2046     		mov	r0, r4
 4432              	.LVL257:
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4433              		.loc 1 3899 7 view .LVU1494
 4434 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4435              	.LVL258:
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4436              		.loc 1 3899 6 view .LVU1495
 4437 0050 18B1     		cbz	r0, .L301
3901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4438              		.loc 1 3901 5 is_stmt 1 view .LVU1496
 4439 0052 636D     		ldr	r3, [r4, #84]
 4440 0054 43F02003 		orr	r3, r3, #32
 4441 0058 6365     		str	r3, [r4, #84]
 4442              	.L301:
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4443              		.loc 1 3905 3 view .LVU1497
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4444              		.loc 1 3905 17 is_stmt 0 view .LVU1498
 4445 005a A368     		ldr	r3, [r4, #8]
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4446              		.loc 1 3905 6 view .LVU1499
 4447 005c 33B9     		cbnz	r3, .L302
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4448              		.loc 1 3907 5 is_stmt 1 view .LVU1500
 4449              	.LBB5:
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4450              		.loc 1 3907 5 view .LVU1501
 4451 005e 0093     		str	r3, [sp]
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4452              		.loc 1 3907 5 view .LVU1502
 4453 0060 2368     		ldr	r3, [r4]
 4454 0062 DA68     		ldr	r2, [r3, #12]
 4455 0064 0092     		str	r2, [sp]
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4456              		.loc 1 3907 5 view .LVU1503
 4457 0066 9B68     		ldr	r3, [r3, #8]
 4458 0068 0093     		str	r3, [sp]
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4459              		.loc 1 3907 5 view .LVU1504
 4460 006a 009B     		ldr	r3, [sp]
 4461              	.L302:
 4462              	.LBE5:
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4463              		.loc 1 3907 5 discriminator 1 view .LVU1505
3910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4464              		.loc 1 3910 3 discriminator 1 view .LVU1506
3910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4465              		.loc 1 3910 15 is_stmt 0 discriminator 1 view .LVU1507
 4466 006c 0123     		movs	r3, #1
 4467 006e 84F85130 		strb	r3, [r4, #81]
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4468              		.loc 1 3911 3 is_stmt 1 discriminator 1 view .LVU1508
ARM GAS  /tmp/cc0VKmst.s 			page 174


3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4469              		.loc 1 3911 11 is_stmt 0 discriminator 1 view .LVU1509
 4470 0072 636D     		ldr	r3, [r4, #84]
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4471              		.loc 1 3911 6 discriminator 1 view .LVU1510
 4472 0074 23B1     		cbz	r3, .L303
3917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4473              		.loc 1 3917 5 is_stmt 1 view .LVU1511
 4474 0076 2046     		mov	r0, r4
 4475 0078 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4476              	.LVL259:
 4477              	.L297:
3929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4478              		.loc 1 3929 1 is_stmt 0 view .LVU1512
 4479 007c 02B0     		add	sp, sp, #8
 4480              	.LCFI53:
 4481              		.cfi_remember_state
 4482              		.cfi_def_cfa_offset 8
 4483              		@ sp needed
 4484 007e 10BD     		pop	{r4, pc}
 4485              	.LVL260:
 4486              	.L303:
 4487              	.LCFI54:
 4488              		.cfi_restore_state
3926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4489              		.loc 1 3926 5 is_stmt 1 view .LVU1513
 4490 0080 2046     		mov	r0, r4
 4491 0082 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 4492              	.LVL261:
3929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4493              		.loc 1 3929 1 is_stmt 0 view .LVU1514
 4494 0086 F9E7     		b	.L297
 4495              	.L308:
 4496              		.align	2
 4497              	.L307:
 4498 0088 00000000 		.word	SystemCoreClock
 4499 008c F1197605 		.word	91625969
 4500              		.cfi_endproc
 4501              	.LFE117:
 4503              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 4504              		.align	1
 4505              		.syntax unified
 4506              		.thumb
 4507              		.thumb_func
 4508              		.fpu softvfp
 4510              	SPI_TxISR_8BIT:
 4511              	.LVL262:
 4512              	.LFB110:
3514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 4513              		.loc 1 3514 1 is_stmt 1 view -0
 4514              		.cfi_startproc
 4515              		@ args = 0, pretend = 0, frame = 0
 4516              		@ frame_needed = 0, uses_anonymous_args = 0
3514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 4517              		.loc 1 3514 1 is_stmt 0 view .LVU1516
 4518 0000 08B5     		push	{r3, lr}
 4519              	.LCFI55:
ARM GAS  /tmp/cc0VKmst.s 			page 175


 4520              		.cfi_def_cfa_offset 8
 4521              		.cfi_offset 3, -8
 4522              		.cfi_offset 14, -4
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4523              		.loc 1 3515 3 is_stmt 1 view .LVU1517
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4524              		.loc 1 3515 65 is_stmt 0 view .LVU1518
 4525 0002 026B     		ldr	r2, [r0, #48]
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4526              		.loc 1 3515 25 view .LVU1519
 4527 0004 0368     		ldr	r3, [r0]
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4528              		.loc 1 3515 42 view .LVU1520
 4529 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4530              		.loc 1 3515 40 view .LVU1521
 4531 0008 1A73     		strb	r2, [r3, #12]
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4532              		.loc 1 3516 3 is_stmt 1 view .LVU1522
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4533              		.loc 1 3516 7 is_stmt 0 view .LVU1523
 4534 000a 036B     		ldr	r3, [r0, #48]
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4535              		.loc 1 3516 19 view .LVU1524
 4536 000c 0133     		adds	r3, r3, #1
 4537 000e 0363     		str	r3, [r0, #48]
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4538              		.loc 1 3517 3 is_stmt 1 view .LVU1525
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4539              		.loc 1 3517 7 is_stmt 0 view .LVU1526
 4540 0010 C38E     		ldrh	r3, [r0, #54]
 4541 0012 9BB2     		uxth	r3, r3
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4542              		.loc 1 3517 20 view .LVU1527
 4543 0014 013B     		subs	r3, r3, #1
 4544 0016 9BB2     		uxth	r3, r3
 4545 0018 C386     		strh	r3, [r0, #54]	@ movhi
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4546              		.loc 1 3519 3 is_stmt 1 view .LVU1528
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4547              		.loc 1 3519 11 is_stmt 0 view .LVU1529
 4548 001a C38E     		ldrh	r3, [r0, #54]
 4549 001c 9BB2     		uxth	r3, r3
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4550              		.loc 1 3519 6 view .LVU1530
 4551 001e 03B1     		cbz	r3, .L312
 4552              	.LVL263:
 4553              	.L309:
3530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4554              		.loc 1 3530 1 view .LVU1531
 4555 0020 08BD     		pop	{r3, pc}
 4556              	.LVL264:
 4557              	.L312:
3528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4558              		.loc 1 3528 5 is_stmt 1 view .LVU1532
 4559 0022 FFF7FEFF 		bl	SPI_CloseTx_ISR
 4560              	.LVL265:
ARM GAS  /tmp/cc0VKmst.s 			page 176


3530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4561              		.loc 1 3530 1 is_stmt 0 view .LVU1533
 4562 0026 FBE7     		b	.L309
 4563              		.cfi_endproc
 4564              	.LFE110:
 4566              		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 4567              		.align	1
 4568              		.syntax unified
 4569              		.thumb
 4570              		.thumb_func
 4571              		.fpu softvfp
 4573              	SPI_TxISR_16BIT:
 4574              	.LVL266:
 4575              	.LFB111:
3539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 4576              		.loc 1 3539 1 is_stmt 1 view -0
 4577              		.cfi_startproc
 4578              		@ args = 0, pretend = 0, frame = 0
 4579              		@ frame_needed = 0, uses_anonymous_args = 0
3539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 4580              		.loc 1 3539 1 is_stmt 0 view .LVU1535
 4581 0000 08B5     		push	{r3, lr}
 4582              	.LCFI56:
 4583              		.cfi_def_cfa_offset 8
 4584              		.cfi_offset 3, -8
 4585              		.cfi_offset 14, -4
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4586              		.loc 1 3541 3 is_stmt 1 view .LVU1536
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4587              		.loc 1 3541 48 is_stmt 0 view .LVU1537
 4588 0002 026B     		ldr	r2, [r0, #48]
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4589              		.loc 1 3541 7 view .LVU1538
 4590 0004 0368     		ldr	r3, [r0]
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4591              		.loc 1 3541 24 view .LVU1539
 4592 0006 1288     		ldrh	r2, [r2]
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4593              		.loc 1 3541 22 view .LVU1540
 4594 0008 DA60     		str	r2, [r3, #12]
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4595              		.loc 1 3542 3 is_stmt 1 view .LVU1541
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4596              		.loc 1 3542 20 is_stmt 0 view .LVU1542
 4597 000a 036B     		ldr	r3, [r0, #48]
 4598 000c 0233     		adds	r3, r3, #2
 4599 000e 0363     		str	r3, [r0, #48]
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4600              		.loc 1 3543 3 is_stmt 1 view .LVU1543
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4601              		.loc 1 3543 7 is_stmt 0 view .LVU1544
 4602 0010 C38E     		ldrh	r3, [r0, #54]
 4603 0012 9BB2     		uxth	r3, r3
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4604              		.loc 1 3543 20 view .LVU1545
 4605 0014 013B     		subs	r3, r3, #1
 4606 0016 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cc0VKmst.s 			page 177


 4607 0018 C386     		strh	r3, [r0, #54]	@ movhi
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4608              		.loc 1 3545 3 is_stmt 1 view .LVU1546
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4609              		.loc 1 3545 11 is_stmt 0 view .LVU1547
 4610 001a C38E     		ldrh	r3, [r0, #54]
 4611 001c 9BB2     		uxth	r3, r3
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4612              		.loc 1 3545 6 view .LVU1548
 4613 001e 03B1     		cbz	r3, .L316
 4614              	.LVL267:
 4615              	.L313:
3556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4616              		.loc 1 3556 1 view .LVU1549
 4617 0020 08BD     		pop	{r3, pc}
 4618              	.LVL268:
 4619              	.L316:
3554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4620              		.loc 1 3554 5 is_stmt 1 view .LVU1550
 4621 0022 FFF7FEFF 		bl	SPI_CloseTx_ISR
 4622              	.LVL269:
3556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4623              		.loc 1 3556 1 is_stmt 0 view .LVU1551
 4624 0026 FBE7     		b	.L313
 4625              		.cfi_endproc
 4626              	.LFE111:
 4628              		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 4629              		.align	1
 4630              		.syntax unified
 4631              		.thumb
 4632              		.thumb_func
 4633              		.fpu softvfp
 4635              	SPI_CloseRx_ISR:
 4636              	.LVL270:
 4637              	.LFB116:
3803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 4638              		.loc 1 3803 1 is_stmt 1 view -0
 4639              		.cfi_startproc
 4640              		@ args = 0, pretend = 0, frame = 8
 4641              		@ frame_needed = 0, uses_anonymous_args = 0
3803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 4642              		.loc 1 3803 1 is_stmt 0 view .LVU1553
 4643 0000 10B5     		push	{r4, lr}
 4644              	.LCFI57:
 4645              		.cfi_def_cfa_offset 8
 4646              		.cfi_offset 4, -8
 4647              		.cfi_offset 14, -4
 4648 0002 82B0     		sub	sp, sp, #8
 4649              	.LCFI58:
 4650              		.cfi_def_cfa_offset 16
 4651 0004 0446     		mov	r4, r0
3805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4652              		.loc 1 3805 3 is_stmt 1 view .LVU1554
 4653 0006 0268     		ldr	r2, [r0]
 4654 0008 5368     		ldr	r3, [r2, #4]
 4655 000a 23F06003 		bic	r3, r3, #96
 4656 000e 5360     		str	r3, [r2, #4]
ARM GAS  /tmp/cc0VKmst.s 			page 178


3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4657              		.loc 1 3808 3 view .LVU1555
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4658              		.loc 1 3808 7 is_stmt 0 view .LVU1556
 4659 0010 FFF7FEFF 		bl	HAL_GetTick
 4660              	.LVL271:
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4661              		.loc 1 3808 7 view .LVU1557
 4662 0014 0246     		mov	r2, r0
 4663 0016 6421     		movs	r1, #100
 4664 0018 2046     		mov	r0, r4
 4665 001a FFF7FEFF 		bl	SPI_EndRxTransaction
 4666              	.LVL272:
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4667              		.loc 1 3808 6 view .LVU1558
 4668 001e 18B1     		cbz	r0, .L318
3810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4669              		.loc 1 3810 5 is_stmt 1 view .LVU1559
 4670 0020 636D     		ldr	r3, [r4, #84]
 4671 0022 43F02003 		orr	r3, r3, #32
 4672 0026 6365     		str	r3, [r4, #84]
 4673              	.L318:
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4674              		.loc 1 3814 3 view .LVU1560
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4675              		.loc 1 3814 17 is_stmt 0 view .LVU1561
 4676 0028 A368     		ldr	r3, [r4, #8]
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4677              		.loc 1 3814 6 view .LVU1562
 4678 002a 33B9     		cbnz	r3, .L319
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4679              		.loc 1 3816 5 is_stmt 1 view .LVU1563
 4680              	.LBB6:
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4681              		.loc 1 3816 5 view .LVU1564
 4682 002c 0193     		str	r3, [sp, #4]
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4683              		.loc 1 3816 5 view .LVU1565
 4684 002e 2368     		ldr	r3, [r4]
 4685 0030 DA68     		ldr	r2, [r3, #12]
 4686 0032 0192     		str	r2, [sp, #4]
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4687              		.loc 1 3816 5 view .LVU1566
 4688 0034 9B68     		ldr	r3, [r3, #8]
 4689 0036 0193     		str	r3, [sp, #4]
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4690              		.loc 1 3816 5 view .LVU1567
 4691 0038 019B     		ldr	r3, [sp, #4]
 4692              	.L319:
 4693              	.LBE6:
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4694              		.loc 1 3816 5 discriminator 1 view .LVU1568
3818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4695              		.loc 1 3818 3 discriminator 1 view .LVU1569
3818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4696              		.loc 1 3818 15 is_stmt 0 discriminator 1 view .LVU1570
 4697 003a 0123     		movs	r3, #1
ARM GAS  /tmp/cc0VKmst.s 			page 179


 4698 003c 84F85130 		strb	r3, [r4, #81]
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4699              		.loc 1 3847 5 is_stmt 1 discriminator 1 view .LVU1571
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4700              		.loc 1 3847 13 is_stmt 0 discriminator 1 view .LVU1572
 4701 0040 636D     		ldr	r3, [r4, #84]
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4702              		.loc 1 3847 8 discriminator 1 view .LVU1573
 4703 0042 23B9     		cbnz	r3, .L320
3853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4704              		.loc 1 3853 7 is_stmt 1 view .LVU1574
 4705 0044 2046     		mov	r0, r4
 4706 0046 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 4707              	.LVL273:
 4708              	.L317:
3868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4709              		.loc 1 3868 1 is_stmt 0 view .LVU1575
 4710 004a 02B0     		add	sp, sp, #8
 4711              	.LCFI59:
 4712              		.cfi_remember_state
 4713              		.cfi_def_cfa_offset 8
 4714              		@ sp needed
 4715 004c 10BD     		pop	{r4, pc}
 4716              	.LVL274:
 4717              	.L320:
 4718              	.LCFI60:
 4719              		.cfi_restore_state
3862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4720              		.loc 1 3862 7 is_stmt 1 view .LVU1576
 4721 004e 2046     		mov	r0, r4
 4722 0050 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4723              	.LVL275:
3868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4724              		.loc 1 3868 1 is_stmt 0 view .LVU1577
 4725 0054 F9E7     		b	.L317
 4726              		.cfi_endproc
 4727              	.LFE116:
 4729              		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 4730              		.align	1
 4731              		.syntax unified
 4732              		.thumb
 4733              		.thumb_func
 4734              		.fpu softvfp
 4736              	SPI_RxISR_8BIT:
 4737              	.LVL276:
 4738              	.LFB108:
3411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 4739              		.loc 1 3411 1 is_stmt 1 view -0
 4740              		.cfi_startproc
 4741              		@ args = 0, pretend = 0, frame = 0
 4742              		@ frame_needed = 0, uses_anonymous_args = 0
3411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 4743              		.loc 1 3411 1 is_stmt 0 view .LVU1579
 4744 0000 08B5     		push	{r3, lr}
 4745              	.LCFI61:
 4746              		.cfi_def_cfa_offset 8
 4747              		.cfi_offset 3, -8
ARM GAS  /tmp/cc0VKmst.s 			page 180


 4748              		.cfi_offset 14, -4
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4749              		.loc 1 3412 3 is_stmt 1 view .LVU1580
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4750              		.loc 1 3412 46 is_stmt 0 view .LVU1581
 4751 0002 0268     		ldr	r2, [r0]
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4752              		.loc 1 3412 8 view .LVU1582
 4753 0004 836B     		ldr	r3, [r0, #56]
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4754              		.loc 1 3412 24 view .LVU1583
 4755 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4756              		.loc 1 3412 21 view .LVU1584
 4757 0008 1A70     		strb	r2, [r3]
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4758              		.loc 1 3413 3 is_stmt 1 view .LVU1585
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4759              		.loc 1 3413 7 is_stmt 0 view .LVU1586
 4760 000a 836B     		ldr	r3, [r0, #56]
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4761              		.loc 1 3413 19 view .LVU1587
 4762 000c 0133     		adds	r3, r3, #1
 4763 000e 8363     		str	r3, [r0, #56]
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4764              		.loc 1 3414 3 is_stmt 1 view .LVU1588
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4765              		.loc 1 3414 7 is_stmt 0 view .LVU1589
 4766 0010 C38F     		ldrh	r3, [r0, #62]
 4767 0012 9BB2     		uxth	r3, r3
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4768              		.loc 1 3414 20 view .LVU1590
 4769 0014 013B     		subs	r3, r3, #1
 4770 0016 9BB2     		uxth	r3, r3
 4771 0018 C387     		strh	r3, [r0, #62]	@ movhi
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4772              		.loc 1 3431 3 is_stmt 1 view .LVU1591
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4773              		.loc 1 3431 11 is_stmt 0 view .LVU1592
 4774 001a C38F     		ldrh	r3, [r0, #62]
 4775 001c 9BB2     		uxth	r3, r3
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4776              		.loc 1 3431 6 view .LVU1593
 4777 001e 03B1     		cbz	r3, .L326
 4778              	.LVL277:
 4779              	.L323:
3442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4780              		.loc 1 3442 1 view .LVU1594
 4781 0020 08BD     		pop	{r3, pc}
 4782              	.LVL278:
 4783              	.L326:
3440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4784              		.loc 1 3440 5 is_stmt 1 view .LVU1595
 4785 0022 FFF7FEFF 		bl	SPI_CloseRx_ISR
 4786              	.LVL279:
3442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4787              		.loc 1 3442 1 is_stmt 0 view .LVU1596
ARM GAS  /tmp/cc0VKmst.s 			page 181


 4788 0026 FBE7     		b	.L323
 4789              		.cfi_endproc
 4790              	.LFE108:
 4792              		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 4793              		.align	1
 4794              		.syntax unified
 4795              		.thumb
 4796              		.thumb_func
 4797              		.fpu softvfp
 4799              	SPI_RxISR_16BIT:
 4800              	.LVL280:
 4801              	.LFB109:
3474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 4802              		.loc 1 3474 1 is_stmt 1 view -0
 4803              		.cfi_startproc
 4804              		@ args = 0, pretend = 0, frame = 0
 4805              		@ frame_needed = 0, uses_anonymous_args = 0
3474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 4806              		.loc 1 3474 1 is_stmt 0 view .LVU1598
 4807 0000 08B5     		push	{r3, lr}
 4808              	.LCFI62:
 4809              		.cfi_def_cfa_offset 8
 4810              		.cfi_offset 3, -8
 4811              		.cfi_offset 14, -4
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4812              		.loc 1 3475 3 is_stmt 1 view .LVU1599
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4813              		.loc 1 3475 52 is_stmt 0 view .LVU1600
 4814 0002 0368     		ldr	r3, [r0]
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4815              		.loc 1 3475 62 view .LVU1601
 4816 0004 DA68     		ldr	r2, [r3, #12]
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4817              		.loc 1 3475 21 view .LVU1602
 4818 0006 836B     		ldr	r3, [r0, #56]
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4819              		.loc 1 3475 35 view .LVU1603
 4820 0008 1A80     		strh	r2, [r3]	@ movhi
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4821              		.loc 1 3476 3 is_stmt 1 view .LVU1604
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4822              		.loc 1 3476 20 is_stmt 0 view .LVU1605
 4823 000a 836B     		ldr	r3, [r0, #56]
 4824 000c 0233     		adds	r3, r3, #2
 4825 000e 8363     		str	r3, [r0, #56]
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4826              		.loc 1 3477 3 is_stmt 1 view .LVU1606
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4827              		.loc 1 3477 7 is_stmt 0 view .LVU1607
 4828 0010 C38F     		ldrh	r3, [r0, #62]
 4829 0012 9BB2     		uxth	r3, r3
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4830              		.loc 1 3477 20 view .LVU1608
 4831 0014 013B     		subs	r3, r3, #1
 4832 0016 9BB2     		uxth	r3, r3
 4833 0018 C387     		strh	r3, [r0, #62]	@ movhi
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/cc0VKmst.s 			page 182


 4834              		.loc 1 3494 3 is_stmt 1 view .LVU1609
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4835              		.loc 1 3494 11 is_stmt 0 view .LVU1610
 4836 001a C38F     		ldrh	r3, [r0, #62]
 4837 001c 9BB2     		uxth	r3, r3
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4838              		.loc 1 3494 6 view .LVU1611
 4839 001e 03B1     		cbz	r3, .L330
 4840              	.LVL281:
 4841              	.L327:
3505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4842              		.loc 1 3505 1 view .LVU1612
 4843 0020 08BD     		pop	{r3, pc}
 4844              	.LVL282:
 4845              	.L330:
3503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4846              		.loc 1 3503 5 is_stmt 1 view .LVU1613
 4847 0022 FFF7FEFF 		bl	SPI_CloseRx_ISR
 4848              	.LVL283:
3505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4849              		.loc 1 3505 1 is_stmt 0 view .LVU1614
 4850 0026 FBE7     		b	.L327
 4851              		.cfi_endproc
 4852              	.LFE109:
 4854              		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 4855              		.align	1
 4856              		.syntax unified
 4857              		.thumb
 4858              		.thumb_func
 4859              		.fpu softvfp
 4861              	SPI_CloseRxTx_ISR:
 4862              	.LVL284:
 4863              	.LFB115:
3697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4864              		.loc 1 3697 1 is_stmt 1 view -0
 4865              		.cfi_startproc
 4866              		@ args = 0, pretend = 0, frame = 8
 4867              		@ frame_needed = 0, uses_anonymous_args = 0
3697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4868              		.loc 1 3697 1 is_stmt 0 view .LVU1616
 4869 0000 10B5     		push	{r4, lr}
 4870              	.LCFI63:
 4871              		.cfi_def_cfa_offset 8
 4872              		.cfi_offset 4, -8
 4873              		.cfi_offset 14, -4
 4874 0002 82B0     		sub	sp, sp, #8
 4875              	.LCFI64:
 4876              		.cfi_def_cfa_offset 16
 4877 0004 0446     		mov	r4, r0
3698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4878              		.loc 1 3698 3 is_stmt 1 view .LVU1617
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4879              		.loc 1 3699 3 view .LVU1618
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4880              		.loc 1 3699 70 is_stmt 0 view .LVU1619
 4881 0006 284B     		ldr	r3, .L343
 4882 0008 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cc0VKmst.s 			page 183


 4883 000a 284A     		ldr	r2, .L343+4
 4884 000c A2FB0323 		umull	r2, r3, r2, r3
 4885 0010 5B0A     		lsrs	r3, r3, #9
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4886              		.loc 1 3699 45 view .LVU1620
 4887 0012 6422     		movs	r2, #100
 4888 0014 02FB03F3 		mul	r3, r2, r3
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4889              		.loc 1 3699 17 view .LVU1621
 4890 0018 0193     		str	r3, [sp, #4]
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4891              		.loc 1 3702 3 is_stmt 1 view .LVU1622
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4892              		.loc 1 3702 15 is_stmt 0 view .LVU1623
 4893 001a FFF7FEFF 		bl	HAL_GetTick
 4894              	.LVL285:
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4895              		.loc 1 3702 15 view .LVU1624
 4896 001e 0246     		mov	r2, r0
 4897              	.LVL286:
3705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4898              		.loc 1 3705 3 is_stmt 1 view .LVU1625
 4899 0020 2168     		ldr	r1, [r4]
 4900 0022 4B68     		ldr	r3, [r1, #4]
 4901 0024 23F02003 		bic	r3, r3, #32
 4902 0028 4B60     		str	r3, [r1, #4]
 4903              	.L334:
3708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4904              		.loc 1 3708 3 view .LVU1626
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4905              		.loc 1 3710 5 view .LVU1627
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4906              		.loc 1 3710 15 is_stmt 0 view .LVU1628
 4907 002a 019B     		ldr	r3, [sp, #4]
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4908              		.loc 1 3710 8 view .LVU1629
 4909 002c 43B1     		cbz	r3, .L341
3715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4910              		.loc 1 3715 5 is_stmt 1 view .LVU1630
3715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4911              		.loc 1 3715 10 is_stmt 0 view .LVU1631
 4912 002e 019B     		ldr	r3, [sp, #4]
 4913 0030 013B     		subs	r3, r3, #1
 4914 0032 0193     		str	r3, [sp, #4]
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4915              		.loc 1 3716 11 is_stmt 1 view .LVU1632
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4916              		.loc 1 3716 17 is_stmt 0 view .LVU1633
 4917 0034 2368     		ldr	r3, [r4]
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4918              		.loc 1 3716 27 view .LVU1634
 4919 0036 9B68     		ldr	r3, [r3, #8]
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4920              		.loc 1 3716 3 view .LVU1635
 4921 0038 13F0020F 		tst	r3, #2
 4922 003c F5D0     		beq	.L334
 4923 003e 03E0     		b	.L333
ARM GAS  /tmp/cc0VKmst.s 			page 184


 4924              	.L341:
3712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 4925              		.loc 1 3712 7 is_stmt 1 view .LVU1636
 4926 0040 636D     		ldr	r3, [r4, #84]
 4927 0042 43F02003 		orr	r3, r3, #32
 4928 0046 6365     		str	r3, [r4, #84]
3713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4929              		.loc 1 3713 7 view .LVU1637
 4930              	.L333:
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4931              		.loc 1 3719 3 view .LVU1638
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4932              		.loc 1 3719 7 is_stmt 0 view .LVU1639
 4933 0048 6421     		movs	r1, #100
 4934 004a 2046     		mov	r0, r4
 4935              	.LVL287:
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4936              		.loc 1 3719 7 view .LVU1640
 4937 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4938              	.LVL288:
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4939              		.loc 1 3719 6 view .LVU1641
 4940 0050 18B1     		cbz	r0, .L335
3721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4941              		.loc 1 3721 5 is_stmt 1 view .LVU1642
 4942 0052 636D     		ldr	r3, [r4, #84]
 4943 0054 43F02003 		orr	r3, r3, #32
 4944 0058 6365     		str	r3, [r4, #84]
 4945              	.L335:
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4946              		.loc 1 3725 3 view .LVU1643
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4947              		.loc 1 3725 17 is_stmt 0 view .LVU1644
 4948 005a A368     		ldr	r3, [r4, #8]
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4949              		.loc 1 3725 6 view .LVU1645
 4950 005c 33B9     		cbnz	r3, .L336
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4951              		.loc 1 3727 5 is_stmt 1 view .LVU1646
 4952              	.LBB7:
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4953              		.loc 1 3727 5 view .LVU1647
 4954 005e 0093     		str	r3, [sp]
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4955              		.loc 1 3727 5 view .LVU1648
 4956 0060 2368     		ldr	r3, [r4]
 4957 0062 DA68     		ldr	r2, [r3, #12]
 4958 0064 0092     		str	r2, [sp]
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4959              		.loc 1 3727 5 view .LVU1649
 4960 0066 9B68     		ldr	r3, [r3, #8]
 4961 0068 0093     		str	r3, [sp]
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4962              		.loc 1 3727 5 view .LVU1650
 4963 006a 009B     		ldr	r3, [sp]
 4964              	.L336:
 4965              	.LBE7:
ARM GAS  /tmp/cc0VKmst.s 			page 185


3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4966              		.loc 1 3727 5 discriminator 1 view .LVU1651
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4967              		.loc 1 3758 5 discriminator 1 view .LVU1652
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4968              		.loc 1 3758 13 is_stmt 0 discriminator 1 view .LVU1653
 4969 006c 636D     		ldr	r3, [r4, #84]
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4970              		.loc 1 3758 8 discriminator 1 view .LVU1654
 4971 006e 9BB9     		cbnz	r3, .L337
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4972              		.loc 1 3760 7 is_stmt 1 view .LVU1655
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4973              		.loc 1 3760 15 is_stmt 0 view .LVU1656
 4974 0070 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 4975 0074 DBB2     		uxtb	r3, r3
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4976              		.loc 1 3760 10 view .LVU1657
 4977 0076 042B     		cmp	r3, #4
 4978 0078 07D0     		beq	.L342
3772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user TxRx complete callback */
 4979              		.loc 1 3772 9 is_stmt 1 view .LVU1658
3772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user TxRx complete callback */
 4980              		.loc 1 3772 21 is_stmt 0 view .LVU1659
 4981 007a 0123     		movs	r3, #1
 4982 007c 84F85130 		strb	r3, [r4, #81]
3777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4983              		.loc 1 3777 9 is_stmt 1 view .LVU1660
 4984 0080 2046     		mov	r0, r4
 4985 0082 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 4986              	.LVL289:
 4987              	.L331:
3794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4988              		.loc 1 3794 1 is_stmt 0 view .LVU1661
 4989 0086 02B0     		add	sp, sp, #8
 4990              	.LCFI65:
 4991              		.cfi_remember_state
 4992              		.cfi_def_cfa_offset 8
 4993              		@ sp needed
 4994 0088 10BD     		pop	{r4, pc}
 4995              	.LVL290:
 4996              	.L342:
 4997              	.LCFI66:
 4998              		.cfi_restore_state
3762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user Rx complete callback */
 4999              		.loc 1 3762 9 is_stmt 1 view .LVU1662
3762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user Rx complete callback */
 5000              		.loc 1 3762 21 is_stmt 0 view .LVU1663
 5001 008a 0123     		movs	r3, #1
 5002 008c 84F85130 		strb	r3, [r4, #81]
3767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5003              		.loc 1 3767 9 is_stmt 1 view .LVU1664
 5004 0090 2046     		mov	r0, r4
 5005 0092 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 5006              	.LVL291:
 5007 0096 F6E7     		b	.L331
 5008              	.L337:
ARM GAS  /tmp/cc0VKmst.s 			page 186


3783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
 5009              		.loc 1 3783 7 view .LVU1665
3783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
 5010              		.loc 1 3783 19 is_stmt 0 view .LVU1666
 5011 0098 0123     		movs	r3, #1
 5012 009a 84F85130 		strb	r3, [r4, #81]
3788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5013              		.loc 1 3788 7 is_stmt 1 view .LVU1667
 5014 009e 2046     		mov	r0, r4
 5015 00a0 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5016              	.LVL292:
3794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5017              		.loc 1 3794 1 is_stmt 0 view .LVU1668
 5018 00a4 EFE7     		b	.L331
 5019              	.L344:
 5020 00a6 00BF     		.align	2
 5021              	.L343:
 5022 00a8 00000000 		.word	SystemCoreClock
 5023 00ac F1197605 		.word	91625969
 5024              		.cfi_endproc
 5025              	.LFE115:
 5027              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 5028              		.align	1
 5029              		.syntax unified
 5030              		.thumb
 5031              		.thumb_func
 5032              		.fpu softvfp
 5034              	SPI_2linesTxISR_8BIT:
 5035              	.LVL293:
 5036              	.LFB105:
3259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 5037              		.loc 1 3259 1 is_stmt 1 view -0
 5038              		.cfi_startproc
 5039              		@ args = 0, pretend = 0, frame = 0
 5040              		@ frame_needed = 0, uses_anonymous_args = 0
3259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 5041              		.loc 1 3259 1 is_stmt 0 view .LVU1670
 5042 0000 08B5     		push	{r3, lr}
 5043              	.LCFI67:
 5044              		.cfi_def_cfa_offset 8
 5045              		.cfi_offset 3, -8
 5046              		.cfi_offset 14, -4
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5047              		.loc 1 3260 3 is_stmt 1 view .LVU1671
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5048              		.loc 1 3260 65 is_stmt 0 view .LVU1672
 5049 0002 026B     		ldr	r2, [r0, #48]
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5050              		.loc 1 3260 25 view .LVU1673
 5051 0004 0368     		ldr	r3, [r0]
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5052              		.loc 1 3260 42 view .LVU1674
 5053 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5054              		.loc 1 3260 40 view .LVU1675
 5055 0008 1A73     		strb	r2, [r3, #12]
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
ARM GAS  /tmp/cc0VKmst.s 			page 187


 5056              		.loc 1 3261 3 is_stmt 1 view .LVU1676
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5057              		.loc 1 3261 7 is_stmt 0 view .LVU1677
 5058 000a 036B     		ldr	r3, [r0, #48]
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5059              		.loc 1 3261 19 view .LVU1678
 5060 000c 0133     		adds	r3, r3, #1
 5061 000e 0363     		str	r3, [r0, #48]
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5062              		.loc 1 3262 3 is_stmt 1 view .LVU1679
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5063              		.loc 1 3262 7 is_stmt 0 view .LVU1680
 5064 0010 C38E     		ldrh	r3, [r0, #54]
 5065 0012 9BB2     		uxth	r3, r3
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5066              		.loc 1 3262 20 view .LVU1681
 5067 0014 013B     		subs	r3, r3, #1
 5068 0016 9BB2     		uxth	r3, r3
 5069 0018 C386     		strh	r3, [r0, #54]	@ movhi
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5070              		.loc 1 3265 3 is_stmt 1 view .LVU1682
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5071              		.loc 1 3265 11 is_stmt 0 view .LVU1683
 5072 001a C38E     		ldrh	r3, [r0, #54]
 5073 001c 9BB2     		uxth	r3, r3
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5074              		.loc 1 3265 6 view .LVU1684
 5075 001e 3BB9     		cbnz	r3, .L345
3279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5076              		.loc 1 3279 5 is_stmt 1 view .LVU1685
 5077 0020 0268     		ldr	r2, [r0]
 5078 0022 5368     		ldr	r3, [r2, #4]
 5079 0024 23F08003 		bic	r3, r3, #128
 5080 0028 5360     		str	r3, [r2, #4]
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5081              		.loc 1 3281 5 view .LVU1686
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5082              		.loc 1 3281 13 is_stmt 0 view .LVU1687
 5083 002a C38F     		ldrh	r3, [r0, #62]
 5084 002c 9BB2     		uxth	r3, r3
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5085              		.loc 1 3281 8 view .LVU1688
 5086 002e 03B1     		cbz	r3, .L348
 5087              	.LVL294:
 5088              	.L345:
3286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5089              		.loc 1 3286 1 view .LVU1689
 5090 0030 08BD     		pop	{r3, pc}
 5091              	.LVL295:
 5092              	.L348:
3283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5093              		.loc 1 3283 7 is_stmt 1 view .LVU1690
 5094 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5095              	.LVL296:
3286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5096              		.loc 1 3286 1 is_stmt 0 view .LVU1691
 5097 0036 FBE7     		b	.L345
ARM GAS  /tmp/cc0VKmst.s 			page 188


 5098              		.cfi_endproc
 5099              	.LFE105:
 5101              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 5102              		.align	1
 5103              		.syntax unified
 5104              		.thumb
 5105              		.thumb_func
 5106              		.fpu softvfp
 5108              	SPI_2linesRxISR_8BIT:
 5109              	.LVL297:
 5110              	.LFB104:
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
 5111              		.loc 1 3196 1 is_stmt 1 view -0
 5112              		.cfi_startproc
 5113              		@ args = 0, pretend = 0, frame = 0
 5114              		@ frame_needed = 0, uses_anonymous_args = 0
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
 5115              		.loc 1 3196 1 is_stmt 0 view .LVU1693
 5116 0000 08B5     		push	{r3, lr}
 5117              	.LCFI68:
 5118              		.cfi_def_cfa_offset 8
 5119              		.cfi_offset 3, -8
 5120              		.cfi_offset 14, -4
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5121              		.loc 1 3198 3 is_stmt 1 view .LVU1694
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5122              		.loc 1 3198 46 is_stmt 0 view .LVU1695
 5123 0002 0268     		ldr	r2, [r0]
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5124              		.loc 1 3198 8 view .LVU1696
 5125 0004 836B     		ldr	r3, [r0, #56]
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5126              		.loc 1 3198 23 view .LVU1697
 5127 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5128              		.loc 1 3198 21 view .LVU1698
 5129 0008 1A70     		strb	r2, [r3]
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5130              		.loc 1 3199 3 is_stmt 1 view .LVU1699
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5131              		.loc 1 3199 7 is_stmt 0 view .LVU1700
 5132 000a 836B     		ldr	r3, [r0, #56]
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5133              		.loc 1 3199 19 view .LVU1701
 5134 000c 0133     		adds	r3, r3, #1
 5135 000e 8363     		str	r3, [r0, #56]
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5136              		.loc 1 3200 3 is_stmt 1 view .LVU1702
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5137              		.loc 1 3200 7 is_stmt 0 view .LVU1703
 5138 0010 C38F     		ldrh	r3, [r0, #62]
 5139 0012 9BB2     		uxth	r3, r3
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5140              		.loc 1 3200 20 view .LVU1704
 5141 0014 013B     		subs	r3, r3, #1
 5142 0016 9BB2     		uxth	r3, r3
 5143 0018 C387     		strh	r3, [r0, #62]	@ movhi
ARM GAS  /tmp/cc0VKmst.s 			page 189


3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5144              		.loc 1 3203 3 is_stmt 1 view .LVU1705
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5145              		.loc 1 3203 11 is_stmt 0 view .LVU1706
 5146 001a C38F     		ldrh	r3, [r0, #62]
 5147 001c 9BB2     		uxth	r3, r3
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5148              		.loc 1 3203 6 view .LVU1707
 5149 001e 3BB9     		cbnz	r3, .L349
3214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5150              		.loc 1 3214 5 is_stmt 1 view .LVU1708
 5151 0020 0268     		ldr	r2, [r0]
 5152 0022 5368     		ldr	r3, [r2, #4]
 5153 0024 23F06003 		bic	r3, r3, #96
 5154 0028 5360     		str	r3, [r2, #4]
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5155              		.loc 1 3216 5 view .LVU1709
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5156              		.loc 1 3216 13 is_stmt 0 view .LVU1710
 5157 002a C38E     		ldrh	r3, [r0, #54]
 5158 002c 9BB2     		uxth	r3, r3
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5159              		.loc 1 3216 8 view .LVU1711
 5160 002e 03B1     		cbz	r3, .L352
 5161              	.LVL298:
 5162              	.L349:
3221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5163              		.loc 1 3221 1 view .LVU1712
 5164 0030 08BD     		pop	{r3, pc}
 5165              	.LVL299:
 5166              	.L352:
3218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5167              		.loc 1 3218 7 is_stmt 1 view .LVU1713
 5168 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5169              	.LVL300:
3221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5170              		.loc 1 3221 1 is_stmt 0 view .LVU1714
 5171 0036 FBE7     		b	.L349
 5172              		.cfi_endproc
 5173              	.LFE104:
 5175              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 5176              		.align	1
 5177              		.syntax unified
 5178              		.thumb
 5179              		.thumb_func
 5180              		.fpu softvfp
 5182              	SPI_2linesTxISR_16BIT:
 5183              	.LVL301:
 5184              	.LFB107:
3351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5185              		.loc 1 3351 1 is_stmt 1 view -0
 5186              		.cfi_startproc
 5187              		@ args = 0, pretend = 0, frame = 0
 5188              		@ frame_needed = 0, uses_anonymous_args = 0
3351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5189              		.loc 1 3351 1 is_stmt 0 view .LVU1716
 5190 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/cc0VKmst.s 			page 190


 5191              	.LCFI69:
 5192              		.cfi_def_cfa_offset 8
 5193              		.cfi_offset 3, -8
 5194              		.cfi_offset 14, -4
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5195              		.loc 1 3353 3 is_stmt 1 view .LVU1717
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5196              		.loc 1 3353 48 is_stmt 0 view .LVU1718
 5197 0002 026B     		ldr	r2, [r0, #48]
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5198              		.loc 1 3353 7 view .LVU1719
 5199 0004 0368     		ldr	r3, [r0]
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5200              		.loc 1 3353 24 view .LVU1720
 5201 0006 1288     		ldrh	r2, [r2]
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5202              		.loc 1 3353 22 view .LVU1721
 5203 0008 DA60     		str	r2, [r3, #12]
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5204              		.loc 1 3354 3 is_stmt 1 view .LVU1722
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5205              		.loc 1 3354 20 is_stmt 0 view .LVU1723
 5206 000a 036B     		ldr	r3, [r0, #48]
 5207 000c 0233     		adds	r3, r3, #2
 5208 000e 0363     		str	r3, [r0, #48]
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5209              		.loc 1 3355 3 is_stmt 1 view .LVU1724
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5210              		.loc 1 3355 7 is_stmt 0 view .LVU1725
 5211 0010 C38E     		ldrh	r3, [r0, #54]
 5212 0012 9BB2     		uxth	r3, r3
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5213              		.loc 1 3355 20 view .LVU1726
 5214 0014 013B     		subs	r3, r3, #1
 5215 0016 9BB2     		uxth	r3, r3
 5216 0018 C386     		strh	r3, [r0, #54]	@ movhi
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5217              		.loc 1 3358 3 is_stmt 1 view .LVU1727
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5218              		.loc 1 3358 11 is_stmt 0 view .LVU1728
 5219 001a C38E     		ldrh	r3, [r0, #54]
 5220 001c 9BB2     		uxth	r3, r3
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5221              		.loc 1 3358 6 view .LVU1729
 5222 001e 3BB9     		cbnz	r3, .L353
3372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5223              		.loc 1 3372 5 is_stmt 1 view .LVU1730
 5224 0020 0268     		ldr	r2, [r0]
 5225 0022 5368     		ldr	r3, [r2, #4]
 5226 0024 23F08003 		bic	r3, r3, #128
 5227 0028 5360     		str	r3, [r2, #4]
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5228              		.loc 1 3374 5 view .LVU1731
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5229              		.loc 1 3374 13 is_stmt 0 view .LVU1732
 5230 002a C38F     		ldrh	r3, [r0, #62]
 5231 002c 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cc0VKmst.s 			page 191


3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5232              		.loc 1 3374 8 view .LVU1733
 5233 002e 03B1     		cbz	r3, .L356
 5234              	.LVL302:
 5235              	.L353:
3379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5236              		.loc 1 3379 1 view .LVU1734
 5237 0030 08BD     		pop	{r3, pc}
 5238              	.LVL303:
 5239              	.L356:
3376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5240              		.loc 1 3376 7 is_stmt 1 view .LVU1735
 5241 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5242              	.LVL304:
3379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5243              		.loc 1 3379 1 is_stmt 0 view .LVU1736
 5244 0036 FBE7     		b	.L353
 5245              		.cfi_endproc
 5246              	.LFE107:
 5248              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 5249              		.align	1
 5250              		.syntax unified
 5251              		.thumb
 5252              		.thumb_func
 5253              		.fpu softvfp
 5255              	SPI_2linesRxISR_16BIT:
 5256              	.LVL305:
 5257              	.LFB106:
3295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 5258              		.loc 1 3295 1 is_stmt 1 view -0
 5259              		.cfi_startproc
 5260              		@ args = 0, pretend = 0, frame = 0
 5261              		@ frame_needed = 0, uses_anonymous_args = 0
3295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 5262              		.loc 1 3295 1 is_stmt 0 view .LVU1738
 5263 0000 08B5     		push	{r3, lr}
 5264              	.LCFI70:
 5265              		.cfi_def_cfa_offset 8
 5266              		.cfi_offset 3, -8
 5267              		.cfi_offset 14, -4
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5268              		.loc 1 3297 3 is_stmt 1 view .LVU1739
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5269              		.loc 1 3297 52 is_stmt 0 view .LVU1740
 5270 0002 0368     		ldr	r3, [r0]
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5271              		.loc 1 3297 62 view .LVU1741
 5272 0004 DA68     		ldr	r2, [r3, #12]
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5273              		.loc 1 3297 21 view .LVU1742
 5274 0006 836B     		ldr	r3, [r0, #56]
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5275              		.loc 1 3297 35 view .LVU1743
 5276 0008 1A80     		strh	r2, [r3]	@ movhi
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5277              		.loc 1 3298 3 is_stmt 1 view .LVU1744
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
ARM GAS  /tmp/cc0VKmst.s 			page 192


 5278              		.loc 1 3298 20 is_stmt 0 view .LVU1745
 5279 000a 836B     		ldr	r3, [r0, #56]
 5280 000c 0233     		adds	r3, r3, #2
 5281 000e 8363     		str	r3, [r0, #56]
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5282              		.loc 1 3299 3 is_stmt 1 view .LVU1746
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5283              		.loc 1 3299 7 is_stmt 0 view .LVU1747
 5284 0010 C38F     		ldrh	r3, [r0, #62]
 5285 0012 9BB2     		uxth	r3, r3
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5286              		.loc 1 3299 20 view .LVU1748
 5287 0014 013B     		subs	r3, r3, #1
 5288 0016 9BB2     		uxth	r3, r3
 5289 0018 C387     		strh	r3, [r0, #62]	@ movhi
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5290              		.loc 1 3301 3 is_stmt 1 view .LVU1749
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5291              		.loc 1 3301 11 is_stmt 0 view .LVU1750
 5292 001a C38F     		ldrh	r3, [r0, #62]
 5293 001c 9BB2     		uxth	r3, r3
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5294              		.loc 1 3301 6 view .LVU1751
 5295 001e 3BB9     		cbnz	r3, .L357
3312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5296              		.loc 1 3312 5 is_stmt 1 view .LVU1752
 5297 0020 0268     		ldr	r2, [r0]
 5298 0022 5368     		ldr	r3, [r2, #4]
 5299 0024 23F04003 		bic	r3, r3, #64
 5300 0028 5360     		str	r3, [r2, #4]
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5301              		.loc 1 3314 5 view .LVU1753
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5302              		.loc 1 3314 13 is_stmt 0 view .LVU1754
 5303 002a C38E     		ldrh	r3, [r0, #54]
 5304 002c 9BB2     		uxth	r3, r3
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5305              		.loc 1 3314 8 view .LVU1755
 5306 002e 03B1     		cbz	r3, .L360
 5307              	.LVL306:
 5308              	.L357:
3319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5309              		.loc 1 3319 1 view .LVU1756
 5310 0030 08BD     		pop	{r3, pc}
 5311              	.LVL307:
 5312              	.L360:
3316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5313              		.loc 1 3316 7 is_stmt 1 view .LVU1757
 5314 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5315              	.LVL308:
3319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5316              		.loc 1 3319 1 is_stmt 0 view .LVU1758
 5317 0036 FBE7     		b	.L357
 5318              		.cfi_endproc
 5319              	.LFE106:
 5321              		.section	.text.SPI_DMAError,"ax",%progbits
 5322              		.align	1
ARM GAS  /tmp/cc0VKmst.s 			page 193


 5323              		.syntax unified
 5324              		.thumb
 5325              		.thumb_func
 5326              		.fpu softvfp
 5328              	SPI_DMAError:
 5329              	.LVL309:
 5330              	.LFB100:
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5331              		.loc 1 3029 1 is_stmt 1 view -0
 5332              		.cfi_startproc
 5333              		@ args = 0, pretend = 0, frame = 0
 5334              		@ frame_needed = 0, uses_anonymous_args = 0
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5335              		.loc 1 3029 1 is_stmt 0 view .LVU1760
 5336 0000 08B5     		push	{r3, lr}
 5337              	.LCFI71:
 5338              		.cfi_def_cfa_offset 8
 5339              		.cfi_offset 3, -8
 5340              		.cfi_offset 14, -4
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5341              		.loc 1 3030 3 is_stmt 1 view .LVU1761
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5342              		.loc 1 3030 22 is_stmt 0 view .LVU1762
 5343 0002 406A     		ldr	r0, [r0, #36]
 5344              	.LVL310:
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5345              		.loc 1 3033 3 is_stmt 1 view .LVU1763
 5346 0004 0268     		ldr	r2, [r0]
 5347 0006 5368     		ldr	r3, [r2, #4]
 5348 0008 23F00303 		bic	r3, r3, #3
 5349 000c 5360     		str	r3, [r2, #4]
3035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 5350              		.loc 1 3035 3 view .LVU1764
 5351 000e 436D     		ldr	r3, [r0, #84]
 5352 0010 43F01003 		orr	r3, r3, #16
 5353 0014 4365     		str	r3, [r0, #84]
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
 5354              		.loc 1 3036 3 view .LVU1765
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
 5355              		.loc 1 3036 15 is_stmt 0 view .LVU1766
 5356 0016 0123     		movs	r3, #1
 5357 0018 80F85130 		strb	r3, [r0, #81]
3041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5358              		.loc 1 3041 3 is_stmt 1 view .LVU1767
 5359 001c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5360              	.LVL311:
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5361              		.loc 1 3043 1 is_stmt 0 view .LVU1768
 5362 0020 08BD     		pop	{r3, pc}
 5363              		.cfi_endproc
 5364              	.LFE100:
 5366              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 5367              		.align	1
 5368              		.syntax unified
 5369              		.thumb
 5370              		.thumb_func
 5371              		.fpu softvfp
ARM GAS  /tmp/cc0VKmst.s 			page 194


 5373              	SPI_DMATransmitCplt:
 5374              	.LVL312:
 5375              	.LFB94:
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5376              		.loc 1 2729 1 is_stmt 1 view -0
 5377              		.cfi_startproc
 5378              		@ args = 0, pretend = 0, frame = 8
 5379              		@ frame_needed = 0, uses_anonymous_args = 0
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5380              		.loc 1 2729 1 is_stmt 0 view .LVU1770
 5381 0000 30B5     		push	{r4, r5, lr}
 5382              	.LCFI72:
 5383              		.cfi_def_cfa_offset 12
 5384              		.cfi_offset 4, -12
 5385              		.cfi_offset 5, -8
 5386              		.cfi_offset 14, -4
 5387 0002 83B0     		sub	sp, sp, #12
 5388              	.LCFI73:
 5389              		.cfi_def_cfa_offset 24
 5390 0004 0546     		mov	r5, r0
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5391              		.loc 1 2730 3 is_stmt 1 view .LVU1771
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5392              		.loc 1 2730 22 is_stmt 0 view .LVU1772
 5393 0006 446A     		ldr	r4, [r0, #36]
 5394              	.LVL313:
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5395              		.loc 1 2731 3 is_stmt 1 view .LVU1773
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5396              		.loc 1 2734 3 view .LVU1774
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5397              		.loc 1 2734 15 is_stmt 0 view .LVU1775
 5398 0008 FFF7FEFF 		bl	HAL_GetTick
 5399              	.LVL314:
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5400              		.loc 1 2737 3 is_stmt 1 view .LVU1776
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5401              		.loc 1 2737 12 is_stmt 0 view .LVU1777
 5402 000c 2B68     		ldr	r3, [r5]
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5403              		.loc 1 2737 22 view .LVU1778
 5404 000e 1B68     		ldr	r3, [r3]
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5405              		.loc 1 2737 6 view .LVU1779
 5406 0010 13F0200F 		tst	r3, #32
 5407 0014 23D1     		bne	.L364
 5408 0016 0246     		mov	r2, r0
2740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5409              		.loc 1 2740 5 is_stmt 1 view .LVU1780
 5410 0018 2168     		ldr	r1, [r4]
 5411 001a 4B68     		ldr	r3, [r1, #4]
 5412 001c 23F02003 		bic	r3, r3, #32
 5413 0020 4B60     		str	r3, [r1, #4]
2743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5414              		.loc 1 2743 5 view .LVU1781
 5415 0022 2168     		ldr	r1, [r4]
 5416 0024 4B68     		ldr	r3, [r1, #4]
ARM GAS  /tmp/cc0VKmst.s 			page 195


 5417 0026 23F00203 		bic	r3, r3, #2
 5418 002a 4B60     		str	r3, [r1, #4]
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5419              		.loc 1 2746 5 view .LVU1782
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5420              		.loc 1 2746 9 is_stmt 0 view .LVU1783
 5421 002c 6421     		movs	r1, #100
 5422 002e 2046     		mov	r0, r4
 5423              	.LVL315:
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5424              		.loc 1 2746 9 view .LVU1784
 5425 0030 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5426              	.LVL316:
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5427              		.loc 1 2746 8 view .LVU1785
 5428 0034 18B1     		cbz	r0, .L365
2748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5429              		.loc 1 2748 7 is_stmt 1 view .LVU1786
 5430 0036 636D     		ldr	r3, [r4, #84]
 5431 0038 43F02003 		orr	r3, r3, #32
 5432 003c 6365     		str	r3, [r4, #84]
 5433              	.L365:
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5434              		.loc 1 2752 5 view .LVU1787
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5435              		.loc 1 2752 19 is_stmt 0 view .LVU1788
 5436 003e A368     		ldr	r3, [r4, #8]
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5437              		.loc 1 2752 8 view .LVU1789
 5438 0040 33B9     		cbnz	r3, .L366
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5439              		.loc 1 2754 7 is_stmt 1 view .LVU1790
 5440              	.LBB8:
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5441              		.loc 1 2754 7 view .LVU1791
 5442 0042 0193     		str	r3, [sp, #4]
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5443              		.loc 1 2754 7 view .LVU1792
 5444 0044 2368     		ldr	r3, [r4]
 5445 0046 DA68     		ldr	r2, [r3, #12]
 5446 0048 0192     		str	r2, [sp, #4]
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5447              		.loc 1 2754 7 view .LVU1793
 5448 004a 9B68     		ldr	r3, [r3, #8]
 5449 004c 0193     		str	r3, [sp, #4]
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5450              		.loc 1 2754 7 view .LVU1794
 5451 004e 019B     		ldr	r3, [sp, #4]
 5452              	.L366:
 5453              	.LBE8:
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5454              		.loc 1 2754 7 discriminator 1 view .LVU1795
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5455              		.loc 1 2757 5 discriminator 1 view .LVU1796
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5456              		.loc 1 2757 23 is_stmt 0 discriminator 1 view .LVU1797
 5457 0050 0023     		movs	r3, #0
ARM GAS  /tmp/cc0VKmst.s 			page 196


 5458 0052 E386     		strh	r3, [r4, #54]	@ movhi
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5459              		.loc 1 2758 5 is_stmt 1 discriminator 1 view .LVU1798
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5460              		.loc 1 2758 17 is_stmt 0 discriminator 1 view .LVU1799
 5461 0054 0123     		movs	r3, #1
 5462 0056 84F85130 		strb	r3, [r4, #81]
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5463              		.loc 1 2760 5 is_stmt 1 discriminator 1 view .LVU1800
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5464              		.loc 1 2760 13 is_stmt 0 discriminator 1 view .LVU1801
 5465 005a 636D     		ldr	r3, [r4, #84]
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5466              		.loc 1 2760 8 discriminator 1 view .LVU1802
 5467 005c 23B9     		cbnz	r3, .L369
 5468              	.L364:
2775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5469              		.loc 1 2775 3 is_stmt 1 view .LVU1803
 5470 005e 2046     		mov	r0, r4
 5471 0060 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 5472              	.LVL317:
 5473              	.L363:
2777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5474              		.loc 1 2777 1 is_stmt 0 view .LVU1804
 5475 0064 03B0     		add	sp, sp, #12
 5476              	.LCFI74:
 5477              		.cfi_remember_state
 5478              		.cfi_def_cfa_offset 12
 5479              		@ sp needed
 5480 0066 30BD     		pop	{r4, r5, pc}
 5481              	.LVL318:
 5482              	.L369:
 5483              	.LCFI75:
 5484              		.cfi_restore_state
2766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5485              		.loc 1 2766 7 is_stmt 1 view .LVU1805
 5486 0068 2046     		mov	r0, r4
 5487 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5488              	.LVL319:
2768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5489              		.loc 1 2768 7 view .LVU1806
 5490 006e F9E7     		b	.L363
 5491              		.cfi_endproc
 5492              	.LFE94:
 5494              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 5495              		.align	1
 5496              		.syntax unified
 5497              		.thumb
 5498              		.thumb_func
 5499              		.fpu softvfp
 5501              	SPI_DMAReceiveCplt:
 5502              	.LVL320:
 5503              	.LFB95:
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5504              		.loc 1 2786 1 view -0
 5505              		.cfi_startproc
 5506              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc0VKmst.s 			page 197


 5507              		@ frame_needed = 0, uses_anonymous_args = 0
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5508              		.loc 1 2786 1 is_stmt 0 view .LVU1808
 5509 0000 38B5     		push	{r3, r4, r5, lr}
 5510              	.LCFI76:
 5511              		.cfi_def_cfa_offset 16
 5512              		.cfi_offset 3, -16
 5513              		.cfi_offset 4, -12
 5514              		.cfi_offset 5, -8
 5515              		.cfi_offset 14, -4
 5516 0002 0546     		mov	r5, r0
2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5517              		.loc 1 2787 3 is_stmt 1 view .LVU1809
2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5518              		.loc 1 2787 22 is_stmt 0 view .LVU1810
 5519 0004 446A     		ldr	r4, [r0, #36]
 5520              	.LVL321:
2788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 5521              		.loc 1 2788 3 is_stmt 1 view .LVU1811
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5522              		.loc 1 2794 3 view .LVU1812
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5523              		.loc 1 2794 15 is_stmt 0 view .LVU1813
 5524 0006 FFF7FEFF 		bl	HAL_GetTick
 5525              	.LVL322:
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5526              		.loc 1 2797 3 is_stmt 1 view .LVU1814
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5527              		.loc 1 2797 12 is_stmt 0 view .LVU1815
 5528 000a 2B68     		ldr	r3, [r5]
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5529              		.loc 1 2797 22 view .LVU1816
 5530 000c 1B68     		ldr	r3, [r3]
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5531              		.loc 1 2797 6 view .LVU1817
 5532 000e 13F0200F 		tst	r3, #32
 5533 0012 1ED1     		bne	.L371
 5534 0014 0246     		mov	r2, r0
2800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5535              		.loc 1 2800 5 is_stmt 1 view .LVU1818
 5536 0016 2168     		ldr	r1, [r4]
 5537 0018 4B68     		ldr	r3, [r1, #4]
 5538 001a 23F02003 		bic	r3, r3, #32
 5539 001e 4B60     		str	r3, [r1, #4]
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5540              		.loc 1 2820 5 view .LVU1819
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5541              		.loc 1 2820 20 is_stmt 0 view .LVU1820
 5542 0020 A368     		ldr	r3, [r4, #8]
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5543              		.loc 1 2820 8 view .LVU1821
 5544 0022 1BB9     		cbnz	r3, .L372
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5545              		.loc 1 2820 70 discriminator 1 view .LVU1822
 5546 0024 6368     		ldr	r3, [r4, #4]
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5547              		.loc 1 2820 56 discriminator 1 view .LVU1823
ARM GAS  /tmp/cc0VKmst.s 			page 198


 5548 0026 B3F5827F 		cmp	r3, #260
 5549 002a 16D0     		beq	.L377
 5550              	.L372:
2828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5551              		.loc 1 2828 7 is_stmt 1 view .LVU1824
 5552 002c 2168     		ldr	r1, [r4]
 5553 002e 4B68     		ldr	r3, [r1, #4]
 5554 0030 23F00103 		bic	r3, r3, #1
 5555 0034 4B60     		str	r3, [r1, #4]
 5556              	.L373:
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5557              		.loc 1 2832 5 view .LVU1825
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5558              		.loc 1 2832 9 is_stmt 0 view .LVU1826
 5559 0036 6421     		movs	r1, #100
 5560 0038 2046     		mov	r0, r4
 5561              	.LVL323:
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5562              		.loc 1 2832 9 view .LVU1827
 5563 003a FFF7FEFF 		bl	SPI_EndRxTransaction
 5564              	.LVL324:
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5565              		.loc 1 2832 8 view .LVU1828
 5566 003e 08B1     		cbz	r0, .L374
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5567              		.loc 1 2834 7 is_stmt 1 view .LVU1829
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5568              		.loc 1 2834 23 is_stmt 0 view .LVU1830
 5569 0040 2023     		movs	r3, #32
 5570 0042 6365     		str	r3, [r4, #84]
 5571              	.L374:
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5572              		.loc 1 2837 5 is_stmt 1 view .LVU1831
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5573              		.loc 1 2837 23 is_stmt 0 view .LVU1832
 5574 0044 0023     		movs	r3, #0
 5575 0046 E387     		strh	r3, [r4, #62]	@ movhi
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5576              		.loc 1 2838 5 is_stmt 1 view .LVU1833
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5577              		.loc 1 2838 17 is_stmt 0 view .LVU1834
 5578 0048 0123     		movs	r3, #1
 5579 004a 84F85130 		strb	r3, [r4, #81]
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5580              		.loc 1 2859 5 is_stmt 1 view .LVU1835
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5581              		.loc 1 2859 13 is_stmt 0 view .LVU1836
 5582 004e 636D     		ldr	r3, [r4, #84]
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5583              		.loc 1 2859 8 view .LVU1837
 5584 0050 4BB9     		cbnz	r3, .L378
 5585              	.L371:
2874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5586              		.loc 1 2874 3 is_stmt 1 view .LVU1838
 5587 0052 2046     		mov	r0, r4
 5588 0054 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 5589              	.LVL325:
ARM GAS  /tmp/cc0VKmst.s 			page 199


 5590              	.L370:
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5591              		.loc 1 2876 1 is_stmt 0 view .LVU1839
 5592 0058 38BD     		pop	{r3, r4, r5, pc}
 5593              	.LVL326:
 5594              	.L377:
2823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5595              		.loc 1 2823 7 is_stmt 1 view .LVU1840
 5596 005a 2168     		ldr	r1, [r4]
 5597 005c 4B68     		ldr	r3, [r1, #4]
 5598 005e 23F00303 		bic	r3, r3, #3
 5599 0062 4B60     		str	r3, [r1, #4]
 5600 0064 E7E7     		b	.L373
 5601              	.LVL327:
 5602              	.L378:
2865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5603              		.loc 1 2865 7 view .LVU1841
 5604 0066 2046     		mov	r0, r4
 5605 0068 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5606              	.LVL328:
2867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5607              		.loc 1 2867 7 view .LVU1842
 5608 006c F4E7     		b	.L370
 5609              		.cfi_endproc
 5610              	.LFE95:
 5612              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 5613              		.align	1
 5614              		.syntax unified
 5615              		.thumb
 5616              		.thumb_func
 5617              		.fpu softvfp
 5619              	SPI_DMATransmitReceiveCplt:
 5620              	.LVL329:
 5621              	.LFB96:
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5622              		.loc 1 2885 1 view -0
 5623              		.cfi_startproc
 5624              		@ args = 0, pretend = 0, frame = 0
 5625              		@ frame_needed = 0, uses_anonymous_args = 0
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5626              		.loc 1 2885 1 is_stmt 0 view .LVU1844
 5627 0000 38B5     		push	{r3, r4, r5, lr}
 5628              	.LCFI77:
 5629              		.cfi_def_cfa_offset 16
 5630              		.cfi_offset 3, -16
 5631              		.cfi_offset 4, -12
 5632              		.cfi_offset 5, -8
 5633              		.cfi_offset 14, -4
 5634 0002 0546     		mov	r5, r0
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5635              		.loc 1 2886 3 is_stmt 1 view .LVU1845
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5636              		.loc 1 2886 22 is_stmt 0 view .LVU1846
 5637 0004 446A     		ldr	r4, [r0, #36]
 5638              	.LVL330:
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 5639              		.loc 1 2887 3 is_stmt 1 view .LVU1847
ARM GAS  /tmp/cc0VKmst.s 			page 200


2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5640              		.loc 1 2893 3 view .LVU1848
2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5641              		.loc 1 2893 15 is_stmt 0 view .LVU1849
 5642 0006 FFF7FEFF 		bl	HAL_GetTick
 5643              	.LVL331:
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5644              		.loc 1 2896 3 is_stmt 1 view .LVU1850
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5645              		.loc 1 2896 12 is_stmt 0 view .LVU1851
 5646 000a 2B68     		ldr	r3, [r5]
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5647              		.loc 1 2896 22 view .LVU1852
 5648 000c 1B68     		ldr	r3, [r3]
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5649              		.loc 1 2896 6 view .LVU1853
 5650 000e 13F0200F 		tst	r3, #32
 5651 0012 1BD1     		bne	.L380
 5652 0014 0246     		mov	r2, r0
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5653              		.loc 1 2899 5 is_stmt 1 view .LVU1854
 5654 0016 2168     		ldr	r1, [r4]
 5655 0018 4B68     		ldr	r3, [r1, #4]
 5656 001a 23F02003 		bic	r3, r3, #32
 5657 001e 4B60     		str	r3, [r1, #4]
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5658              		.loc 1 2918 5 view .LVU1855
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5659              		.loc 1 2918 9 is_stmt 0 view .LVU1856
 5660 0020 6421     		movs	r1, #100
 5661 0022 2046     		mov	r0, r4
 5662              	.LVL332:
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5663              		.loc 1 2918 9 view .LVU1857
 5664 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5665              	.LVL333:
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5666              		.loc 1 2918 8 view .LVU1858
 5667 0028 18B1     		cbz	r0, .L381
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5668              		.loc 1 2920 7 is_stmt 1 view .LVU1859
 5669 002a 636D     		ldr	r3, [r4, #84]
 5670 002c 43F02003 		orr	r3, r3, #32
 5671 0030 6365     		str	r3, [r4, #84]
 5672              	.L381:
2924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5673              		.loc 1 2924 5 view .LVU1860
 5674 0032 2268     		ldr	r2, [r4]
 5675 0034 5368     		ldr	r3, [r2, #4]
 5676 0036 23F00303 		bic	r3, r3, #3
 5677 003a 5360     		str	r3, [r2, #4]
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 5678              		.loc 1 2926 5 view .LVU1861
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 5679              		.loc 1 2926 23 is_stmt 0 view .LVU1862
 5680 003c 0023     		movs	r3, #0
 5681 003e E386     		strh	r3, [r4, #54]	@ movhi
ARM GAS  /tmp/cc0VKmst.s 			page 201


2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5682              		.loc 1 2927 5 is_stmt 1 view .LVU1863
2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5683              		.loc 1 2927 23 is_stmt 0 view .LVU1864
 5684 0040 E387     		strh	r3, [r4, #62]	@ movhi
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5685              		.loc 1 2928 5 is_stmt 1 view .LVU1865
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5686              		.loc 1 2928 17 is_stmt 0 view .LVU1866
 5687 0042 0123     		movs	r3, #1
 5688 0044 84F85130 		strb	r3, [r4, #81]
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5689              		.loc 1 2949 5 is_stmt 1 view .LVU1867
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5690              		.loc 1 2949 13 is_stmt 0 view .LVU1868
 5691 0048 636D     		ldr	r3, [r4, #84]
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5692              		.loc 1 2949 8 view .LVU1869
 5693 004a 1BB9     		cbnz	r3, .L384
 5694              	.L380:
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5695              		.loc 1 2964 3 is_stmt 1 view .LVU1870
 5696 004c 2046     		mov	r0, r4
 5697 004e FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 5698              	.LVL334:
 5699              	.L379:
2966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5700              		.loc 1 2966 1 is_stmt 0 view .LVU1871
 5701 0052 38BD     		pop	{r3, r4, r5, pc}
 5702              	.LVL335:
 5703              	.L384:
2955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5704              		.loc 1 2955 7 is_stmt 1 view .LVU1872
 5705 0054 2046     		mov	r0, r4
 5706 0056 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5707              	.LVL336:
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5708              		.loc 1 2957 7 view .LVU1873
 5709 005a FAE7     		b	.L379
 5710              		.cfi_endproc
 5711              	.LFE96:
 5713              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 5714              		.align	1
 5715              		.global	HAL_SPI_IRQHandler
 5716              		.syntax unified
 5717              		.thumb
 5718              		.thumb_func
 5719              		.fpu softvfp
 5721              	HAL_SPI_IRQHandler:
 5722              	.LVL337:
 5723              	.LFB83:
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 5724              		.loc 1 2441 1 view -0
 5725              		.cfi_startproc
 5726              		@ args = 0, pretend = 0, frame = 16
 5727              		@ frame_needed = 0, uses_anonymous_args = 0
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
ARM GAS  /tmp/cc0VKmst.s 			page 202


 5728              		.loc 1 2441 1 is_stmt 0 view .LVU1875
 5729 0000 30B5     		push	{r4, r5, lr}
 5730              	.LCFI78:
 5731              		.cfi_def_cfa_offset 12
 5732              		.cfi_offset 4, -12
 5733              		.cfi_offset 5, -8
 5734              		.cfi_offset 14, -4
 5735 0002 85B0     		sub	sp, sp, #20
 5736              	.LCFI79:
 5737              		.cfi_def_cfa_offset 32
 5738 0004 0446     		mov	r4, r0
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5739              		.loc 1 2442 3 is_stmt 1 view .LVU1876
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5740              		.loc 1 2442 27 is_stmt 0 view .LVU1877
 5741 0006 0268     		ldr	r2, [r0]
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5742              		.loc 1 2442 12 view .LVU1878
 5743 0008 5168     		ldr	r1, [r2, #4]
 5744              	.LVL338:
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5745              		.loc 1 2443 3 is_stmt 1 view .LVU1879
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5746              		.loc 1 2443 12 is_stmt 0 view .LVU1880
 5747 000a 9368     		ldr	r3, [r2, #8]
 5748              	.LVL339:
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5749              		.loc 1 2446 3 is_stmt 1 view .LVU1881
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5750              		.loc 1 2446 8 is_stmt 0 view .LVU1882
 5751 000c C3F38010 		ubfx	r0, r3, #6, #1
 5752              	.LVL340:
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5753              		.loc 1 2446 6 view .LVU1883
 5754 0010 13F0400F 		tst	r3, #64
 5755 0014 05D1     		bne	.L386
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5756              		.loc 1 2446 55 discriminator 1 view .LVU1884
 5757 0016 13F0010F 		tst	r3, #1
 5758 001a 02D0     		beq	.L386
2447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5759              		.loc 1 2447 56 view .LVU1885
 5760 001c 11F0400F 		tst	r1, #64
 5761 0020 5AD1     		bne	.L397
 5762              	.L386:
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5763              		.loc 1 2454 3 is_stmt 1 view .LVU1886
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5764              		.loc 1 2454 6 is_stmt 0 view .LVU1887
 5765 0022 13F0020F 		tst	r3, #2
 5766 0026 02D0     		beq	.L388
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5767              		.loc 1 2454 55 discriminator 1 view .LVU1888
 5768 0028 11F0800F 		tst	r1, #128
 5769 002c 58D1     		bne	.L398
 5770              	.L388:
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
ARM GAS  /tmp/cc0VKmst.s 			page 203


 5771              		.loc 1 2461 3 is_stmt 1 view .LVU1889
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
 5772              		.loc 1 2461 9 is_stmt 0 view .LVU1890
 5773 002e C3F34015 		ubfx	r5, r3, #5, #1
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
 5774              		.loc 1 2461 6 view .LVU1891
 5775 0032 13F0200F 		tst	r3, #32
 5776 0036 01D1     		bne	.L389
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
 5777              		.loc 1 2461 57 discriminator 1 view .LVU1892
 5778 0038 0028     		cmp	r0, #0
 5779 003a 54D0     		beq	.L385
 5780              	.L389:
2462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5781              		.loc 1 2462 7 view .LVU1893
 5782 003c 11F0200F 		tst	r1, #32
 5783 0040 51D0     		beq	.L385
2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5784              		.loc 1 2465 5 is_stmt 1 view .LVU1894
2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5785              		.loc 1 2465 8 is_stmt 0 view .LVU1895
 5786 0042 78B1     		cbz	r0, .L390
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5787              		.loc 1 2467 7 is_stmt 1 view .LVU1896
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5788              		.loc 1 2467 15 is_stmt 0 view .LVU1897
 5789 0044 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 5790              	.LVL341:
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5791              		.loc 1 2467 15 view .LVU1898
 5792 0048 DBB2     		uxtb	r3, r3
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5793              		.loc 1 2467 10 view .LVU1899
 5794 004a 032B     		cmp	r3, #3
 5795 004c 4DD0     		beq	.L391
2469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5796              		.loc 1 2469 9 is_stmt 1 view .LVU1900
 5797 004e 636D     		ldr	r3, [r4, #84]
 5798 0050 43F00403 		orr	r3, r3, #4
 5799 0054 6365     		str	r3, [r4, #84]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5800              		.loc 1 2470 9 view .LVU1901
 5801              	.LBB9:
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5802              		.loc 1 2470 9 view .LVU1902
 5803 0056 0023     		movs	r3, #0
 5804 0058 0193     		str	r3, [sp, #4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5805              		.loc 1 2470 9 view .LVU1903
 5806 005a D368     		ldr	r3, [r2, #12]
 5807 005c 0193     		str	r3, [sp, #4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5808              		.loc 1 2470 9 view .LVU1904
 5809 005e 9368     		ldr	r3, [r2, #8]
 5810 0060 0193     		str	r3, [sp, #4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5811              		.loc 1 2470 9 view .LVU1905
ARM GAS  /tmp/cc0VKmst.s 			page 204


 5812 0062 019B     		ldr	r3, [sp, #4]
 5813              	.LBE9:
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5814              		.loc 1 2470 9 view .LVU1906
 5815              	.L390:
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5816              		.loc 1 2480 5 view .LVU1907
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5817              		.loc 1 2480 8 is_stmt 0 view .LVU1908
 5818 0064 65B1     		cbz	r5, .L392
2482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 5819              		.loc 1 2482 7 is_stmt 1 view .LVU1909
 5820 0066 636D     		ldr	r3, [r4, #84]
 5821 0068 43F00103 		orr	r3, r3, #1
 5822 006c 6365     		str	r3, [r4, #84]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5823              		.loc 1 2483 7 view .LVU1910
 5824              	.LBB10:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5825              		.loc 1 2483 7 view .LVU1911
 5826 006e 0023     		movs	r3, #0
 5827 0070 0393     		str	r3, [sp, #12]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5828              		.loc 1 2483 7 view .LVU1912
 5829 0072 9368     		ldr	r3, [r2, #8]
 5830 0074 0393     		str	r3, [sp, #12]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5831              		.loc 1 2483 7 view .LVU1913
 5832 0076 1368     		ldr	r3, [r2]
 5833 0078 23F04003 		bic	r3, r3, #64
 5834 007c 1360     		str	r3, [r2]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5835              		.loc 1 2483 7 view .LVU1914
 5836 007e 039B     		ldr	r3, [sp, #12]
 5837              	.L392:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5838              		.loc 1 2483 7 is_stmt 0 view .LVU1915
 5839              	.LBE10:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5840              		.loc 1 2483 7 is_stmt 1 discriminator 1 view .LVU1916
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5841              		.loc 1 2488 5 discriminator 1 view .LVU1917
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5842              		.loc 1 2488 13 is_stmt 0 discriminator 1 view .LVU1918
 5843 0080 636D     		ldr	r3, [r4, #84]
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5844              		.loc 1 2488 8 discriminator 1 view .LVU1919
 5845 0082 002B     		cmp	r3, #0
 5846 0084 2FD0     		beq	.L385
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5847              		.loc 1 2491 7 is_stmt 1 view .LVU1920
 5848 0086 2268     		ldr	r2, [r4]
 5849 0088 5368     		ldr	r3, [r2, #4]
 5850 008a 23F0E003 		bic	r3, r3, #224
 5851 008e 5360     		str	r3, [r2, #4]
2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 5852              		.loc 1 2493 7 view .LVU1921
ARM GAS  /tmp/cc0VKmst.s 			page 205


2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 5853              		.loc 1 2493 19 is_stmt 0 view .LVU1922
 5854 0090 0123     		movs	r3, #1
 5855 0092 84F85130 		strb	r3, [r4, #81]
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5856              		.loc 1 2495 7 is_stmt 1 view .LVU1923
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5857              		.loc 1 2495 10 is_stmt 0 view .LVU1924
 5858 0096 11F0030F 		tst	r1, #3
 5859 009a 2ED0     		beq	.L394
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5860              		.loc 1 2497 9 is_stmt 1 view .LVU1925
 5861 009c 2268     		ldr	r2, [r4]
 5862 009e 5368     		ldr	r3, [r2, #4]
 5863 00a0 23F00303 		bic	r3, r3, #3
 5864 00a4 5360     		str	r3, [r2, #4]
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5865              		.loc 1 2500 9 view .LVU1926
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5866              		.loc 1 2500 17 is_stmt 0 view .LVU1927
 5867 00a6 E36C     		ldr	r3, [r4, #76]
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5868              		.loc 1 2500 12 view .LVU1928
 5869 00a8 4BB1     		cbz	r3, .L395
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 5870              		.loc 1 2504 11 is_stmt 1 view .LVU1929
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 5871              		.loc 1 2504 43 is_stmt 0 view .LVU1930
 5872 00aa 164A     		ldr	r2, .L399
 5873 00ac 5A63     		str	r2, [r3, #52]
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5874              		.loc 1 2505 11 is_stmt 1 view .LVU1931
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5875              		.loc 1 2505 25 is_stmt 0 view .LVU1932
 5876 00ae E06C     		ldr	r0, [r4, #76]
 5877 00b0 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5878              	.LVL342:
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5879              		.loc 1 2505 14 view .LVU1933
 5880 00b4 18B1     		cbz	r0, .L395
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
 5881              		.loc 1 2507 13 is_stmt 1 view .LVU1934
 5882 00b6 636D     		ldr	r3, [r4, #84]
 5883 00b8 43F04003 		orr	r3, r3, #64
 5884 00bc 6365     		str	r3, [r4, #84]
 5885              	.L395:
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5886              		.loc 1 2511 9 view .LVU1935
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5887              		.loc 1 2511 17 is_stmt 0 view .LVU1936
 5888 00be A36C     		ldr	r3, [r4, #72]
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5889              		.loc 1 2511 12 view .LVU1937
 5890 00c0 8BB1     		cbz	r3, .L385
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 5891              		.loc 1 2515 11 is_stmt 1 view .LVU1938
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
ARM GAS  /tmp/cc0VKmst.s 			page 206


 5892              		.loc 1 2515 43 is_stmt 0 view .LVU1939
 5893 00c2 104A     		ldr	r2, .L399
 5894 00c4 5A63     		str	r2, [r3, #52]
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5895              		.loc 1 2516 11 is_stmt 1 view .LVU1940
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5896              		.loc 1 2516 25 is_stmt 0 view .LVU1941
 5897 00c6 A06C     		ldr	r0, [r4, #72]
 5898 00c8 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5899              	.LVL343:
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5900              		.loc 1 2516 14 view .LVU1942
 5901 00cc 58B1     		cbz	r0, .L385
2518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
 5902              		.loc 1 2518 13 is_stmt 1 view .LVU1943
 5903 00ce 636D     		ldr	r3, [r4, #84]
 5904 00d0 43F04003 		orr	r3, r3, #64
 5905 00d4 6365     		str	r3, [r4, #84]
 5906 00d6 06E0     		b	.L385
 5907              	.LVL344:
 5908              	.L397:
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5909              		.loc 1 2449 5 view .LVU1944
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5910              		.loc 1 2449 9 is_stmt 0 view .LVU1945
 5911 00d8 236C     		ldr	r3, [r4, #64]
 5912              	.LVL345:
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5913              		.loc 1 2449 5 view .LVU1946
 5914 00da 2046     		mov	r0, r4
 5915 00dc 9847     		blx	r3
 5916              	.LVL346:
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5917              		.loc 1 2450 5 is_stmt 1 view .LVU1947
 5918 00de 02E0     		b	.L385
 5919              	.LVL347:
 5920              	.L398:
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5921              		.loc 1 2456 5 view .LVU1948
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5922              		.loc 1 2456 9 is_stmt 0 view .LVU1949
 5923 00e0 636C     		ldr	r3, [r4, #68]
 5924              	.LVL348:
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5925              		.loc 1 2456 5 view .LVU1950
 5926 00e2 2046     		mov	r0, r4
 5927 00e4 9847     		blx	r3
 5928              	.LVL349:
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5929              		.loc 1 2457 5 is_stmt 1 view .LVU1951
 5930              	.L385:
2534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5931              		.loc 1 2534 1 is_stmt 0 view .LVU1952
 5932 00e6 05B0     		add	sp, sp, #20
 5933              	.LCFI80:
 5934              		.cfi_remember_state
 5935              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/cc0VKmst.s 			page 207


 5936              		@ sp needed
 5937 00e8 30BD     		pop	{r4, r5, pc}
 5938              	.LVL350:
 5939              	.L391:
 5940              	.LCFI81:
 5941              		.cfi_restore_state
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5942              		.loc 1 2474 9 is_stmt 1 view .LVU1953
 5943              	.LBB11:
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5944              		.loc 1 2474 9 view .LVU1954
 5945 00ea 0023     		movs	r3, #0
 5946 00ec 0293     		str	r3, [sp, #8]
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5947              		.loc 1 2474 9 view .LVU1955
 5948 00ee D368     		ldr	r3, [r2, #12]
 5949 00f0 0293     		str	r3, [sp, #8]
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5950              		.loc 1 2474 9 view .LVU1956
 5951 00f2 9368     		ldr	r3, [r2, #8]
 5952 00f4 0293     		str	r3, [sp, #8]
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5953              		.loc 1 2474 9 view .LVU1957
 5954 00f6 029B     		ldr	r3, [sp, #8]
 5955              	.LBE11:
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5956              		.loc 1 2474 9 view .LVU1958
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5957              		.loc 1 2475 9 view .LVU1959
 5958 00f8 F5E7     		b	.L385
 5959              	.L394:
2528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5960              		.loc 1 2528 9 view .LVU1960
 5961 00fa 2046     		mov	r0, r4
 5962 00fc FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5963              	.LVL351:
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5964              		.loc 1 2532 5 view .LVU1961
 5965 0100 F1E7     		b	.L385
 5966              	.L400:
 5967 0102 00BF     		.align	2
 5968              	.L399:
 5969 0104 00000000 		.word	SPI_DMAAbortOnError
 5970              		.cfi_endproc
 5971              	.LFE83:
 5973              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 5974              		.align	1
 5975              		.syntax unified
 5976              		.thumb
 5977              		.thumb_func
 5978              		.fpu softvfp
 5980              	SPI_DMAAbortOnError:
 5981              	.LVL352:
 5982              	.LFB101:
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5983              		.loc 1 3052 1 view -0
 5984              		.cfi_startproc
ARM GAS  /tmp/cc0VKmst.s 			page 208


 5985              		@ args = 0, pretend = 0, frame = 0
 5986              		@ frame_needed = 0, uses_anonymous_args = 0
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5987              		.loc 1 3052 1 is_stmt 0 view .LVU1963
 5988 0000 08B5     		push	{r3, lr}
 5989              	.LCFI82:
 5990              		.cfi_def_cfa_offset 8
 5991              		.cfi_offset 3, -8
 5992              		.cfi_offset 14, -4
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5993              		.loc 1 3053 3 is_stmt 1 view .LVU1964
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5994              		.loc 1 3053 22 is_stmt 0 view .LVU1965
 5995 0002 406A     		ldr	r0, [r0, #36]
 5996              	.LVL353:
3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5997              		.loc 1 3054 3 is_stmt 1 view .LVU1966
3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5998              		.loc 1 3054 21 is_stmt 0 view .LVU1967
 5999 0004 0023     		movs	r3, #0
 6000 0006 C387     		strh	r3, [r0, #62]	@ movhi
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6001              		.loc 1 3055 3 is_stmt 1 view .LVU1968
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6002              		.loc 1 3055 21 is_stmt 0 view .LVU1969
 6003 0008 C386     		strh	r3, [r0, #54]	@ movhi
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6004              		.loc 1 3061 3 is_stmt 1 view .LVU1970
 6005 000a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6006              	.LVL354:
3063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6007              		.loc 1 3063 1 is_stmt 0 view .LVU1971
 6008 000e 08BD     		pop	{r3, pc}
 6009              		.cfi_endproc
 6010              	.LFE101:
 6012              		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 6013              		.align	1
 6014              		.weak	HAL_SPI_AbortCpltCallback
 6015              		.syntax unified
 6016              		.thumb
 6017              		.thumb_func
 6018              		.fpu softvfp
 6020              	HAL_SPI_AbortCpltCallback:
 6021              	.LVL355:
 6022              	.LFB91:
2657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 6023              		.loc 1 2657 1 is_stmt 1 view -0
 6024              		.cfi_startproc
 6025              		@ args = 0, pretend = 0, frame = 0
 6026              		@ frame_needed = 0, uses_anonymous_args = 0
 6027              		@ link register save eliminated.
2659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6028              		.loc 1 2659 3 view .LVU1973
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6029              		.loc 1 2664 1 is_stmt 0 view .LVU1974
 6030 0000 7047     		bx	lr
 6031              		.cfi_endproc
ARM GAS  /tmp/cc0VKmst.s 			page 209


 6032              	.LFE91:
 6034              		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 6035              		.align	1
 6036              		.global	HAL_SPI_Abort_IT
 6037              		.syntax unified
 6038              		.thumb
 6039              		.thumb_func
 6040              		.fpu softvfp
 6042              	HAL_SPI_Abort_IT:
 6043              	.LVL356:
 6044              	.LFB79:
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 6045              		.loc 1 2199 1 is_stmt 1 view -0
 6046              		.cfi_startproc
 6047              		@ args = 0, pretend = 0, frame = 16
 6048              		@ frame_needed = 0, uses_anonymous_args = 0
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 6049              		.loc 1 2199 1 is_stmt 0 view .LVU1976
 6050 0000 70B5     		push	{r4, r5, r6, lr}
 6051              	.LCFI83:
 6052              		.cfi_def_cfa_offset 16
 6053              		.cfi_offset 4, -16
 6054              		.cfi_offset 5, -12
 6055              		.cfi_offset 6, -8
 6056              		.cfi_offset 14, -4
 6057 0002 84B0     		sub	sp, sp, #16
 6058              	.LCFI84:
 6059              		.cfi_def_cfa_offset 32
 6060 0004 0446     		mov	r4, r0
2200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt ;
 6061              		.loc 1 2200 3 is_stmt 1 view .LVU1977
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 6062              		.loc 1 2201 3 view .LVU1978
2202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
 6063              		.loc 1 2202 3 view .LVU1979
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6064              		.loc 1 2203 3 view .LVU1980
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
 6065              		.loc 1 2206 3 view .LVU1981
 6066              	.LVL357:
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6067              		.loc 1 2207 3 view .LVU1982
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 6068              		.loc 1 2208 3 view .LVU1983
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 6069              		.loc 1 2208 61 is_stmt 0 view .LVU1984
 6070 0006 4D4B     		ldr	r3, .L430
 6071 0008 1B68     		ldr	r3, [r3]
 6072 000a 4D4A     		ldr	r2, .L430+4
 6073 000c A2FB0323 		umull	r2, r3, r2, r3
 6074 0010 5B0A     		lsrs	r3, r3, #9
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 6075              		.loc 1 2208 36 view .LVU1985
 6076 0012 6422     		movs	r2, #100
 6077 0014 02FB03F3 		mul	r3, r2, r3
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 6078              		.loc 1 2208 14 view .LVU1986
ARM GAS  /tmp/cc0VKmst.s 			page 210


 6079 0018 0293     		str	r3, [sp, #8]
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6080              		.loc 1 2209 3 is_stmt 1 view .LVU1987
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6081              		.loc 1 2209 9 is_stmt 0 view .LVU1988
 6082 001a 029B     		ldr	r3, [sp, #8]
 6083 001c 0393     		str	r3, [sp, #12]
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6084              		.loc 1 2212 3 is_stmt 1 view .LVU1989
 6085 001e 0268     		ldr	r2, [r0]
 6086 0020 5368     		ldr	r3, [r2, #4]
 6087 0022 23F02003 		bic	r3, r3, #32
 6088 0026 5360     		str	r3, [r2, #4]
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6089              		.loc 1 2215 3 view .LVU1990
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6090              		.loc 1 2215 7 is_stmt 0 view .LVU1991
 6091 0028 0268     		ldr	r2, [r0]
 6092 002a 5368     		ldr	r3, [r2, #4]
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6093              		.loc 1 2215 6 view .LVU1992
 6094 002c 13F0800F 		tst	r3, #128
 6095 0030 12D0     		beq	.L405
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6096              		.loc 1 2217 5 is_stmt 1 view .LVU1993
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6097              		.loc 1 2217 17 is_stmt 0 view .LVU1994
 6098 0032 444B     		ldr	r3, .L430+8
 6099 0034 4364     		str	r3, [r0, #68]
 6100              	.L408:
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6101              		.loc 1 2219 5 is_stmt 1 view .LVU1995
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6102              		.loc 1 2221 7 view .LVU1996
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6103              		.loc 1 2221 17 is_stmt 0 view .LVU1997
 6104 0036 039B     		ldr	r3, [sp, #12]
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6105              		.loc 1 2221 10 view .LVU1998
 6106 0038 43B1     		cbz	r3, .L427
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6107              		.loc 1 2226 7 is_stmt 1 view .LVU1999
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6108              		.loc 1 2226 12 is_stmt 0 view .LVU2000
 6109 003a 039B     		ldr	r3, [sp, #12]
 6110 003c 013B     		subs	r3, r3, #1
 6111 003e 0393     		str	r3, [sp, #12]
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6112              		.loc 1 2227 13 is_stmt 1 view .LVU2001
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6113              		.loc 1 2227 18 is_stmt 0 view .LVU2002
 6114 0040 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 6115 0044 DBB2     		uxtb	r3, r3
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6116              		.loc 1 2227 5 view .LVU2003
 6117 0046 072B     		cmp	r3, #7
 6118 0048 F5D1     		bne	.L408
ARM GAS  /tmp/cc0VKmst.s 			page 211


 6119 004a 03E0     		b	.L407
 6120              	.L427:
2223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 6121              		.loc 1 2223 9 is_stmt 1 view .LVU2004
 6122 004c 636D     		ldr	r3, [r4, #84]
 6123 004e 43F04003 		orr	r3, r3, #64
 6124 0052 6365     		str	r3, [r4, #84]
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6125              		.loc 1 2224 9 view .LVU2005
 6126              	.L407:
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6127              		.loc 1 2229 5 view .LVU2006
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6128              		.loc 1 2229 11 is_stmt 0 view .LVU2007
 6129 0054 029B     		ldr	r3, [sp, #8]
 6130 0056 0393     		str	r3, [sp, #12]
 6131              	.L405:
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6132              		.loc 1 2232 3 is_stmt 1 view .LVU2008
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6133              		.loc 1 2232 7 is_stmt 0 view .LVU2009
 6134 0058 5368     		ldr	r3, [r2, #4]
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6135              		.loc 1 2232 6 view .LVU2010
 6136 005a 13F0400F 		tst	r3, #64
 6137 005e 12D0     		beq	.L409
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6138              		.loc 1 2234 5 is_stmt 1 view .LVU2011
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6139              		.loc 1 2234 17 is_stmt 0 view .LVU2012
 6140 0060 394B     		ldr	r3, .L430+12
 6141 0062 2364     		str	r3, [r4, #64]
 6142              	.L412:
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6143              		.loc 1 2236 5 is_stmt 1 view .LVU2013
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6144              		.loc 1 2238 7 view .LVU2014
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6145              		.loc 1 2238 17 is_stmt 0 view .LVU2015
 6146 0064 039B     		ldr	r3, [sp, #12]
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6147              		.loc 1 2238 10 view .LVU2016
 6148 0066 43B1     		cbz	r3, .L428
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6149              		.loc 1 2243 7 is_stmt 1 view .LVU2017
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6150              		.loc 1 2243 12 is_stmt 0 view .LVU2018
 6151 0068 039B     		ldr	r3, [sp, #12]
 6152 006a 013B     		subs	r3, r3, #1
 6153 006c 0393     		str	r3, [sp, #12]
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6154              		.loc 1 2244 13 is_stmt 1 view .LVU2019
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6155              		.loc 1 2244 18 is_stmt 0 view .LVU2020
 6156 006e 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 6157 0072 DBB2     		uxtb	r3, r3
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
ARM GAS  /tmp/cc0VKmst.s 			page 212


 6158              		.loc 1 2244 5 view .LVU2021
 6159 0074 072B     		cmp	r3, #7
 6160 0076 F5D1     		bne	.L412
 6161 0078 03E0     		b	.L411
 6162              	.L428:
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 6163              		.loc 1 2240 9 is_stmt 1 view .LVU2022
 6164 007a 636D     		ldr	r3, [r4, #84]
 6165 007c 43F04003 		orr	r3, r3, #64
 6166 0080 6365     		str	r3, [r4, #84]
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6167              		.loc 1 2241 9 view .LVU2023
 6168              	.L411:
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6169              		.loc 1 2246 5 view .LVU2024
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6170              		.loc 1 2246 11 is_stmt 0 view .LVU2025
 6171 0082 029B     		ldr	r3, [sp, #8]
 6172 0084 0393     		str	r3, [sp, #12]
 6173              	.L409:
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6174              		.loc 1 2252 3 is_stmt 1 view .LVU2026
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6175              		.loc 1 2252 11 is_stmt 0 view .LVU2027
 6176 0086 A36C     		ldr	r3, [r4, #72]
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6177              		.loc 1 2252 6 view .LVU2028
 6178 0088 2BB1     		cbz	r3, .L413
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6179              		.loc 1 2256 5 is_stmt 1 view .LVU2029
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6180              		.loc 1 2256 9 is_stmt 0 view .LVU2030
 6181 008a 5268     		ldr	r2, [r2, #4]
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6182              		.loc 1 2256 8 view .LVU2031
 6183 008c 12F0020F 		tst	r2, #2
 6184 0090 1BD0     		beq	.L414
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6185              		.loc 1 2258 7 is_stmt 1 view .LVU2032
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6186              		.loc 1 2258 39 is_stmt 0 view .LVU2033
 6187 0092 2E4A     		ldr	r2, .L430+16
 6188 0094 5A63     		str	r2, [r3, #52]
 6189              	.L413:
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6190              		.loc 1 2266 3 is_stmt 1 view .LVU2034
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6191              		.loc 1 2266 11 is_stmt 0 view .LVU2035
 6192 0096 E36C     		ldr	r3, [r4, #76]
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6193              		.loc 1 2266 6 view .LVU2036
 6194 0098 33B1     		cbz	r3, .L415
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6195              		.loc 1 2270 5 is_stmt 1 view .LVU2037
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6196              		.loc 1 2270 9 is_stmt 0 view .LVU2038
 6197 009a 2268     		ldr	r2, [r4]
ARM GAS  /tmp/cc0VKmst.s 			page 213


 6198 009c 5268     		ldr	r2, [r2, #4]
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6199              		.loc 1 2270 8 view .LVU2039
 6200 009e 12F0010F 		tst	r2, #1
 6201 00a2 15D0     		beq	.L416
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6202              		.loc 1 2272 7 is_stmt 1 view .LVU2040
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6203              		.loc 1 2272 39 is_stmt 0 view .LVU2041
 6204 00a4 2A4A     		ldr	r2, .L430+20
 6205 00a6 5A63     		str	r2, [r3, #52]
 6206              	.L415:
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6207              		.loc 1 2281 3 is_stmt 1 view .LVU2042
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6208              		.loc 1 2281 7 is_stmt 0 view .LVU2043
 6209 00a8 2368     		ldr	r3, [r4]
 6210 00aa 5B68     		ldr	r3, [r3, #4]
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6211              		.loc 1 2281 6 view .LVU2044
 6212 00ac 13F0020F 		tst	r3, #2
 6213 00b0 11D0     		beq	.L421
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6214              		.loc 1 2284 5 is_stmt 1 view .LVU2045
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6215              		.loc 1 2284 13 is_stmt 0 view .LVU2046
 6216 00b2 A06C     		ldr	r0, [r4, #72]
 6217              	.LVL358:
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6218              		.loc 1 2284 8 view .LVU2047
 6219 00b4 28B3     		cbz	r0, .L422
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6220              		.loc 1 2287 7 is_stmt 1 view .LVU2048
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6221              		.loc 1 2287 11 is_stmt 0 view .LVU2049
 6222 00b6 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6223              	.LVL359:
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6224              		.loc 1 2287 10 view .LVU2050
 6225 00ba 20B3     		cbz	r0, .L423
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6226              		.loc 1 2289 9 is_stmt 1 view .LVU2051
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6227              		.loc 1 2289 13 is_stmt 0 view .LVU2052
 6228 00bc A36C     		ldr	r3, [r4, #72]
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6229              		.loc 1 2289 41 view .LVU2053
 6230 00be 0022     		movs	r2, #0
 6231 00c0 5A63     		str	r2, [r3, #52]
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6232              		.loc 1 2290 9 is_stmt 1 view .LVU2054
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6233              		.loc 1 2290 25 is_stmt 0 view .LVU2055
 6234 00c2 4023     		movs	r3, #64
 6235 00c4 6365     		str	r3, [r4, #84]
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6236              		.loc 1 2207 13 view .LVU2056
ARM GAS  /tmp/cc0VKmst.s 			page 214


 6237 00c6 0126     		movs	r6, #1
 6238 00c8 06E0     		b	.L417
 6239              	.LVL360:
 6240              	.L414:
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6241              		.loc 1 2262 7 is_stmt 1 view .LVU2057
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6242              		.loc 1 2262 39 is_stmt 0 view .LVU2058
 6243 00ca 0022     		movs	r2, #0
 6244 00cc 5A63     		str	r2, [r3, #52]
 6245 00ce E2E7     		b	.L413
 6246              	.L416:
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6247              		.loc 1 2276 7 is_stmt 1 view .LVU2059
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6248              		.loc 1 2276 39 is_stmt 0 view .LVU2060
 6249 00d0 0022     		movs	r2, #0
 6250 00d2 5A63     		str	r2, [r3, #52]
 6251 00d4 E8E7     		b	.L415
 6252              	.L421:
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6253              		.loc 1 2207 13 view .LVU2061
 6254 00d6 0126     		movs	r6, #1
 6255              	.LVL361:
 6256              	.L417:
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6257              		.loc 1 2299 3 is_stmt 1 view .LVU2062
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6258              		.loc 1 2299 7 is_stmt 0 view .LVU2063
 6259 00d8 2368     		ldr	r3, [r4]
 6260 00da 5B68     		ldr	r3, [r3, #4]
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6261              		.loc 1 2299 6 view .LVU2064
 6262 00dc 13F0010F 		tst	r3, #1
 6263 00e0 0AD0     		beq	.L418
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6264              		.loc 1 2302 5 is_stmt 1 view .LVU2065
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6265              		.loc 1 2302 13 is_stmt 0 view .LVU2066
 6266 00e2 E06C     		ldr	r0, [r4, #76]
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6267              		.loc 1 2302 8 view .LVU2067
 6268 00e4 40B1     		cbz	r0, .L418
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6269              		.loc 1 2305 7 is_stmt 1 view .LVU2068
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6270              		.loc 1 2305 11 is_stmt 0 view .LVU2069
 6271 00e6 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6272              	.LVL362:
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6273              		.loc 1 2305 10 view .LVU2070
 6274 00ea 0546     		mov	r5, r0
 6275 00ec 30B1     		cbz	r0, .L419
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6276              		.loc 1 2307 9 is_stmt 1 view .LVU2071
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6277              		.loc 1 2307 13 is_stmt 0 view .LVU2072
ARM GAS  /tmp/cc0VKmst.s 			page 215


 6278 00ee E36C     		ldr	r3, [r4, #76]
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6279              		.loc 1 2307 41 view .LVU2073
 6280 00f0 0022     		movs	r2, #0
 6281 00f2 5A63     		str	r2, [r3, #52]
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6282              		.loc 1 2308 9 is_stmt 1 view .LVU2074
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6283              		.loc 1 2308 25 is_stmt 0 view .LVU2075
 6284 00f4 4023     		movs	r3, #64
 6285 00f6 6365     		str	r3, [r4, #84]
 6286              	.L418:
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6287              		.loc 1 2317 3 is_stmt 1 view .LVU2076
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6288              		.loc 1 2317 6 is_stmt 0 view .LVU2077
 6289 00f8 3EB9     		cbnz	r6, .L429
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
 6290              		.loc 1 2206 13 view .LVU2078
 6291 00fa 0025     		movs	r5, #0
 6292              	.LVL363:
 6293              	.L419:
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6294              		.loc 1 2349 3 is_stmt 1 view .LVU2079
2350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6295              		.loc 1 2350 1 is_stmt 0 view .LVU2080
 6296 00fc 2846     		mov	r0, r5
 6297 00fe 04B0     		add	sp, sp, #16
 6298              	.LCFI85:
 6299              		.cfi_remember_state
 6300              		.cfi_def_cfa_offset 16
 6301              		@ sp needed
 6302 0100 70BD     		pop	{r4, r5, r6, pc}
 6303              	.LVL364:
 6304              	.L422:
 6305              	.LCFI86:
 6306              		.cfi_restore_state
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6307              		.loc 1 2207 13 view .LVU2081
 6308 0102 0126     		movs	r6, #1
 6309 0104 E8E7     		b	.L417
 6310              	.L423:
2294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6311              		.loc 1 2294 19 view .LVU2082
 6312 0106 0026     		movs	r6, #0
 6313 0108 E6E7     		b	.L417
 6314              	.LVL365:
 6315              	.L429:
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6316              		.loc 1 2320 5 is_stmt 1 view .LVU2083
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6317              		.loc 1 2320 23 is_stmt 0 view .LVU2084
 6318 010a 0023     		movs	r3, #0
 6319 010c E387     		strh	r3, [r4, #62]	@ movhi
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6320              		.loc 1 2321 5 is_stmt 1 view .LVU2085
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 216


 6321              		.loc 1 2321 23 is_stmt 0 view .LVU2086
 6322 010e E386     		strh	r3, [r4, #54]	@ movhi
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6323              		.loc 1 2324 5 is_stmt 1 view .LVU2087
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6324              		.loc 1 2324 13 is_stmt 0 view .LVU2088
 6325 0110 636D     		ldr	r3, [r4, #84]
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6326              		.loc 1 2324 8 view .LVU2089
 6327 0112 402B     		cmp	r3, #64
 6328 0114 10D0     		beq	.L425
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6329              		.loc 1 2332 7 is_stmt 1 view .LVU2090
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6330              		.loc 1 2332 23 is_stmt 0 view .LVU2091
 6331 0116 0025     		movs	r5, #0
 6332 0118 6565     		str	r5, [r4, #84]
 6333              	.L420:
 6334              	.LVL366:
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6335              		.loc 1 2336 5 is_stmt 1 view .LVU2092
 6336              	.LBB12:
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6337              		.loc 1 2336 5 view .LVU2093
 6338 011a 0023     		movs	r3, #0
 6339 011c 0193     		str	r3, [sp, #4]
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6340              		.loc 1 2336 5 view .LVU2094
 6341 011e 2368     		ldr	r3, [r4]
 6342 0120 DA68     		ldr	r2, [r3, #12]
 6343 0122 0192     		str	r2, [sp, #4]
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6344              		.loc 1 2336 5 view .LVU2095
 6345 0124 9B68     		ldr	r3, [r3, #8]
 6346 0126 0193     		str	r3, [sp, #4]
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6347              		.loc 1 2336 5 view .LVU2096
 6348 0128 019B     		ldr	r3, [sp, #4]
 6349              	.LBE12:
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6350              		.loc 1 2336 5 view .LVU2097
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6351              		.loc 1 2339 5 view .LVU2098
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6352              		.loc 1 2339 17 is_stmt 0 view .LVU2099
 6353 012a 0123     		movs	r3, #1
 6354 012c 84F85130 		strb	r3, [r4, #81]
2345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6355              		.loc 1 2345 5 is_stmt 1 view .LVU2100
 6356 0130 2046     		mov	r0, r4
 6357 0132 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6358              	.LVL367:
 6359 0136 E1E7     		b	.L419
 6360              	.LVL368:
 6361              	.L425:
2327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6362              		.loc 1 2327 17 is_stmt 0 view .LVU2101
ARM GAS  /tmp/cc0VKmst.s 			page 217


 6363 0138 0125     		movs	r5, #1
 6364 013a EEE7     		b	.L420
 6365              	.L431:
 6366              		.align	2
 6367              	.L430:
 6368 013c 00000000 		.word	SystemCoreClock
 6369 0140 F1197605 		.word	91625969
 6370 0144 00000000 		.word	SPI_AbortTx_ISR
 6371 0148 00000000 		.word	SPI_AbortRx_ISR
 6372 014c 00000000 		.word	SPI_DMATxAbortCallback
 6373 0150 00000000 		.word	SPI_DMARxAbortCallback
 6374              		.cfi_endproc
 6375              	.LFE79:
 6377              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 6378              		.align	1
 6379              		.syntax unified
 6380              		.thumb
 6381              		.thumb_func
 6382              		.fpu softvfp
 6384              	SPI_DMARxAbortCallback:
 6385              	.LVL369:
 6386              	.LFB103:
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6387              		.loc 1 3138 1 is_stmt 1 view -0
 6388              		.cfi_startproc
 6389              		@ args = 0, pretend = 0, frame = 8
 6390              		@ frame_needed = 0, uses_anonymous_args = 0
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6391              		.loc 1 3138 1 is_stmt 0 view .LVU2103
 6392 0000 10B5     		push	{r4, lr}
 6393              	.LCFI87:
 6394              		.cfi_def_cfa_offset 8
 6395              		.cfi_offset 4, -8
 6396              		.cfi_offset 14, -4
 6397 0002 82B0     		sub	sp, sp, #8
 6398              	.LCFI88:
 6399              		.cfi_def_cfa_offset 16
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6400              		.loc 1 3139 3 is_stmt 1 view .LVU2104
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6401              		.loc 1 3139 22 is_stmt 0 view .LVU2105
 6402 0004 446A     		ldr	r4, [r0, #36]
 6403              	.LVL370:
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6404              		.loc 1 3142 3 is_stmt 1 view .LVU2106
 6405 0006 2268     		ldr	r2, [r4]
 6406 0008 1368     		ldr	r3, [r2]
 6407 000a 23F04003 		bic	r3, r3, #64
 6408 000e 1360     		str	r3, [r2]
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6409              		.loc 1 3144 3 view .LVU2107
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6410              		.loc 1 3144 7 is_stmt 0 view .LVU2108
 6411 0010 E36C     		ldr	r3, [r4, #76]
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6412              		.loc 1 3144 35 view .LVU2109
 6413 0012 0022     		movs	r2, #0
ARM GAS  /tmp/cc0VKmst.s 			page 218


 6414 0014 5A63     		str	r2, [r3, #52]
3147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6415              		.loc 1 3147 3 is_stmt 1 view .LVU2110
 6416 0016 2268     		ldr	r2, [r4]
 6417 0018 5368     		ldr	r3, [r2, #4]
 6418 001a 23F00103 		bic	r3, r3, #1
 6419 001e 5360     		str	r3, [r2, #4]
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6420              		.loc 1 3150 3 view .LVU2111
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6421              		.loc 1 3150 7 is_stmt 0 view .LVU2112
 6422 0020 FFF7FEFF 		bl	HAL_GetTick
 6423              	.LVL371:
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6424              		.loc 1 3150 7 view .LVU2113
 6425 0024 0246     		mov	r2, r0
 6426 0026 6421     		movs	r1, #100
 6427 0028 2046     		mov	r0, r4
 6428 002a FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6429              	.LVL372:
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6430              		.loc 1 3150 6 view .LVU2114
 6431 002e 18B1     		cbz	r0, .L433
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6432              		.loc 1 3152 5 is_stmt 1 view .LVU2115
 6433 0030 636D     		ldr	r3, [r4, #84]
 6434 0032 43F04003 		orr	r3, r3, #64
 6435 0036 6365     		str	r3, [r4, #84]
 6436              	.L433:
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6437              		.loc 1 3156 3 view .LVU2116
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6438              		.loc 1 3156 11 is_stmt 0 view .LVU2117
 6439 0038 A36C     		ldr	r3, [r4, #72]
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6440              		.loc 1 3156 6 view .LVU2118
 6441 003a 0BB1     		cbz	r3, .L434
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6442              		.loc 1 3158 5 is_stmt 1 view .LVU2119
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6443              		.loc 1 3158 21 is_stmt 0 view .LVU2120
 6444 003c 5B6B     		ldr	r3, [r3, #52]
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6445              		.loc 1 3158 8 view .LVU2121
 6446 003e ABB9     		cbnz	r3, .L432
 6447              	.L434:
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6448              		.loc 1 3165 3 is_stmt 1 view .LVU2122
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6449              		.loc 1 3165 21 is_stmt 0 view .LVU2123
 6450 0040 0023     		movs	r3, #0
 6451 0042 E387     		strh	r3, [r4, #62]	@ movhi
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6452              		.loc 1 3166 3 is_stmt 1 view .LVU2124
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6453              		.loc 1 3166 21 is_stmt 0 view .LVU2125
 6454 0044 E386     		strh	r3, [r4, #54]	@ movhi
ARM GAS  /tmp/cc0VKmst.s 			page 219


3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6455              		.loc 1 3169 3 is_stmt 1 view .LVU2126
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6456              		.loc 1 3169 11 is_stmt 0 view .LVU2127
 6457 0046 636D     		ldr	r3, [r4, #84]
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6458              		.loc 1 3169 6 view .LVU2128
 6459 0048 402B     		cmp	r3, #64
 6460 004a 01D0     		beq	.L436
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6461              		.loc 1 3172 5 is_stmt 1 view .LVU2129
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6462              		.loc 1 3172 21 is_stmt 0 view .LVU2130
 6463 004c 0023     		movs	r3, #0
 6464 004e 6365     		str	r3, [r4, #84]
 6465              	.L436:
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6466              		.loc 1 3176 3 is_stmt 1 view .LVU2131
 6467              	.LBB13:
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6468              		.loc 1 3176 3 view .LVU2132
 6469 0050 0023     		movs	r3, #0
 6470 0052 0193     		str	r3, [sp, #4]
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6471              		.loc 1 3176 3 view .LVU2133
 6472 0054 2368     		ldr	r3, [r4]
 6473 0056 DA68     		ldr	r2, [r3, #12]
 6474 0058 0192     		str	r2, [sp, #4]
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6475              		.loc 1 3176 3 view .LVU2134
 6476 005a 9B68     		ldr	r3, [r3, #8]
 6477 005c 0193     		str	r3, [sp, #4]
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6478              		.loc 1 3176 3 view .LVU2135
 6479 005e 019B     		ldr	r3, [sp, #4]
 6480              	.LBE13:
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6481              		.loc 1 3176 3 view .LVU2136
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6482              		.loc 1 3179 3 view .LVU2137
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6483              		.loc 1 3179 16 is_stmt 0 view .LVU2138
 6484 0060 0123     		movs	r3, #1
 6485 0062 84F85130 		strb	r3, [r4, #81]
3185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6486              		.loc 1 3185 3 is_stmt 1 view .LVU2139
 6487 0066 2046     		mov	r0, r4
 6488 0068 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6489              	.LVL373:
 6490              	.L432:
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6491              		.loc 1 3187 1 is_stmt 0 view .LVU2140
 6492 006c 02B0     		add	sp, sp, #8
 6493              	.LCFI89:
 6494              		.cfi_def_cfa_offset 8
 6495              		@ sp needed
 6496 006e 10BD     		pop	{r4, pc}
ARM GAS  /tmp/cc0VKmst.s 			page 220


3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6497              		.loc 1 3187 1 view .LVU2141
 6498              		.cfi_endproc
 6499              	.LFE103:
 6501              		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 6502              		.align	1
 6503              		.syntax unified
 6504              		.thumb
 6505              		.thumb_func
 6506              		.fpu softvfp
 6508              	SPI_DMATxAbortCallback:
 6509              	.LVL374:
 6510              	.LFB102:
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6511              		.loc 1 3074 1 is_stmt 1 view -0
 6512              		.cfi_startproc
 6513              		@ args = 0, pretend = 0, frame = 8
 6514              		@ frame_needed = 0, uses_anonymous_args = 0
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6515              		.loc 1 3074 1 is_stmt 0 view .LVU2143
 6516 0000 00B5     		push	{lr}
 6517              	.LCFI90:
 6518              		.cfi_def_cfa_offset 4
 6519              		.cfi_offset 14, -4
 6520 0002 83B0     		sub	sp, sp, #12
 6521              	.LCFI91:
 6522              		.cfi_def_cfa_offset 16
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 6523              		.loc 1 3075 3 is_stmt 1 view .LVU2144
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 6524              		.loc 1 3075 22 is_stmt 0 view .LVU2145
 6525 0004 406A     		ldr	r0, [r0, #36]
 6526              	.LVL375:
3076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6527              		.loc 1 3076 3 is_stmt 1 view .LVU2146
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6528              		.loc 1 3078 3 view .LVU2147
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6529              		.loc 1 3078 7 is_stmt 0 view .LVU2148
 6530 0006 836C     		ldr	r3, [r0, #72]
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6531              		.loc 1 3078 35 view .LVU2149
 6532 0008 0022     		movs	r2, #0
 6533 000a 5A63     		str	r2, [r3, #52]
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6534              		.loc 1 3079 3 is_stmt 1 view .LVU2150
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6535              		.loc 1 3079 56 is_stmt 0 view .LVU2151
 6536 000c 1C4B     		ldr	r3, .L447
 6537 000e 1B68     		ldr	r3, [r3]
 6538 0010 1C4A     		ldr	r2, .L447+4
 6539 0012 A2FB0323 		umull	r2, r3, r2, r3
 6540 0016 5B0A     		lsrs	r3, r3, #9
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6541              		.loc 1 3079 31 view .LVU2152
 6542 0018 6422     		movs	r2, #100
 6543 001a 02FB03F3 		mul	r3, r2, r3
ARM GAS  /tmp/cc0VKmst.s 			page 221


3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6544              		.loc 1 3079 9 view .LVU2153
 6545 001e 0193     		str	r3, [sp, #4]
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6546              		.loc 1 3082 3 is_stmt 1 view .LVU2154
 6547 0020 0268     		ldr	r2, [r0]
 6548 0022 5368     		ldr	r3, [r2, #4]
 6549 0024 23F00203 		bic	r3, r3, #2
 6550 0028 5360     		str	r3, [r2, #4]
 6551              	.L441:
3085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6552              		.loc 1 3085 3 view .LVU2155
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6553              		.loc 1 3087 5 view .LVU2156
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6554              		.loc 1 3087 15 is_stmt 0 view .LVU2157
 6555 002a 019B     		ldr	r3, [sp, #4]
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6556              		.loc 1 3087 8 view .LVU2158
 6557 002c 43B1     		cbz	r3, .L446
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6558              		.loc 1 3092 5 is_stmt 1 view .LVU2159
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6559              		.loc 1 3092 10 is_stmt 0 view .LVU2160
 6560 002e 019B     		ldr	r3, [sp, #4]
 6561 0030 013B     		subs	r3, r3, #1
 6562 0032 0193     		str	r3, [sp, #4]
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6563              		.loc 1 3093 11 is_stmt 1 view .LVU2161
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6564              		.loc 1 3093 17 is_stmt 0 view .LVU2162
 6565 0034 0368     		ldr	r3, [r0]
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6566              		.loc 1 3093 27 view .LVU2163
 6567 0036 9B68     		ldr	r3, [r3, #8]
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6568              		.loc 1 3093 3 view .LVU2164
 6569 0038 13F0020F 		tst	r3, #2
 6570 003c F5D0     		beq	.L441
 6571 003e 03E0     		b	.L440
 6572              	.L446:
3089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 6573              		.loc 1 3089 7 is_stmt 1 view .LVU2165
 6574 0040 436D     		ldr	r3, [r0, #84]
 6575 0042 43F04003 		orr	r3, r3, #64
 6576 0046 4365     		str	r3, [r0, #84]
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6577              		.loc 1 3090 7 view .LVU2166
 6578              	.L440:
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6579              		.loc 1 3096 3 view .LVU2167
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6580              		.loc 1 3096 11 is_stmt 0 view .LVU2168
 6581 0048 C36C     		ldr	r3, [r0, #76]
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6582              		.loc 1 3096 6 view .LVU2169
 6583 004a 0BB1     		cbz	r3, .L442
ARM GAS  /tmp/cc0VKmst.s 			page 222


3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6584              		.loc 1 3098 5 is_stmt 1 view .LVU2170
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6585              		.loc 1 3098 21 is_stmt 0 view .LVU2171
 6586 004c 5B6B     		ldr	r3, [r3, #52]
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6587              		.loc 1 3098 8 view .LVU2172
 6588 004e A3B9     		cbnz	r3, .L438
 6589              	.L442:
3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6590              		.loc 1 3105 3 is_stmt 1 view .LVU2173
3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6591              		.loc 1 3105 21 is_stmt 0 view .LVU2174
 6592 0050 0023     		movs	r3, #0
 6593 0052 C387     		strh	r3, [r0, #62]	@ movhi
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6594              		.loc 1 3106 3 is_stmt 1 view .LVU2175
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6595              		.loc 1 3106 21 is_stmt 0 view .LVU2176
 6596 0054 C386     		strh	r3, [r0, #54]	@ movhi
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6597              		.loc 1 3109 3 is_stmt 1 view .LVU2177
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6598              		.loc 1 3109 11 is_stmt 0 view .LVU2178
 6599 0056 436D     		ldr	r3, [r0, #84]
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6600              		.loc 1 3109 6 view .LVU2179
 6601 0058 402B     		cmp	r3, #64
 6602 005a 01D0     		beq	.L444
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6603              		.loc 1 3112 5 is_stmt 1 view .LVU2180
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6604              		.loc 1 3112 21 is_stmt 0 view .LVU2181
 6605 005c 0023     		movs	r3, #0
 6606 005e 4365     		str	r3, [r0, #84]
 6607              	.L444:
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6608              		.loc 1 3116 3 is_stmt 1 view .LVU2182
 6609              	.LBB14:
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6610              		.loc 1 3116 3 view .LVU2183
 6611 0060 0023     		movs	r3, #0
 6612 0062 0093     		str	r3, [sp]
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6613              		.loc 1 3116 3 view .LVU2184
 6614 0064 0368     		ldr	r3, [r0]
 6615 0066 DA68     		ldr	r2, [r3, #12]
 6616 0068 0092     		str	r2, [sp]
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6617              		.loc 1 3116 3 view .LVU2185
 6618 006a 9B68     		ldr	r3, [r3, #8]
 6619 006c 0093     		str	r3, [sp]
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6620              		.loc 1 3116 3 view .LVU2186
 6621 006e 009B     		ldr	r3, [sp]
 6622              	.LBE14:
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/cc0VKmst.s 			page 223


 6623              		.loc 1 3116 3 view .LVU2187
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6624              		.loc 1 3119 3 view .LVU2188
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6625              		.loc 1 3119 16 is_stmt 0 view .LVU2189
 6626 0070 0123     		movs	r3, #1
 6627 0072 80F85130 		strb	r3, [r0, #81]
3125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6628              		.loc 1 3125 3 is_stmt 1 view .LVU2190
 6629 0076 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6630              	.LVL376:
 6631              	.L438:
3127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6632              		.loc 1 3127 1 is_stmt 0 view .LVU2191
 6633 007a 03B0     		add	sp, sp, #12
 6634              	.LCFI92:
 6635              		.cfi_def_cfa_offset 4
 6636              		@ sp needed
 6637 007c 5DF804FB 		ldr	pc, [sp], #4
 6638              	.L448:
 6639              		.align	2
 6640              	.L447:
 6641 0080 00000000 		.word	SystemCoreClock
 6642 0084 F1197605 		.word	91625969
 6643              		.cfi_endproc
 6644              	.LFE102:
 6646              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 6647              		.align	1
 6648              		.global	HAL_SPI_GetState
 6649              		.syntax unified
 6650              		.thumb
 6651              		.thumb_func
 6652              		.fpu softvfp
 6654              	HAL_SPI_GetState:
 6655              	.LVL377:
 6656              	.LFB92:
2692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI handle state */
 6657              		.loc 1 2692 1 is_stmt 1 view -0
 6658              		.cfi_startproc
 6659              		@ args = 0, pretend = 0, frame = 0
 6660              		@ frame_needed = 0, uses_anonymous_args = 0
 6661              		@ link register save eliminated.
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6662              		.loc 1 2694 3 view .LVU2193
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6663              		.loc 1 2694 14 is_stmt 0 view .LVU2194
 6664 0000 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 6665              	.LVL378:
2695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6666              		.loc 1 2695 1 view .LVU2195
 6667 0004 7047     		bx	lr
 6668              		.cfi_endproc
 6669              	.LFE92:
 6671              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 6672              		.align	1
 6673              		.global	HAL_SPI_GetError
 6674              		.syntax unified
ARM GAS  /tmp/cc0VKmst.s 			page 224


 6675              		.thumb
 6676              		.thumb_func
 6677              		.fpu softvfp
 6679              	HAL_SPI_GetError:
 6680              	.LVL379:
 6681              	.LFB93:
2704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI ErrorCode */
 6682              		.loc 1 2704 1 is_stmt 1 view -0
 6683              		.cfi_startproc
 6684              		@ args = 0, pretend = 0, frame = 0
 6685              		@ frame_needed = 0, uses_anonymous_args = 0
 6686              		@ link register save eliminated.
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6687              		.loc 1 2706 3 view .LVU2197
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6688              		.loc 1 2706 14 is_stmt 0 view .LVU2198
 6689 0000 406D     		ldr	r0, [r0, #84]
 6690              	.LVL380:
2707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6691              		.loc 1 2707 1 view .LVU2199
 6692 0002 7047     		bx	lr
 6693              		.cfi_endproc
 6694              	.LFE93:
 6696              		.text
 6697              	.Letext0:
 6698              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 6699              		.file 3 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 6700              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 6701              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 6702              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 6703              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 6704              		.file 8 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 6705              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  /tmp/cc0VKmst.s 			page 225


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f1xx_hal_spi.c
     /tmp/cc0VKmst.s:16     .text.SPI_AbortRx_ISR:0000000000000000 $t
     /tmp/cc0VKmst.s:23     .text.SPI_AbortRx_ISR:0000000000000000 SPI_AbortRx_ISR
     /tmp/cc0VKmst.s:111    .text.SPI_AbortRx_ISR:0000000000000060 $d
     /tmp/cc0VKmst.s:117    .text.SPI_AbortTx_ISR:0000000000000000 $t
     /tmp/cc0VKmst.s:123    .text.SPI_AbortTx_ISR:0000000000000000 SPI_AbortTx_ISR
     /tmp/cc0VKmst.s:151    .text.SPI_WaitFlagStateUntilTimeout:0000000000000000 $t
     /tmp/cc0VKmst.s:157    .text.SPI_WaitFlagStateUntilTimeout:0000000000000000 SPI_WaitFlagStateUntilTimeout
     /tmp/cc0VKmst.s:337    .text.SPI_WaitFlagStateUntilTimeout:00000000000000d0 $d
     /tmp/cc0VKmst.s:342    .text.SPI_EndRxTxTransaction:0000000000000000 $t
     /tmp/cc0VKmst.s:348    .text.SPI_EndRxTxTransaction:0000000000000000 SPI_EndRxTxTransaction
     /tmp/cc0VKmst.s:427    .text.SPI_EndRxTransaction:0000000000000000 $t
     /tmp/cc0VKmst.s:433    .text.SPI_EndRxTransaction:0000000000000000 SPI_EndRxTransaction
     /tmp/cc0VKmst.s:548    .text.HAL_SPI_MspInit:0000000000000000 $t
     /tmp/cc0VKmst.s:555    .text.HAL_SPI_MspInit:0000000000000000 HAL_SPI_MspInit
     /tmp/cc0VKmst.s:570    .text.HAL_SPI_Init:0000000000000000 $t
     /tmp/cc0VKmst.s:577    .text.HAL_SPI_Init:0000000000000000 HAL_SPI_Init
     /tmp/cc0VKmst.s:729    .text.HAL_SPI_MspDeInit:0000000000000000 $t
     /tmp/cc0VKmst.s:736    .text.HAL_SPI_MspDeInit:0000000000000000 HAL_SPI_MspDeInit
     /tmp/cc0VKmst.s:751    .text.HAL_SPI_DeInit:0000000000000000 $t
     /tmp/cc0VKmst.s:758    .text.HAL_SPI_DeInit:0000000000000000 HAL_SPI_DeInit
     /tmp/cc0VKmst.s:817    .text.HAL_SPI_Transmit:0000000000000000 $t
     /tmp/cc0VKmst.s:824    .text.HAL_SPI_Transmit:0000000000000000 HAL_SPI_Transmit
     /tmp/cc0VKmst.s:1226   .text.HAL_SPI_TransmitReceive:0000000000000000 $t
     /tmp/cc0VKmst.s:1233   .text.HAL_SPI_TransmitReceive:0000000000000000 HAL_SPI_TransmitReceive
     /tmp/cc0VKmst.s:1830   .text.HAL_SPI_Receive:0000000000000000 $t
     /tmp/cc0VKmst.s:1837   .text.HAL_SPI_Receive:0000000000000000 HAL_SPI_Receive
     /tmp/cc0VKmst.s:2183   .text.HAL_SPI_Transmit_IT:0000000000000000 $t
     /tmp/cc0VKmst.s:2190   .text.HAL_SPI_Transmit_IT:0000000000000000 HAL_SPI_Transmit_IT
     /tmp/cc0VKmst.s:2372   .text.HAL_SPI_Transmit_IT:00000000000000a0 $d
     /tmp/cc0VKmst.s:4573   .text.SPI_TxISR_16BIT:0000000000000000 SPI_TxISR_16BIT
     /tmp/cc0VKmst.s:4510   .text.SPI_TxISR_8BIT:0000000000000000 SPI_TxISR_8BIT
     /tmp/cc0VKmst.s:2378   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 $t
     /tmp/cc0VKmst.s:2385   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 HAL_SPI_TransmitReceive_IT
     /tmp/cc0VKmst.s:2599   .text.HAL_SPI_TransmitReceive_IT:00000000000000b8 $d
     /tmp/cc0VKmst.s:5255   .text.SPI_2linesRxISR_16BIT:0000000000000000 SPI_2linesRxISR_16BIT
     /tmp/cc0VKmst.s:5182   .text.SPI_2linesTxISR_16BIT:0000000000000000 SPI_2linesTxISR_16BIT
     /tmp/cc0VKmst.s:5108   .text.SPI_2linesRxISR_8BIT:0000000000000000 SPI_2linesRxISR_8BIT
     /tmp/cc0VKmst.s:5034   .text.SPI_2linesTxISR_8BIT:0000000000000000 SPI_2linesTxISR_8BIT
     /tmp/cc0VKmst.s:2607   .text.HAL_SPI_Receive_IT:0000000000000000 $t
     /tmp/cc0VKmst.s:2614   .text.HAL_SPI_Receive_IT:0000000000000000 HAL_SPI_Receive_IT
     /tmp/cc0VKmst.s:2796   .text.HAL_SPI_Receive_IT:00000000000000d0 $d
     /tmp/cc0VKmst.s:4799   .text.SPI_RxISR_16BIT:0000000000000000 SPI_RxISR_16BIT
     /tmp/cc0VKmst.s:4736   .text.SPI_RxISR_8BIT:0000000000000000 SPI_RxISR_8BIT
     /tmp/cc0VKmst.s:2802   .text.HAL_SPI_Transmit_DMA:0000000000000000 $t
     /tmp/cc0VKmst.s:2809   .text.HAL_SPI_Transmit_DMA:0000000000000000 HAL_SPI_Transmit_DMA
     /tmp/cc0VKmst.s:3012   .text.HAL_SPI_Transmit_DMA:00000000000000d4 $d
     /tmp/cc0VKmst.s:4193   .text.SPI_DMAHalfTransmitCplt:0000000000000000 SPI_DMAHalfTransmitCplt
     /tmp/cc0VKmst.s:5373   .text.SPI_DMATransmitCplt:0000000000000000 SPI_DMATransmitCplt
     /tmp/cc0VKmst.s:5328   .text.SPI_DMAError:0000000000000000 SPI_DMAError
     /tmp/cc0VKmst.s:3019   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 $t
     /tmp/cc0VKmst.s:3026   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 HAL_SPI_TransmitReceive_DMA
     /tmp/cc0VKmst.s:3356   .text.HAL_SPI_TransmitReceive_DMA:000000000000014c $d
     /tmp/cc0VKmst.s:4303   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 SPI_DMAHalfTransmitReceiveCplt
     /tmp/cc0VKmst.s:5619   .text.SPI_DMATransmitReceiveCplt:0000000000000000 SPI_DMATransmitReceiveCplt
     /tmp/cc0VKmst.s:4248   .text.SPI_DMAHalfReceiveCplt:0000000000000000 SPI_DMAHalfReceiveCplt
ARM GAS  /tmp/cc0VKmst.s 			page 226


     /tmp/cc0VKmst.s:5501   .text.SPI_DMAReceiveCplt:0000000000000000 SPI_DMAReceiveCplt
     /tmp/cc0VKmst.s:3365   .text.HAL_SPI_Receive_DMA:0000000000000000 $t
     /tmp/cc0VKmst.s:3372   .text.HAL_SPI_Receive_DMA:0000000000000000 HAL_SPI_Receive_DMA
     /tmp/cc0VKmst.s:3597   .text.HAL_SPI_Receive_DMA:00000000000000f0 $d
     /tmp/cc0VKmst.s:3604   .text.HAL_SPI_Abort:0000000000000000 $t
     /tmp/cc0VKmst.s:3611   .text.HAL_SPI_Abort:0000000000000000 HAL_SPI_Abort
     /tmp/cc0VKmst.s:3897   .text.HAL_SPI_Abort:000000000000012c $d
     /tmp/cc0VKmst.s:3905   .text.HAL_SPI_DMAPause:0000000000000000 $t
     /tmp/cc0VKmst.s:3912   .text.HAL_SPI_DMAPause:0000000000000000 HAL_SPI_DMAPause
     /tmp/cc0VKmst.s:3956   .text.HAL_SPI_DMAResume:0000000000000000 $t
     /tmp/cc0VKmst.s:3963   .text.HAL_SPI_DMAResume:0000000000000000 HAL_SPI_DMAResume
     /tmp/cc0VKmst.s:4007   .text.HAL_SPI_DMAStop:0000000000000000 $t
     /tmp/cc0VKmst.s:4014   .text.HAL_SPI_DMAStop:0000000000000000 HAL_SPI_DMAStop
     /tmp/cc0VKmst.s:4099   .text.HAL_SPI_TxCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4106   .text.HAL_SPI_TxCpltCallback:0000000000000000 HAL_SPI_TxCpltCallback
     /tmp/cc0VKmst.s:4121   .text.HAL_SPI_RxCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4128   .text.HAL_SPI_RxCpltCallback:0000000000000000 HAL_SPI_RxCpltCallback
     /tmp/cc0VKmst.s:4143   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4150   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 HAL_SPI_TxRxCpltCallback
     /tmp/cc0VKmst.s:4165   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4172   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 HAL_SPI_TxHalfCpltCallback
     /tmp/cc0VKmst.s:4187   .text.SPI_DMAHalfTransmitCplt:0000000000000000 $t
     /tmp/cc0VKmst.s:4220   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4227   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 HAL_SPI_RxHalfCpltCallback
     /tmp/cc0VKmst.s:4242   .text.SPI_DMAHalfReceiveCplt:0000000000000000 $t
     /tmp/cc0VKmst.s:4275   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4282   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 HAL_SPI_TxRxHalfCpltCallback
     /tmp/cc0VKmst.s:4297   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 $t
     /tmp/cc0VKmst.s:4330   .text.HAL_SPI_ErrorCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:4337   .text.HAL_SPI_ErrorCallback:0000000000000000 HAL_SPI_ErrorCallback
     /tmp/cc0VKmst.s:4352   .text.SPI_CloseTx_ISR:0000000000000000 $t
     /tmp/cc0VKmst.s:4358   .text.SPI_CloseTx_ISR:0000000000000000 SPI_CloseTx_ISR
     /tmp/cc0VKmst.s:4498   .text.SPI_CloseTx_ISR:0000000000000088 $d
     /tmp/cc0VKmst.s:4504   .text.SPI_TxISR_8BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:4567   .text.SPI_TxISR_16BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:4629   .text.SPI_CloseRx_ISR:0000000000000000 $t
     /tmp/cc0VKmst.s:4635   .text.SPI_CloseRx_ISR:0000000000000000 SPI_CloseRx_ISR
     /tmp/cc0VKmst.s:4730   .text.SPI_RxISR_8BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:4793   .text.SPI_RxISR_16BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:4855   .text.SPI_CloseRxTx_ISR:0000000000000000 $t
     /tmp/cc0VKmst.s:4861   .text.SPI_CloseRxTx_ISR:0000000000000000 SPI_CloseRxTx_ISR
     /tmp/cc0VKmst.s:5022   .text.SPI_CloseRxTx_ISR:00000000000000a8 $d
     /tmp/cc0VKmst.s:5028   .text.SPI_2linesTxISR_8BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:5102   .text.SPI_2linesRxISR_8BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:5176   .text.SPI_2linesTxISR_16BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:5249   .text.SPI_2linesRxISR_16BIT:0000000000000000 $t
     /tmp/cc0VKmst.s:5322   .text.SPI_DMAError:0000000000000000 $t
     /tmp/cc0VKmst.s:5367   .text.SPI_DMATransmitCplt:0000000000000000 $t
     /tmp/cc0VKmst.s:5495   .text.SPI_DMAReceiveCplt:0000000000000000 $t
     /tmp/cc0VKmst.s:5613   .text.SPI_DMATransmitReceiveCplt:0000000000000000 $t
     /tmp/cc0VKmst.s:5714   .text.HAL_SPI_IRQHandler:0000000000000000 $t
     /tmp/cc0VKmst.s:5721   .text.HAL_SPI_IRQHandler:0000000000000000 HAL_SPI_IRQHandler
     /tmp/cc0VKmst.s:5969   .text.HAL_SPI_IRQHandler:0000000000000104 $d
     /tmp/cc0VKmst.s:5980   .text.SPI_DMAAbortOnError:0000000000000000 SPI_DMAAbortOnError
     /tmp/cc0VKmst.s:5974   .text.SPI_DMAAbortOnError:0000000000000000 $t
     /tmp/cc0VKmst.s:6013   .text.HAL_SPI_AbortCpltCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:6020   .text.HAL_SPI_AbortCpltCallback:0000000000000000 HAL_SPI_AbortCpltCallback
ARM GAS  /tmp/cc0VKmst.s 			page 227


     /tmp/cc0VKmst.s:6035   .text.HAL_SPI_Abort_IT:0000000000000000 $t
     /tmp/cc0VKmst.s:6042   .text.HAL_SPI_Abort_IT:0000000000000000 HAL_SPI_Abort_IT
     /tmp/cc0VKmst.s:6368   .text.HAL_SPI_Abort_IT:000000000000013c $d
     /tmp/cc0VKmst.s:6508   .text.SPI_DMATxAbortCallback:0000000000000000 SPI_DMATxAbortCallback
     /tmp/cc0VKmst.s:6384   .text.SPI_DMARxAbortCallback:0000000000000000 SPI_DMARxAbortCallback
     /tmp/cc0VKmst.s:6378   .text.SPI_DMARxAbortCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:6502   .text.SPI_DMATxAbortCallback:0000000000000000 $t
     /tmp/cc0VKmst.s:6641   .text.SPI_DMATxAbortCallback:0000000000000080 $d
     /tmp/cc0VKmst.s:6647   .text.HAL_SPI_GetState:0000000000000000 $t
     /tmp/cc0VKmst.s:6654   .text.HAL_SPI_GetState:0000000000000000 HAL_SPI_GetState
     /tmp/cc0VKmst.s:6672   .text.HAL_SPI_GetError:0000000000000000 $t
     /tmp/cc0VKmst.s:6679   .text.HAL_SPI_GetError:0000000000000000 HAL_SPI_GetError

UNDEFINED SYMBOLS
SystemCoreClock
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
HAL_DMA_Abort_IT
